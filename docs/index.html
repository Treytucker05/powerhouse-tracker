<!DOCTYPE html><html lang=en><script type=importmap>{"imports":{"4ujR8":"./sw.js"}}</script><script src=trainingState.be96fca7.js></script><script src=volume.43331bd9.js></script><script src=ProgramDesignWorkspace.c610cf48.js></script><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>PowerHouseATX Workout Calculator - Advanced Intelligence</title><link rel=manifest href=manifest.webmanifest><meta name=theme-color content=#667eea><meta name=description content="Advanced AI-powered training intelligence system for optimal workout programming and progression"><link rel=preload href=trainingState.be96fca7.js as=script><link rel=preload href=volume.43331bd9.js as=script><link rel=preload href=enhancedAdvanced.5367aac3.css as=style><script src=https://cdn.jsdelivr.net/npm/chart.js></script><link rel=stylesheet href=enhancedAdvanced.5367aac3.css><style>*{box-sizing:border-box;margin:0;padding:0}html{scroll-behavior:smooth}body{color:#fff;background:linear-gradient(135deg,#0a0a0a 0%,#1a1a1a 100%);min-height:100vh;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;line-height:1.6;position:relative;overflow-x:hidden}body:before{content:"";pointer-events:none;z-index:1;background-image:radial-gradient(circle at 20% 80%,#ff00001a 0%,#0000 50%),radial-gradient(circle at 80% 20%,#ff00000d 0%,#0000 50%),radial-gradient(circle at 40% 40%,#ff000008 0%,#0000 50%);position:fixed;inset:0}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-track{background:#0a0a0a}::-webkit-scrollbar-thumb{background:red;border-radius:5px}::-webkit-scrollbar-thumb:hover{background:#c00}.container{z-index:2;width:100%;max-width:1400px;margin:0 auto;position:relative}.header-section{text-align:center;backdrop-filter:blur(10px);background:#1a1a1af2;border:1px solid #ff00004d;border-radius:16px;margin-bottom:40px;padding:35px;position:relative;box-shadow:0 8px 32px #0006,inset 0 1px #ffffff1a}h1{-webkit-text-fill-color:transparent;text-transform:uppercase;letter-spacing:-1.5px;text-shadow:0 0 40px #ff000080;background:linear-gradient(135deg,red 0%,#ff6b6b 100%) text;margin-bottom:.25rem;font-size:3.5rem;font-weight:900;line-height:1}.page-title{color:#e0e0e0;text-transform:uppercase;letter-spacing:.5px;text-shadow:0 0 10px #ffffff1a;margin-bottom:1rem;font-size:2.2rem;font-weight:700}.subtitle{color:#999;letter-spacing:1px;font-size:1.1rem;font-weight:300}.rp-status{background:#0000004d;border:1px solid #f003;border-radius:12px;margin:20px 0;padding:20px}.status-grid{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px;display:grid}.status-item{text-align:center;background:#ffffff0d;border-radius:8px;padding:10px}.status-value{color:red;font-size:1.8rem;font-weight:700}.status-label{color:#ccc;text-transform:uppercase;letter-spacing:.5px;font-size:.9rem}.chart-section{backdrop-filter:blur(10px);background:#1a1a1af2;border:1px solid #ff00004d;border-radius:16px;margin:20px 0;padding:35px;box-shadow:0 8px 32px #0006,inset 0 1px #ffffff1a}.chart-header{flex-wrap:wrap;justify-content:space-between;align-items:center;gap:10px;margin-bottom:20px;display:flex}.chart-controls{flex-wrap:wrap;gap:10px;display:flex}.chart-controls button{margin:0;padding:8px 16px;font-size:.9rem}#weeklyChart{max-height:400px}.volume-status{margin-top:15px}.volume-analysis{flex-wrap:wrap;align-items:center;gap:15px;display:flex}.status-indicator{text-transform:uppercase;letter-spacing:.5px;border-radius:20px;padding:8px 16px;font-size:.9rem;font-weight:700}.status-indicator.under-minimum{color:#fff;background:#f44}.status-indicator.maintenance{color:#fff;background:#fa0}.status-indicator.optimal{color:#000;background:#4f4}.status-indicator.high{color:#000;background:#ff4}.status-indicator.maximum{color:#fff;background:#f44}.landmarks-display{flex-wrap:wrap;gap:15px;display:flex}.landmarks-display span{background:#ffffff1a;border-radius:4px;padding:4px 8px;font-size:.8rem}.section-banner{text-align:center;cursor:pointer;user-select:none;background:linear-gradient(135deg,#f003 0%,#ff00001a 100%);border:1px solid #ff00004d;border-radius:12px;margin:40px 0 20px;padding:20px;transition:all .3s}.section-banner:hover{background:linear-gradient(135deg,#ff00004d 0%,#ff000026 100%)}.section-banner h3{color:#fff;text-transform:uppercase;letter-spacing:1px;justify-content:center;align-items:center;gap:10px;margin-bottom:8px;font-size:1.8rem;font-weight:700;display:flex}.expand-icon{font-size:1.2rem;transition:transform .3s}.section-banner.expanded .expand-icon{transform:rotate(180deg)}.section-content{max-height:0;transition:max-height .4s;overflow:hidden}.section-content.expanded{max-height:3000px}.calculator-grid{grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:2rem;margin-top:2rem;display:grid}.calculator{backdrop-filter:blur(10px);background:#1a1a1af2;border:1px solid #ff00004d;border-radius:16px;margin:20px 0;padding:35px;transition:all .3s;box-shadow:0 8px 32px #0006,inset 0 1px #ffffff1a}.calculator:hover{border-color:#ff000080;transform:translateY(-2px);box-shadow:0 12px 40px #00000080,0 0 20px #ff00001a,inset 0 1px #ffffff1a}.calculator h2{color:#fff;border-bottom:3px solid red;margin-bottom:1.5rem;padding-bottom:.75rem;font-size:2rem;font-weight:700;position:relative}.calculator h2:after{content:"";background:linear-gradient(90deg,red 0%,#0000 100%);width:60px;height:3px;position:absolute;bottom:-3px;left:0}.input-group{margin-bottom:1.5rem}label{color:#fff;text-transform:uppercase;letter-spacing:.5px;margin-bottom:10px;font-size:.95rem;font-weight:600;display:block}input[type=number],select{color:#fff;background:#00000080;border:2px solid #ffffff1a;border-radius:10px;width:100%;padding:14px 16px;font-size:1rem;font-weight:500;transition:all .3s}input[type=number]:focus,select:focus{background:#000000b3;border-color:red;outline:none;box-shadow:0 0 0 4px #ff00001a,inset 0 0 0 1px #f003}input.rir-good{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}input.rir-warning{border-color:#ff9800;box-shadow:0 0 0 2px #ff980033}input.rir-danger{border-color:#f44336;box-shadow:0 0 0 2px #f4433633}.radio-group{flex-wrap:wrap;gap:20px;margin-top:10px;display:flex}.radio-group label{text-transform:none;letter-spacing:normal;cursor:pointer;align-items:center;gap:8px;margin:0;font-size:1rem;font-weight:500;display:flex}input[type=radio]{accent-color:red;width:auto;margin:0;transform:scale(1.2)}input[type=checkbox]{accent-color:red;margin-right:.5rem;transform:scale(1.5)}.helper-text{color:#bbb;margin-top:5px;font-size:.875rem;font-style:italic;line-height:1.4}button{color:#fff;cursor:pointer;text-transform:uppercase;letter-spacing:1px;background:linear-gradient(135deg,red 0%,#c00 100%);border:none;border-radius:10px;justify-content:center;align-items:center;gap:10px;width:100%;margin-top:25px;padding:16px 32px;font-size:1.1rem;font-weight:700;transition:all .3s;display:inline-flex;position:relative;overflow:hidden;box-shadow:0 4px 15px #ff00004d}button:hover{background:linear-gradient(135deg,#ff1a1a 0%,#e60000 100%);transform:translateY(-3px);box-shadow:0 8px 25px #f006}button:active{transform:translateY(-1px);box-shadow:0 4px 15px #ff00004d}button.small{width:auto;margin:5px;padding:8px 16px;font-size:.9rem}.result{background:linear-gradient(135deg,#0009 0%,#000c 100%);border:2px solid #ffffff1a;border-radius:14px;align-items:center;min-height:60px;margin-top:1.5rem;padding:25px;font-weight:600;transition:all .4s;display:flex;position:relative;overflow:hidden}.result.success{color:#a5d6a7;background:linear-gradient(135deg,#2e7d3226 0%,#2e7d3214 100%);border-color:#2e7d32b3}.result.warning{color:#ffcc80;background:linear-gradient(135deg,#f57c0026 0%,#f57c0014 100%);border-color:#f57c00b3}.result.danger{color:#ef9a9a;background:linear-gradient(135deg,#d32f2f26 0%,#d32f2f14 100%);border-color:#d32f2fb3}.feedback-results{width:100%}.main-recommendation{border-bottom:1px solid #ffffff1a;margin-bottom:20px;padding-bottom:15px}.main-recommendation h4{color:red;margin-bottom:10px;font-size:1.2rem}.advice{margin-bottom:8px;font-size:1.1rem;font-weight:600}.sets-info{color:#ccc;font-size:1rem}.algorithm-details{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px;display:grid}.algorithm-details>div{background:#ffffff0d;border-radius:8px;padding:10px;font-size:.9rem}.stimulus-add_sets{color:#4caf50}.stimulus-maintain{color:#ffcc80}.stimulus-reduce_sets{color:#ff9800}.rir-feedback{border-radius:8px;margin-top:15px;padding:12px;font-size:.95rem}.rir-feedback.normal{background:#4caf5033}.rir-feedback.medium{background:#ff980033}.rir-feedback.high{background:#f4433633}.deload-warning{background:#ff980033;border:1px solid #ff980080;border-radius:8px;margin-top:15px;padding:15px;font-weight:600}.advanced-volume-controls{border-top:1px solid #ffffff1a;padding-top:20px}.landmark-grid{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px;margin-bottom:20px;display:grid}.autoregulation-section{border-top:1px solid #ffffff1a;margin-top:20px;padding-top:20px}.autoregulation-section h4{color:red;margin-bottom:15px;font-size:1.2rem}.rir-tooltip{pointer-events:none;font-size:12px;font-weight:600}.rir-schedule-display,.load-feedback-section,.load-progression-section{border-top:1px solid #ffffff1a;margin-top:20px;padding-top:15px}.rir-schedule-display h4,.load-feedback-section h4,.load-progression-section h4{color:red;margin-bottom:12px;font-size:1.1rem;font-weight:600}#rirScheduleContent{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin:15px 0;display:grid}.rir-week-target{text-align:center;background:#ff00001a;border:1px solid #ff00004d;border-radius:8px;padding:12px;font-weight:600}.rir-week-target.current{background:#f003;border-color:#ff000080;box-shadow:0 0 10px #ff00004d}.rir-week-target .week-label{color:#ccc;margin-bottom:4px;font-size:.9rem}.rir-week-target .rir-value{color:red;font-size:1.4rem;font-weight:700}#loadAdjustmentContent,#loadProgressionContent{font-size:.95rem}.load-adjustment-item{background:#ffffff0d;border-left:3px solid red;border-radius:6px;margin:8px 0;padding:10px}.load-adjustment-item .muscle-name{color:red;margin-bottom:4px;font-weight:600}.load-adjustment-item .adjustment-details{color:#ccc;font-size:.9rem}.progression-recommendation{background:#4caf501a;border:1px solid #4caf504d;border-radius:8px;margin:10px 0;padding:15px}.progression-recommendation.maintain{background:#ffc1071a;border-color:#ffc1074d}.progression-recommendation.reduce{background:#f443361a;border-color:#f443364d}.progression-recommendation .action{margin-bottom:8px;font-size:1.1rem;font-weight:600}.progression-recommendation .reasoning{color:#ccc;font-size:.9rem;line-height:1.4}.rir-schedule-info{background:#ffffff08;border:1px solid #ffffff1a;border-radius:8px;margin-top:20px;padding:15px}.rir-schedule-info .helper-text{font-size:.9rem;line-height:1.5}.rir-schedule-display button,.load-feedback-section button,.load-progression-section button{background:linear-gradient(135deg,red 0%,#c00 100%);width:auto;min-width:180px;margin:5px 0}.section-banner.advanced{background:linear-gradient(135deg,#007bff33 0%,#007bff1a 100%);border-color:#007bff4d}.section-content#advanced-content{max-height:0;transition:max-height .4s;display:none;overflow:hidden}.section-content#advanced-content.expanded{max-height:3000px;display:block}.live-session-controls{margin-bottom:20px}.session-controls{flex-wrap:wrap;gap:10px;margin-top:15px;display:flex}.session-controls button{flex:1;min-width:140px;margin:0}.live-monitor{color:#e2e8f0;background:#1a202c;border:1px solid #63b3ed4d;border-radius:15px;margin:20px 0;padding:25px}.live-monitor h4{color:#63b3ed;margin-bottom:20px;font-size:1.1rem}.monitor-grid{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;display:grid}.monitor-stat{text-align:center;background:#ffffff0d;border-radius:10px;padding:15px}.monitor-stat .value{color:#63b3ed;font-size:2em;font-weight:700;display:block}.monitor-stat .label{opacity:.8;margin-top:5px;font-size:.9em}.intelligence-panel{color:#fff;background:linear-gradient(135deg,#1a365d,#2c5282);border-radius:15px;margin:20px 0;padding:25px}.intelligence-panel h4{color:#63b3ed;margin-bottom:20px}.intelligence-controls,.analytics-controls{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;margin:15px 0;display:grid}.intelligence-controls button,.analytics-controls button{margin:0;padding:12px 16px;font-size:.95rem}.system-status{background:#ffffff05;border:1px solid #ffffff1a;border-radius:10px;margin-top:20px;padding:15px}.system-status h4{color:red;margin-bottom:15px}.system-status .status-grid{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;display:grid}.system-status .status-indicator{text-align:center;background:#ffffff08;border-radius:8px;padding:10px}.system-status .status-indicator span:first-child{font-size:1.5em;display:block}.system-status .status-indicator span:last-child{color:#ccc;margin-top:5px;font-size:.8em;display:block}.recommendation{background:#ffffff1a;border-left:4px solid #63b3ed;border-radius:8px;margin:10px 0;padding:15px}.recommendation.high-priority{background:#f565651a;border-left-color:#f56565}.recommendation.medium-priority{background:#ed89361a;border-left-color:#ed8936}.analytics-requirements{background:#ffc1071a;border:1px solid #ffc1074d;border-radius:8px;margin:15px 0;padding:15px}.program-config{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin:20px 0;display:grid}.program-config .input-group{margin:0}.result-panel{border:1px solid #ffffff1a;border-radius:10px;margin-top:15px;padding:20px;font-size:.95rem;line-height:1.5}.result-panel.success{background:#4caf501a;border-color:#4caf504d}.result-panel.warning{background:#ff98001a;border-color:#ff98004d}.result-panel.error{background:#f443361a;border-color:#f443364d}.loading{border:2px solid #f3f3f3;border-top-color:#5a67d8;border-radius:50%;width:20px;height:20px;animation:1s ease-in-out infinite spin;display:inline-block}@keyframes spin{to{transform:rotate(360deg)}}.performance-controls{grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin:15px 0;display:grid}.performance-dashboard{background:#007bff1a;border:1px solid #007bff4d;border-radius:12px;margin:20px 0;padding:20px}.metrics-grid{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:15px;margin-top:15px;display:grid}.metric-card{text-align:center;background:#ffffff0d;border:1px solid #ffffff1a;border-radius:8px;padding:15px}.metric-value{color:#63b3ed;font-size:1.8rem;font-weight:700;display:block}.metric-label{color:#ccc;text-transform:uppercase;letter-spacing:.5px;margin-top:5px;font-size:.8rem}.export-controls{margin:20px 0}.export-options{background:#ffffff08;border-radius:8px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;margin:15px 0;padding:15px;display:grid}.checkbox-label{cursor:pointer;align-items:center;gap:8px;text-transform:none!important;letter-spacing:normal!important;margin:0!important;font-size:.9rem!important;font-weight:500!important;display:flex!important}.export-actions{grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin:15px 0;display:grid}.export-actions button{width:auto!important;margin:0!important}.feedback-controls{grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin:15px 0;display:grid}.feedback-stats{background:#4caf501a;border:1px solid #4caf504d;border-radius:12px;margin:20px 0;padding:20px}.stats-grid{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:15px;margin-top:15px;display:grid}.stat-item{text-align:center;background:#ffffff0d;border:1px solid #ffffff1a;border-radius:8px;padding:15px}.stat-value{color:#4caf50;font-size:1.8rem;font-weight:700;display:block}.stat-label{color:#ccc;text-transform:uppercase;letter-spacing:.5px;margin-top:5px;font-size:.8rem}.feedback-widget{z-index:1000;position:fixed;top:50%;right:20px;transform:translateY(-50%)}.feedback-toggle{color:#fff;cursor:pointer;background:linear-gradient(135deg,red 0%,#c00 100%);border-radius:20px 0 0 20px;padding:10px 15px;font-size:.9rem;font-weight:600;transition:all .3s;box-shadow:-3px 0 10px #0000004d}.feedback-toggle:hover{background:linear-gradient(135deg,#ff1a1a 0%,#e60000 100%);transform:translate(-5px)}.feedback-panel{backdrop-filter:blur(10px);background:#1a1a1af2;border:1px solid #ff00004d;border-radius:12px;width:320px;padding:20px;position:absolute;top:0;right:100%;box-shadow:-5px 0 20px #00000080}.feedback-header{border-bottom:1px solid #ffffff1a;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:10px;display:flex}.feedback-header h3{color:red;margin:0;font-size:1.1rem}.feedback-header button{color:#ccc;cursor:pointer;background:0 0;border:none;width:auto;height:auto;margin:0;padding:0;font-size:1.5rem}</style><body>

<div class=container>  <header class=header-section>
    <h1>PowerHouseATX</h1>
    <div class=page-title>Workout Calculator</div>
    <p class=subtitle>Evidence-Based Muscle Building</p>
    
    
    <div class=quick-start-guide id=quickStartGuide>
      <h3>🚀 First-Time Quick-Start Guide</h3>
      <div class=quick-start-content>
        <ol class=quick-start-steps>
          <li><strong>Set volume landmarks</strong> → open "Program Setup" section below</li>
          <li><strong>Track daily volume</strong> → use "Daily Volume" for each muscle group</li>
          <li><strong>Log a workout</strong> → use "Set Feedback" after each exercise</li>
          <li><strong>End of week</strong> → tick "Last workout" &amp; review Weekly analysis</li>
          <li><strong>Start next week</strong> → follow the new RIR target</li>
        </ol>
        <div class=quick-start-actions>
          <button class=quick-start-btn onclick=dismissQuickStart()>Got it, hide this guide</button>
          <label class=quick-start-checkbox>
            <input type=checkbox id=dontShowQuickStart> Don't show again
          </label>
        </div>
      </div>
    </div>
    
    
    <div class=rp-status>
      <h3>Current Training Status</h3>
      <div class=status-grid>
        <div class=status-item>
          <div class=status-value id=currentWeek>1</div>
          <div class=status-label>Week</div>
        </div>
        <div class=status-item>
          <div class=status-value id=currentMeso>4</div>
          <div class=status-label>Meso Length</div>
        </div>
        <div class=status-item>
          <div class=status-value id=currentBlock>1</div>
          <div class=status-label>Block</div>
        </div>
        <div class=status-item>
          <div class=status-value id=targetRIR>4.5</div>
          <div class=status-label>Target RIR</div>
        </div>
        <div class=status-item>
          <div class=status-value id=currentPhase>Accumulation</div>
          <div class=status-label>Phase</div>
        </div>
      </div>
    </div>
  </header>

  
  <div class=chart-section>    <div class=chart-header>
      <h2>Weekly Volume by Muscle</h2>
      <div class=chart-controls>
        <button class=small onclick=resetWeeklyData()>Reset Week</button>
        <button class=small onclick=exportSummary()>📊 Export Chart</button>
      </div>
    </div>
    <canvas id=weeklyChart></canvas>
  </div>  <div class=section-banner onclick="toggleSection('daily')">
    <h3>Daily Training <span class=expand-icon>▼</span></h3>
    <p>Use during or right after your workout</p>
  </div>

  <div class=section-content id=daily-content>
    <div class=calculator-grid>
      
      
      <section class=calculator id=mevCard>
        <h2>Set Feedback (RP Algorithms)</h2>
        
        <div class=input-group>
          <label for=muscleSelect>Muscle group:</label>
          <select id=muscleSelect>
            <option value=Chest>Chest</option>
            <option value=Back>Back</option>
            <option value=Quads>Quads</option>
            <option value=Hamstrings>Hamstrings</option>
            <option value=Shoulders>Shoulders</option>
            <option value=Biceps>Biceps</option>
            <option value=Triceps>Triceps</option>
            <option value=Calves>Calves</option>
            <option value=Abs>Abs</option>
            <option value=Forearms>Forearms</option>
            <option value=Neck>Neck</option>
            <option value=Traps>Traps</option>
          </select>
        </div>

        <div class=input-group>
          <label for=currentSets>Current weekly sets:</label>
          <input type=number id=currentSets min=0 value=0>
          <div class=helper-text>Click to edit inline</div>
        </div>

        <div class=input-group>
          <label>Stimulus Quality (RP Table 2.2):</label>
          <div style=grid-template-columns:repeat(3,1fr);gap:15px;display:grid>
            <div>
              <label for=mmc style=font-size:.8rem>Mind-Muscle (0-3):</label>
              <input type=number id=mmc min=0 max=3 value=2>
            </div>
            <div>
              <label for=pump style=font-size:.8rem>Pump (0-3):</label>
              <input type=number id=pump min=0 max=3 value=2>
            </div>
            <div>
              <label for=dis style=font-size:.8rem>Disruption (0-3):</label>
              <input type=number id=dis min=0 max=3 value=2>
            </div>
          </div>
          <div class=helper-text>Rate the quality of your last exercise (0=poor, 3=excellent)</div>
        </div>

        <div class=input-group>
          <label>Performance vs last time:</label>
          <div class=radio-group>
            <label><input type=radio name=perf value=3> Much Better</label>
            <label><input type=radio name=perf value=2 checked> Better</label>
            <label><input type=radio name=perf value=1> Same</label>
            <label><input type=radio name=perf value=0> Worse</label>
          </div>
        </div>

        <div class=input-group>
          <label for=sore>Current soreness level (0-3):</label>
          <input type=number id=sore min=0 max=3 value=1>
          <div class=helper-text>0=None, 1=Mild, 2=Moderate, 3=High</div>
        </div>

        
        <div class=input-group>
          <label for=jointAche>Joint ache level (0-3):</label>
          <input type=number id=jointAche min=0 max=3 value=0>
          <div class=helper-text>0=None, 1=Mild, 2=Moderate, 3=Pain</div>
        </div>

        <div class=input-group>
          <label for=perfChange>Performance change:</label>
          <select id=perfChange>
            <option value=1>Personal Record (+1)</option>
            <option value=0 selected>Same as last time (0)</option>
            <option value=-1>Performance drop (-1)</option>
          </select>
          <div class=helper-text>Strength performance vs recent sessions</div>
        </div>

        
        <div class=autoregulation-section>
          <h4>Effort Validation</h4>
          <div class=input-group>
            <label for=actualRIR>Actual RIR this set:</label>
            <input type=number id=actualRIR min=0 max=10 step=0.5 placeholder="e.g. 2.5">
            <div class=helper-text>How many more reps could you have done? (Target: <span id=targetRIRDisplay>4.5</span>)</div>
          </div>
        </div>

        <button onclick=submitFeedback()>Process with RP Algorithms</button>
        <output id=mevOut class=result></output>
      </section>

    </div>
  </div>

  <div class=section-banner onclick="toggleSection('weekly')">
    <h3>Weekly Planning <span class=expand-icon>▼</span></h3>
    <p>End-of-week review and next week setup</p>
  </div>

  <div class=section-content id=weekly-content>
    <div class=calculator-grid>

      
      <section class=calculator id=deloadCard>
        <h2>Deload Analysis</h2>
        
        <div class=input-group>
          <label>
            <input type=checkbox id=halfMuscles> Most muscles needed recovery (≥6 muscle groups)
          </label>
        </div>
        
        <div class=input-group>
          <label>
            <input type=checkbox id=mrvBreach> Hit MRV twice in a row
          </label>
        </div>
        
        <div class=input-group>
          <label>
            <input type=checkbox id=illness> Illness / Minor Injury
          </label>
        </div>

        <div class=input-group>
          <label>
            <input type=checkbox id=lowMotivation> Low motivation/enjoyment
          </label>
        </div>
        
        <button onclick=analyzeDeload()>Analyze Deload Need</button>
        <output id=deloadOut class=result></output>
      </section>

      
      <section class=calculator id=autoVolumeCard>
        <h2>🤖 Auto-Volume Progression</h2>
        
        <div class=input-group>
          <p class=helper-text>Automatically progress all muscles based on weekly feedback. System starts each muscle at MEV and adds +1-2 sets per week based on recovery indicators.</p>
        </div>
          <div class=input-group>
          <h4>Progression Logic:</h4>
          <ul style="margin:10px 0;padding-left:20px;font-size:.9rem">
            <li><strong>Start:</strong> All muscles begin at MEV</li>
            <li><strong>+1 set:</strong> Good recovery (soreness ≤1, performance ≥0)</li>
            <li><strong>+2 sets:</strong> At MEV or low stimulus (≤3)</li>
            <li><strong>Hold volume:</strong> At MRV or fatigue present</li>
            <li><strong>Deload:</strong> Most muscles at MRV</li>
          </ul>
        </div>
          <div class=input-group style=flex-wrap:wrap;gap:10px;display:flex>
          <button type=button class=small onclick=initializeAllMusclesAtMEV() style=background:linear-gradient(135deg,#4caf50,#45a049);flex:1;min-width:150px>🎯 Initialize at MEV</button>
          <button type=button class=small onclick=advanceToNextWeek() style=background:linear-gradient(135deg,#2196f3,#1976d2);flex:1;min-width:150px>📅 Next Week</button>
          <button onclick=runAutoVolumeProgression() style=background:linear-gradient(135deg,#f44,#f66);flex:2;min-width:200px;font-weight:700>▶️ Run Weekly Auto-Progression</button>
        </div>
        <output id=autoVolumeOut class=result>
      </output></section>

      
      <section class=calculator id=freqCard>
        <h2>Frequency Optimization</h2>
        
        <div class=input-group>
          <label for=soreDays>Days until soreness gone:</label>
          <input type=number id=soreDays min=0 value=2>
        </div>
        
        <div class=input-group>
          <label for=sessionGap>Current session gap (days):</label>
          <input type=number id=sessionGap min=1 value=3>
        </div>
        
        <div class=input-group>
          <label for=trainingAge>Training experience:</label>
          <select id=trainingAge>
            <option value=beginner>Beginner (&lt; 1 year)</option>
            <option value=intermediate selected>Intermediate (1-3 years)</option>
            <option value=advanced>Advanced (&gt; 3 years)</option>
          </select>
        </div>
        
        <button onclick=analyzeFrequency()>Optimize Frequency</button>
        <output id=freqOut class=result></output>
      </section>

    </div>
  </div>

  <div class=section-banner onclick="toggleSection('setup')">
    <h3>Program Setup <span class=expand-icon>▼</span></h3>
    <p>Configure volume landmarks and training blocks</p>
  </div>

  <div class=section-content id=setup-content>
    <div class=calculator-grid>

      
      <section class=calculator id=volumeCard>
        <h2>Volume Landmarks (RP Method)</h2>
        
        <div class=input-group>
          <label for=landmarkMuscle>Muscle to configure:</label>
          <select id=landmarkMuscle>
            <option value=Chest>Chest</option>
            <option value=Back>Back</option>
            <option value=Quads>Quads</option>
            <option value=Hamstrings>Hamstrings</option>
            <option value=Shoulders>Shoulders</option>
            <option value=Biceps>Biceps</option>
            <option value=Triceps>Triceps</option>
            <option value=Calves>Calves</option>
            <option value=Abs>Abs</option>
            <option value=Forearms>Forearms</option>
            <option value=Neck>Neck</option>
            <option value=Traps>Traps</option>
          </select>
        </div>

        <div class=landmark-grid>
          <div class=input-group>
            <label for=mv>MV (Maintenance Volume):</label>
            <input type=number id=mv min=0 value=4>
            <div class=helper-text>Minimum to maintain muscle</div>
          </div>
          
          <div class=input-group>
            <label for=mev>MEV (Minimum Effective):</label>
            <input type=number id=mev min=0 value=8>
            <div class=helper-text>Minimum for growth</div>
          </div>
          
          <div class=input-group>
            <label for=mav>MAV (Maximum Adaptive):</label>
            <input type=number id=mav min=0 value=16>
            <div class=helper-text>Best volume for adaptation</div>
          </div>
          
          <div class=input-group>
            <label for=mrv>MRV (Maximum Recoverable):</label>
            <input type=number id=mrv min=0 value=22>
            <div class=helper-text>Maximum you can recover from</div>
          </div>
        </div>

        <div class=input-group>
          <button type=button class=small onclick="applyVolumePreset('beginner')">Beginner Preset</button>
          <button type=button class=small onclick="applyVolumePreset('intermediate')">Intermediate Preset</button>
          <button type=button class=small onclick="applyVolumePreset('advanced')">Advanced Preset</button>
        </div>
        
        <button onclick=saveLandmarks()>Save Volume Landmarks</button>
        <output id=volumeOut class=result></output>

        
        <div id=volumeStatus class=volume-status></div>
      </section>

      
      <section class=calculator id=mesoCard>
        <h2>Mesocycle Setup</h2>
        
        <div class=input-group>
          <label for=mesoLength>Mesocycle length (weeks):</label>
          <input type=number id=mesoLength min=2 max=8 value=4>
          <div class=helper-text>Typical range: 3-6 weeks</div>
        </div>
        
        <div class=input-group>
          <label for=currentWeekNum>Current week number:</label>
          <input type=number id=currentWeekNum min=1 value=1>
        </div>

        <div class=input-group>
          <label for=trainingGoal>Primary goal:</label>
          <select id=trainingGoal>
            <option value=hypertrophy selected>Hypertrophy</option>
            <option value=strength>Strength</option>
            <option value=power>Power</option>
            <option value=endurance>Endurance</option>
          </select>
        </div>
        
        <button onclick=setupMeso()>Setup Mesocycle</button>
        <output id=mesoOut class=result></output>
      </section>

      
      <section class=calculator id=rirScheduleCard>
        <h2>RIR Schedule &amp; Load Feedback</h2>
        
        <div class=input-group>
          <label for=rirMesocycleLength>Mesocycle length (weeks):</label>
          <input type=number id=rirMesocycleLength min=3 max=6 value=4>
          <div class=helper-text>Standard progression: 4-6 weeks</div>
        </div>
        
        <div class=input-group>
          <label for=rirCurrentWeek>Current week:</label>
          <input type=number id=rirCurrentWeek min=1 max=6 value=1>
        </div>

        <div class=rir-schedule-display>
          <button onclick=showRIRSchedule() class=small>Show RIR Schedule</button>
          <div id=rirScheduleDisplay class=result style=display:none>
            <h4>Weekly RIR Targets</h4>
            <div id=rirScheduleContent></div>
          </div>
        </div>

        <div class=load-feedback-section>
          <h4>Weekly Load Adjustments</h4>
          <div class=input-group>
            <label>
              <input type=checkbox id=simulateRIRFeedback checked>
              Use simulated RIR feedback for demo
            </label>
            <div class=helper-text>Uncheck to manually input RIR values</div>
          </div>
          
          <button onclick=runWeeklyLoadAdjustments() class=small>Process Weekly Adjustments</button>
          <div id=loadAdjustmentResults class=result style=display:none>
            <div class=feedback-results>
              <div id=loadAdjustmentContent></div>
            </div>
          </div>
        </div>

        <div class=load-progression-section>
          <h4>Next Week Progression</h4>
          <button onclick=showNextWeekLoadProgression() class=small>Show Load Progression</button>
          <div id=loadProgressionResults class=result style=display:none>
            <div class=feedback-results>
              <div id=loadProgressionContent></div>
            </div>
          </div>
        </div>

        <div class=rir-schedule-info>
          <div class=helper-text>
            <strong>RIR Schedule System:</strong><br>
            • Automatically progresses RIR targets weekly: [3, 2, 1, 0]<br>
            • Processes feedback to adjust training loads (-15% to +15%)<br>
            • Provides next week progression recommendations<br>
            • Integrates with auto-progression system
          </div>
        </div>
      </section>

    </div>
  </div>

  
  <div class="advanced section-banner" onclick="toggleSection('advanced')">
    <h3>Advanced Intelligence <span class=expand-icon>▼</span></h3>
    <p>AI-powered training optimization and live performance monitoring</p>
  </div>

  <div class=section-content id=advanced-content>
    <div class=calculator-grid>

      
      <section class=calculator id=liveMonitorCard>
        <h2>🔴 Live Performance Monitor</h2>
        
        <div class=input-group>
          <p class=helper-text>Real-time feedback during training sessions with automatic performance analysis and next-set recommendations.</p>
        </div>

        <div class=live-session-controls>
          <div class=input-group>
            <label for=liveExercise>Exercise:</label>
            <input id=liveExercise placeholder="e.g. Barbell Bench Press" value="Barbell Bench Press">
          </div>

          <div class=input-group>
            <label for=liveMuscle>Primary Muscle:</label>
            <select id=liveMuscle>
              <option value=Chest>Chest</option>
              <option value=Back>Back</option>
              <option value=Quads>Quads</option>
              <option value=Hamstrings>Hamstrings</option>
              <option value=Shoulders>Shoulders</option>
              <option value=Biceps>Biceps</option>
              <option value=Triceps>Triceps</option>
            </select>
          </div>

          <div class=input-group>
            <label for=plannedSets>Planned Sets:</label>
            <input type=number id=plannedSets min=1 max=10 value=3>
          </div>

          <div class=session-controls>
            <button id=startSessionBtn onclick=startLiveSession()>🎮 Start Live Session</button>
            <button id=logSetBtn onclick=logTrainingSet() style=display:none>📊 Log Set</button>
            <button id=endSessionBtn onclick=endLiveSession() style=display:none>⏹️ End Session</button>
          </div>
        </div>

        
        <div class=live-monitor id=liveMonitor style=display:none>
          <h4>🔴 Live Training Monitor</h4>
          <div class=monitor-grid>
            <div class=monitor-stat>
              <div class=value id=currentSet>0</div>
              <div class=label>Current Set</div>
            </div>
            <div class=monitor-stat>
              <div class=value id=currentRIR>-</div>
              <div class=label>Last RIR</div>
            </div>
            <div class=monitor-stat>
              <div class=value id=sessionProgress>0%</div>
              <div class=label>Progress</div>
            </div>
            <div class=monitor-stat>
              <div class=value id=totalLoad>0</div>
              <div class=label>Total Load</div>
            </div>
          </div>
        </div>

        <output id=liveMonitorOut class=result></output>
      </section>

      
      <section class=calculator id=trainingIntelligenceCard>
        <h2>🧠 Training Intelligence Hub</h2>
        
        <div class=input-group>
          <p class=helper-text>Unified intelligence system that coordinates machine learning analytics, smart exercise selection, and performance optimization.</p>
        </div>

        <div class=intelligence-controls>
          <button onclick=initializeIntelligence()>🚀 Initialize Intelligence</button>
          <button onclick=getWeeklyIntelligence()>📈 Weekly Intelligence Report</button>
          <button onclick=getOptimalExercises()>💡 Smart Exercise Selection</button>
          <button onclick=assessTrainingRisk()>⚠️ Risk Assessment</button>
        </div>

        
        <div class=intelligence-panel id=intelligencePanel style=display:none>
          <h4>🎯 Training Intelligence Dashboard</h4>
          <div id=intelligenceContent></div>
        </div>

        
        <div class=system-status>
          <h4>⚙️ System Status</h4>
          <div class=status-grid>
            <div class=status-indicator>
              <span id=analyticsStatus>❌</span>
              <span>Analytics</span>
            </div>
            <div class=status-indicator>
              <span id=exerciseStatus>✅</span>
              <span>Exercise AI</span>
            </div>
            <div class=status-indicator>
              <span id=liveStatus>✅</span>
              <span>Live Monitor</span>
            </div>
            <div class=status-indicator>
              <span id=hubStatus>✅</span>
              <span>Intelligence Hub</span>
            </div>
          </div>
        </div>

        <output id=intelligenceOut class=result></output>
      </section>

      
      <section class=calculator id=analyticsCard>
        <h2>📊 Predictive Analytics</h2>
        
        <div class=input-group>
          <p class=helper-text>Machine learning powered insights for volume optimization, deload prediction, and plateau detection.</p>
        </div>

        <div class=analytics-controls>
          <button onclick=optimizeVolumeLandmarks()>🎯 Optimize Volume Landmarks</button>
          <button onclick=predictDeloadTiming()>🔮 Predict Deload Timing</button>
          <button onclick=detectPlateaus()>📈 Plateau Analysis</button>
          <button onclick=getAdaptiveRIR()>🎛️ Adaptive RIR Recommendations</button>
        </div>

        <div class=analytics-requirements id=analyticsRequirements>
          <div class=helper-text>
            <strong>📊 Analytics Requirements:</strong><br>
            • Minimum 4 weeks of training data needed<br>
            • System learns from your session feedback<br>
            • More data = Better predictions<br>
            • Auto-enabled when sufficient data available
          </div>
        </div>

        <output id=analyticsOut class=result></output>
      </section>

      
      <section class=calculator id=programGeneratorCard>
        <h2>🏋️ Smart Program Generator</h2>
        
        <div class=input-group>
          <p class=helper-text>AI-powered weekly program generation based on your preferences, equipment, and current fatigue levels.</p>
        </div>

        <div class=program-config>
          <div class=input-group>
            <label for=programDays>Days per week:</label>
            <select id=programDays>
              <option value=3>3 Days</option>
              <option value=4 selected>4 Days</option>
              <option value=5>5 Days</option>
              <option value=6>6 Days</option>
            </select>
          </div>

          <div class=input-group>
            <label for=programSplit>Split Type:</label>
            <select id=programSplit>
              <option value=upper_lower selected>Upper/Lower</option>
              <option value=push_pull_legs>Push/Pull/Legs</option>
              <option value=full_body>Full Body</option>
              <option value=bro_split>Bro Split</option>
            </select>
          </div>

          <div class=input-group>
            <label for=sessionTime>Session Duration:</label>
            <select id=sessionTime>
              <option value=45>45 minutes</option>
              <option value=60 selected>60 minutes</option>
              <option value=75>75 minutes</option>
              <option value=90>90 minutes</option>
            </select>
          </div>

          <div class=input-group>
            <label for=experienceLevel>Experience Level:</label>
            <select id=experienceLevel>
              <option value=beginner>Beginner</option>
              <option value=intermediate selected>Intermediate</option>
              <option value=advanced>Advanced</option>
            </select>
          </div>
        </div>

        <button onclick=generateWeeklyProgram()>📋 Generate Weekly Program</button>
        <output id=programOut class=result></output>
      </section>

      
      <section class=calculator id=performanceCard>
        <h2>⚡ Performance Monitor</h2>
        
        <div class=input-group>
          <p class=helper-text>Real-time performance monitoring, optimization analytics, and system health tracking for optimal app performance.</p>
        </div>

        <div class=performance-controls>
          <button onclick=performanceManager.initialize()>🚀 Initialize Monitoring</button>
          <button onclick=performanceManager.generateReport()>📊 Performance Report</button>
          <button onclick=performanceManager.optimizeApp()>⚙️ Optimize App</button>
          <button onclick=performanceManager.clearCache()>🧹 Clear Cache</button>
        </div>

        
        <div class=performance-dashboard id=performanceDashboard style=display:none>
          <h4>📈 Performance Metrics</h4>
          <div class=metrics-grid>
            <div class=metric-card>
              <div class=metric-value id=loadTime>-</div>
              <div class=metric-label>Load Time (ms)</div>
            </div>
            <div class=metric-card>
              <div class=metric-value id=memoryUsage>-</div>
              <div class=metric-label>Memory (MB)</div>
            </div>
            <div class=metric-card>
              <div class=metric-value id=renderTime>-</div>
              <div class=metric-label>Render Time (ms)</div>
            </div>
            <div class=metric-card>
              <div class=metric-value id=fps>-</div>
              <div class=metric-label>FPS</div>
            </div>
          </div>
        </div>

        <output id=performanceOut class=result></output>
      </section>

      
      <section class=calculator id=dataExportCard>
        <h2>💾 Data Export &amp; Backup</h2>
        
        <div class=input-group>
          <p class=helper-text>Export your training data, create backups, and manage data in multiple formats for analysis and portability.</p>
        </div>

        <div class=export-controls>
          <div class=input-group>
            <label for=exportFormat>Export Format:</label>
            <select id=exportFormat>
              <option value=json selected>JSON (Complete)</option>
              <option value=csv>CSV (Spreadsheet)</option>
              <option value=excel>Excel (Advanced)</option>
            </select>
          </div>

          <div class=export-options>
            <label class=checkbox-label>
              <input type=checkbox id=includePersonal checked>
              Include Personal Data
            </label>
            <label class=checkbox-label>
              <input type=checkbox id=includeAnalytics checked>
              Include Analytics
            </label>
            <label class=checkbox-label>
              <input type=checkbox id=includeWellness checked>
              Include Wellness Data
            </label>
            <label class=checkbox-label>
              <input type=checkbox id=compressData checked>
              Compress Data
            </label>
          </div>

          <div class=export-actions>
            <button onclick=dataExportManager.exportAllData()>📤 Export All Data</button>
            <button onclick=dataExportManager.createBackup()>💾 Create Backup</button>
            <button onclick=dataExportManager.importData()>📥 Import Data</button>
            <button onclick=dataExportManager.scheduleAutoBackup()>⏰ Auto Backup</button>
          </div>
        </div>

        <output id=exportOut class=result></output>
      </section>

      
      <section class=calculator id=feedbackCard>
        <h2>💬 Feedback &amp; Analytics</h2>
        
        <div class=input-group>
          <p class=helper-text>Share feedback, track usage analytics, and help improve the training system through smart data collection.</p>
        </div>

        <div class=feedback-controls>
          <button onclick=userFeedbackManager.initializeFeedbackSystem()>🎯 Initialize Feedback</button>
          <button onclick=userFeedbackManager.showFeedbackForm()>💭 Submit Feedback</button>
          <button onclick=userFeedbackManager.viewAnalytics()>📊 View Analytics</button>
          <button onclick=userFeedbackManager.exportFeedbackData()>📤 Export Feedback</button>
        </div>

        
        <div class=feedback-stats id=feedbackStats style=display:none>
          <h4>📈 Feedback Analytics</h4>
          <div class=stats-grid>
            <div class=stat-item>
              <div class=stat-value id=totalFeedback>0</div>
              <div class=stat-label>Total Feedback</div>
            </div>
            <div class=stat-item>
              <div class=stat-value id=avgRating>-</div>
              <div class=stat-label>Avg Rating</div>
            </div>
            <div class=stat-item>
              <div class=stat-value id=sessionsTracked>0</div>
              <div class=stat-label>Sessions</div>
            </div>
            <div class=stat-item>
              <div class=stat-value id=improvementScore>-</div>
              <div class=stat-label>Improvement</div>
            </div>
          </div>
        </div>

        <output id=feedbackOut class=result></output>
      </section>

    </div>
  </div>
</div>


<script>function initializeCollapsibleSections(){["daily","weekly","setup","advanced"].forEach(e=>{let t=document.getElementById(e+"-content"),n=t.previousElementSibling,i=n.querySelector(".expand-icon");t.classList.contains("expanded")?(n.classList.add("expanded"),i.style.transform="rotate(180deg)"):(n.classList.remove("expanded"),i.style.transform="rotate(0deg)")})}function dismissQuickStart(){let e=document.getElementById("quickStartGuide"),t=document.getElementById("dontShowQuickStart");e&&e.classList.add("hidden"),t&&t.checked&&localStorage.setItem("rpQuickStartDismissed","true")}function initQuickStartGuide(){let e=document.getElementById("quickStartGuide"),t="true"===localStorage.getItem("rpQuickStartDismissed");e&&t&&e.classList.add("hidden")}window.toggleSection=function(e){let t=document.getElementById(e+"-content"),n=t.previousElementSibling,i=n.querySelector(".expand-icon");t.classList.contains("expanded")?(t.classList.remove("expanded"),n.classList.remove("expanded"),i&&(i.style.transform="rotate(0deg)"),t.addEventListener("transitionend",function e(){t.style.display="none",t.removeEventListener("transitionend",e)})):(t.style.display="block",requestAnimationFrame(()=>{t.classList.add("expanded"),n.classList.add("expanded"),i&&(i.style.transform="rotate(180deg)")}))},document.addEventListener("DOMContentLoaded",function(){initializeCollapsibleSections(),initQuickStartGuide()});</script>

<script>!function(e,t,a,n,r,o,l,s){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof i[n]&&i[n],d=u.i||{},m=u.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function p(t,a){if(!m[t]){if(!e[t]){if(r[t])return r[t];var o="function"==typeof i[n]&&i[n];if(!a&&o)return o(t,!0);if(u)return u(t,!0);if(c&&"string"==typeof t)return c(t);var l=Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}d.resolve=function(a){var n=e[t][1][a];return null!=n?n:a},d.cache={};var s=m[t]=new p.Module(t);e[t][0].call(s.exports,d,s,s.exports,i)}return m[t].exports;function d(e){var t=d.resolve(e);return!1===t?{}:p(t)}}p.isParcelRequire=!0,p.Module=function(e){this.id=e,this.bundle=p,this.require=c,this.exports={}},p.modules=e,p.cache=m,p.parent=u,p.distDir=void 0,p.publicUrl=void 0,p.devServer=void 0,p.i=d,p.register=function(t,a){e[t]=[function(e,t){t.exports=a},{}]},Object.defineProperty(p,"root",{get:function(){return i[n]}}),i[n]=p;for(var g=0;g<t.length;g++)p(t[g]);if(a){var f=p(a);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof define&&define.amd&&define(function(){return f})}}({"9ATGT":[function(e,t,a,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js"),o=e("./js/core/trainingState.js"),l=r.interopDefault(o),s=e("./js/ui/chartManager.js"),i=e("./js/ui/volumeCardUI.js"),u=e("./js/ui/feedbackFormUI.js");function d(){let e=l.default.getStateSummary();document.getElementById("currentWeek").textContent=e.week,document.getElementById("currentMeso").textContent=e.meso,document.getElementById("currentBlock").textContent=e.block,document.getElementById("targetRIR").textContent=e.targetRIR.toFixed(1),document.getElementById("currentPhase").textContent=e.currentPhase,document.getElementById("targetRIRDisplay").textContent=e.targetRIR.toFixed(1)}e("./js/algorithms/volume.js"),e("./js/algorithms/effort.js"),e("./js/algorithms/fatigue.js"),e("./js/algorithms/validation.js"),window.trainingState=l.default,window.updateChart=s.updateChart,window.resetWeeklyData=s.resetChart,window.showVolumeLandmarks=s.addVolumeLandmarks,document.addEventListener("DOMContentLoaded",function(){d(),(0,s.initChart)(),(0,i.initVolumeCard)(),(0,u.initFeedbackForm)(),(0,i.updateVolumeDisplays)(),(0,s.updateChart)(),d(),l.default.migrateLegacyData(),console.log("RP Toolkit initialized")}),document.addEventListener("change",function(e){if("landmarkMuscle"===e.target.id){let t=e.target.value,a=l.default.volumeLandmarks[t];document.getElementById("mv").value=a.MV,document.getElementById("mev").value=a.MEV,document.getElementById("mav").value=a.MAV,document.getElementById("mrv").value=a.MRV}})},{"./js/core/trainingState.js":"e7afj","./js/ui/chartManager.js":"gBqFM","./js/ui/volumeCardUI.js":"bOIzP","./js/ui/feedbackFormUI.js":"9pPgQ","./js/algorithms/volume.js":"boGW6","./js/algorithms/effort.js":"hZYkR","./js/algorithms/fatigue.js":"3GKzs","./js/algorithms/validation.js":"zNaOk","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],gBqFM:[function(e,t,a,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(a),r.export(a,"initChart",()=>u),r.export(a,"updateChart",()=>d),r.export(a,"resetChart",()=>m),r.export(a,"addVolumeLandmarks",()=>p),r.export(a,"exportChartImage",()=>g),r.export(a,"showDeloadVisualization",()=>c),r.export(a,"weeklyChart",()=>s);var o=e("../core/trainingState.js"),l=r.interopDefault(o);let s=null,i=Object.keys(l.default.volumeLandmarks);function u(){let e=document.getElementById("weeklyChart");if(!e)return console.error("Chart canvas not found"),null;let t=e.getContext("2d");if(!t)return console.error("Cannot get canvas context"),null;if("undefined"==typeof Chart)return console.error("Chart.js not loaded"),null;let a=i.map(e=>l.default.currentWeekSets[e]||0),n=i.map(e=>l.default.getVolumeColor(e));return s=new Chart(t,{type:"bar",data:{labels:i,datasets:[{label:"Current Sets",data:a,backgroundColor:n,borderColor:n.map(e=>e.replace("0.6","1")),borderWidth:2},{label:"MEV",data:i.map(e=>l.default.volumeLandmarks[e].MEV),type:"line",borderColor:"rgba(255, 255, 0, 0.8)",backgroundColor:"transparent",borderWidth:2,pointRadius:3,pointBackgroundColor:"rgba(255, 255, 0, 1)",borderDash:[5,5]},{label:"MRV",data:i.map(e=>l.default.volumeLandmarks[e].MRV),type:"line",borderColor:"rgba(255, 0, 0, 0.8)",backgroundColor:"transparent",borderWidth:2,pointRadius:3,pointBackgroundColor:"rgba(255, 0, 0, 1)",borderDash:[10,5]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#fff"}},tooltip:{callbacks:{afterLabel:function(e){let t=e.label,a=e.parsed.y,n=l.default.volumeLandmarks[t],r=l.default.getVolumeStatus(t,a);return[`Status: ${r}`,`MEV: ${n.MEV} | MRV: ${n.MRV}`,`Target RIR: ${l.default.getTargetRIR()}`]}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#fff",stepSize:1}},x:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#fff"}}}}})}function d(){if(!s)return;let e=i.map(e=>l.default.currentWeekSets[e]||0),t=i.map(e=>l.default.getVolumeColor(e));s.data.datasets[0].data=e,s.data.datasets[0].backgroundColor=t,s.data.datasets[0].borderColor=t.map(e=>e.replace("0.6","1")),s.data.datasets[1].data=i.map(e=>l.default.volumeLandmarks[e].MEV),s.data.datasets[2].data=i.map(e=>l.default.volumeLandmarks[e].MRV),s.update()}function m(){i.forEach(e=>{l.default.updateWeeklySets(e,l.default.volumeLandmarks[e].MEV)}),d()}function c(){if(!s)return;let e=i.map(e=>Math.round(.5*l.default.volumeLandmarks[e].MEV));s.data.datasets[0].data=e,s.data.datasets[0].backgroundColor=i.map(()=>"rgba(100, 100, 100, 0.6)"),s.update(),setTimeout(()=>{d()},3e3)}function p(){s&&console.log("Volume landmarks are permanently displayed on chart")}function g(){if(!s)return console.warn("No chart available for export"),null;try{let e=s.toBase64Image("image/png",1),t=document.createElement("a");t.download=`workout-volume-chart-week-${l.default.weekNo}.png`,t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t);let a=document.createElement("div");return a.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #4CAF50;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      z-index: 10000;
      font-weight: 600;
    `,a.textContent="Chart exported successfully!",document.body.appendChild(a),setTimeout(()=>{document.body.removeChild(a)},3e3),e}catch(t){console.error("Chart export failed:",t);let e=document.createElement("div");return e.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #f44336;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      z-index: 10000;
      font-weight: 600;
    `,e.textContent="Export failed. Please try again.",document.body.appendChild(e),setTimeout(()=>{document.body.removeChild(e)},3e3),null}}},{"../core/trainingState.js":"e7afj","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],bOIzP:[function(e,t,a,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(a),r.export(a,"initVolumeCard",()=>u),r.export(a,"createAdvancedVolumeEditor",()=>I),r.export(a,"initVolumePresets",()=>x),r.export(a,"updateVolumeDisplays",()=>d),r.export(a,"updateCurrentSetsDisplay",()=>m),r.export(a,"updateLandmarkDisplays",()=>c),r.export(a,"updateVolumeStatus",()=>p);var o=e("../core/trainingState.js"),l=r.interopDefault(o),s=e("./chartManager.js"),i=e("../algorithms/volume.js");function u(){let e=document.getElementById("muscleSelect"),t=document.getElementById("currentSets"),a=document.getElementById("mev"),n=document.getElementById("mrv"),r=document.getElementById("mav"),o=document.getElementById("mv");e&&t&&(e.addEventListener("change",d),t.addEventListener("focus",g),t.addEventListener("blur",f),t.addEventListener("keypress",v),a&&a.addEventListener("change",h),n&&n.addEventListener("change",h),r&&r.addEventListener("change",h),o&&o.addEventListener("change",h),d())}function d(){let e=document.getElementById("muscleSelect"),t=e?.value;t&&(m(t),c(t),p(t))}function m(e){let t=document.getElementById("currentSets");t&&(t.value=l.default.currentWeekSets[e]||0)}function c(e){let t=l.default.volumeLandmarks[e];if(!t)return;let a=document.getElementById("mev"),n=document.getElementById("mrv"),r=document.getElementById("mav"),o=document.getElementById("mv");a&&(a.value=t.MEV),n&&(n.value=t.MRV),r&&t.MAV&&(r.value=t.MAV),o&&t.MV&&(o.value=t.MV)}function p(e){let t=document.getElementById("volumeStatus");if(!t)return;let a=(0,i.analyzeVolumeStatus)(e);t.innerHTML=`
    <div class="volume-analysis">
      <div class="status-indicator ${a.status}">
        ${a.status.toUpperCase()}
      </div>
      <div class="volume-details">
        <p>${a.recommendation}</p>
        <div class="landmarks-display">
          <span>MV: ${a.landmarks.MV}</span>
          <span>MEV: ${a.landmarks.MEV}</span>
          <span>MAV: ${a.landmarks.MAV}</span>
          <span>MRV: ${a.landmarks.MRV}</span>
        </div>
      </div>
    </div>
  `,t.className=`volume-status ${a.urgency}`}function g(e){let t=e.target;t.select(),t.dataset.originalValue=t.value}function f(e){let t=e.target,a=document.getElementById("muscleSelect"),n=a?.value;if(!n)return;let r=parseInt(t.value,10),o=parseInt(t.dataset.originalValue,10);if(isNaN(r)||r===o){t.value=o;return}let u=(0,i.validateVolumeInput)(n,r);if(!u.isValid){y(u.warning),t.value=o;return}u.warning&&k(u.warning,"warning"),l.default.updateWeeklySets(n,r),(0,s.updateChart)(),p(n),b()}function v(e){if("Enter"===e.key)e.target.blur();else if("Escape"===e.key){let t=e.target;t.value=t.dataset.originalValue,t.blur()}}function h(e){let t=e.target,a=t.id.toUpperCase(),n=document.getElementById("muscleSelect"),r=n?.value;if(!r)return;let o=parseInt(t.value,10);if(isNaN(o)||o<0){t.value=l.default.volumeLandmarks[r][a];return}let i={...l.default.volumeLandmarks[r]};if(i[a]=o,!function(e){let{MV:t=0,MEV:a,MAV:n,MRV:r}=e;return t<=a&&a<=n&&n<=r}(i)){y("Invalid landmark relationship (MV ≤ MEV ≤ MAV ≤ MRV)"),t.value=l.default.volumeLandmarks[r][a];return}l.default.updateVolumeLandmarks(r,{[a]:o}),(0,s.updateChart)(),p(r),b()}function y(e){k(e,"error")}function b(){k("Saved","success")}function k(e,t="info"){let a=document.createElement("div");a.className=`notification ${t}`,a.textContent=e,Object.assign(a.style,{position:"fixed",top:"20px",right:"20px",padding:"12px 20px",borderRadius:"8px",color:"white",fontSize:"14px",fontWeight:"600",zIndex:"10000",transition:"all 0.3s ease",transform:"translateX(100%)",opacity:"0"});let n={success:"#4CAF50",error:"#f44336",warning:"#ff9800",info:"#2196F3"};a.style.backgroundColor=n[t]||n.info,document.body.appendChild(a),setTimeout(()=>{a.style.transform="translateX(0)",a.style.opacity="1"},100),setTimeout(()=>{a.style.transform="translateX(100%)",a.style.opacity="0",setTimeout(()=>{document.body.removeChild(a)},300)},3e3)}function I(){let e=document.getElementById("volumeCard");if(!e)return;let t=`
    <div class="advanced-volume-controls" style="margin-top: 20px;">
      <h3>Volume Landmarks</h3>
      <div class="landmark-grid">
        <div class="input-group">
          <label for="mv">MV (Maintenance Volume):</label>
          <input type="number" id="mv" min="0" value="0">
        </div>
        <div class="input-group">
          <label for="mav">MAV (Maximum Adaptive Volume):</label>
          <input type="number" id="mav" min="0" value="0">
        </div>
      </div>
      <div id="volumeStatus" class="volume-status"></div>
    </div>
  `,a=e.querySelector("button");a&&a.insertAdjacentHTML("beforebegin",t)}function x(){let e=document.createElement("div");e.className="volume-presets",e.innerHTML=`
    <h4>Quick Presets</h4>
    <div class="preset-buttons">
      <button type="button" onclick="applyVolumePreset('beginner')">Beginner</button>
      <button type="button" onclick="applyVolumePreset('intermediate')">Intermediate</button>
      <button type="button" onclick="applyVolumePreset('advanced')">Advanced</button>
    </div>
  `;let t=document.getElementById("volumeCard");t&&t.appendChild(e)}window.applyVolumePreset=function(e){let t=document.getElementById("muscleSelect"),a=t?.value;if(!a)return;let n={beginner:{multiplier:.8},intermediate:{multiplier:1},advanced:{multiplier:1.2}}[e],r=l.default.volumeLandmarks[a],o={MV:Math.round(r.MV*n.multiplier),MEV:Math.round(r.MEV*n.multiplier),MAV:Math.round(r.MAV*n.multiplier),MRV:Math.round(r.MRV*n.multiplier)};l.default.updateVolumeLandmarks(a,o),d(),(0,s.updateChart)(),k(`Applied ${e} preset for ${a}`,"success")}},{"../core/trainingState.js":"e7afj","./chartManager.js":"gBqFM","../algorithms/volume.js":"boGW6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"9pPgQ":[function(e,t,a,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(a),r.export(a,"initFeedbackForm",()=>d),r.export(a,"addAutoregulationFeatures",()=>g),r.export(a,"handleFeedbackSubmission",()=>m),r.export(a,"updateCurrentSetsFromState",()=>c),r.export(a,"validateRIRInput",()=>p);var o=e("../core/trainingState.js"),l=r.interopDefault(o),s=e("./chartManager.js"),i=e("../algorithms/volume.js"),u=e("../algorithms/effort.js");function d(){let e=document.getElementById("submitFeedbackBtn")||document.querySelector("#mevCard button");e&&e.addEventListener("click",m),document.querySelectorAll('input[name="actualRIR"]').forEach(e=>{e.addEventListener("input",p)});let t=document.getElementById("muscleSelect");t&&(t.addEventListener("change",c),c())}function m(){let e=function(){let e=document.getElementById("muscleSelect")?.value,t=parseInt(document.getElementById("currentSets")?.value,10),a=parseInt(document.getElementById("mmc")?.value,10),n=parseInt(document.getElementById("pump")?.value,10),r=parseInt(document.getElementById("dis")?.value,10),o=document.querySelector('input[name="perf"]:checked'),l=o?parseInt(o.value,10):1,s=parseInt(document.getElementById("sore")?.value,10)||1,i=parseInt(document.getElementById("jointAche")?.value,10)||0,u=parseInt(document.getElementById("perfChange")?.value,10)||0,d=document.getElementById("actualRIR");return{muscle:e,currentSets:t,stimulus:{mmc:a,pump:n,disruption:r},performance:l,soreness:s,jointAche:i,perfChange:u,actualRIR:d?parseFloat(d.value):null,hasIllness:document.getElementById("illness2")?.checked||!1,timestamp:new Date().toISOString()}}();if(!function(e){let t=[];return e.muscle||t.push("Please select a muscle group"),(isNaN(e.currentSets)||e.currentSets<0)&&t.push("Please enter a valid number of sets"),(isNaN(e.stimulus.mmc)||e.stimulus.mmc<0||e.stimulus.mmc>3)&&t.push("Mind-muscle connection must be 0-3"),(isNaN(e.stimulus.pump)||e.stimulus.pump<0||e.stimulus.pump>3)&&t.push("Pump rating must be 0-3"),(isNaN(e.stimulus.disruption)||e.stimulus.disruption<0||e.stimulus.disruption>3)&&t.push("Disruption rating must be 0-3"),!(t.length>0)||(function(e){let t=document.getElementById("mevOut");t&&(t.innerHTML=`<div class="error-message">\u{274C} ${e}</div>`,t.className="result danger active")}(t.join("\n")),!1)}(e))return;let t=function(e){var t,a;let n,r,o=(0,i.scoreStimulus)(e.stimulus),l=(0,i.setProgressionAlgorithm)(e.soreness,e.performance),s=(0,i.getVolumeProgression)(e.muscle,{stimulus:e.stimulus,soreness:e.soreness,performance:e.performance,hasIllness:e.hasIllness}),d=null;return null!==e.actualRIR&&(d=(0,u.validateEffortLevel)(e.actualRIR)),{stimulus:o,progression:l,volumeProgression:s,rirValidation:d,recommendedAction:(t=o,n=(a=l).setChange,r=a.advice,"reduce_sets"===t.action&&"add_sets"===a.action&&(r+=" (But consider technique - stimulus was high)"),"add_sets"===t.action&&"maintain"===a.action&&(r+=" (Stimulus was low - focus on connection)"),{setChange:n,advice:r,primaryReason:"RP Set Progression Algorithm",secondaryFactor:`Stimulus Score: ${t.score}/9`})}}(e);(function(e,t){let{muscle:a}=e,{setChange:n}=t.recommendedAction;-99!==n&&l.default.addSets(a,n),"recovery"===t.progression.action&&(l.default.recoverySessionsThisWeek++,"maximum"===t.volumeProgression.volumeStatus&&l.default.totalMusclesNeedingRecovery++),function(e,t){let a=`feedback-${e.muscle}-${l.default.weekNo}`,n={...e,results:t,weekNo:l.default.weekNo,blockNo:l.default.blockNo};localStorage.setItem(a,JSON.stringify(n))}(e,t)})(e,t),function(e){var t;let a=document.getElementById("mevOut");if(!a)return;let{stimulus:n,volumeProgression:r,rirValidation:o}=e,l=`
    <div class="feedback-results">
      <div class="main-recommendation">
        <h4>${r.muscle} Recommendation</h4>
        <p class="advice">${r.advice}</p>
        <p class="sets-info">
          Current: ${r.currentSets} sets \u{2192} 
          Next week: ${r.projectedSets} sets
          ${0!==r.setChange?`(${r.setChange>0?"+":""}${r.setChange})`:""}
        </p>
      </div>
      
      <div class="algorithm-details">
        <div class="stimulus-score">
          <strong>Stimulus Quality:</strong> ${n.score}/9 
          <span class="stimulus-${n.action}">(${n.action.replace("_"," ")})</span>
        </div>
        <div class="volume-status">
          <strong>Volume Status:</strong> ${r.volumeStatus}
        </div>
        <div class="target-rir">
          <strong>Target RIR:</strong> ${r.targetRIR}
        </div>
      </div>
    </div>
  `;o&&(l+=`
      <div class="rir-feedback ${o.urgency}">
        <strong>Effort Check:</strong> ${o.feedback}
        <br><em>${o.recommendation}</em>
      </div>
    `),r.deloadRecommended&&(l+=`
      <div class="deload-warning">
        \u{26A0}\u{FE0F} <strong>Deload Recommended</strong> - Consider reducing volume this week
      </div>
    `),a.innerHTML=l,a.className=function(e){let t="result active";switch(e){case"success":return`${t} success`;case"warning":return`${t} warning`;case"danger":return`${t} danger`;default:return t}}((t=e).volumeProgression.deloadRecommended?"warning":"recovery"===t.progression.action?"danger":t.volumeProgression.setChange>0?"success":"info")}(t),(0,s.updateChart)(),c()}function c(){let e=document.getElementById("muscleSelect"),t=document.getElementById("currentSets");if(!e||!t)return;let a=e.value;t.value=l.default.currentWeekSets[a]||0}function p(e){let t=e.target,a=parseFloat(t.value),n=l.default.getTargetRIR();if(isNaN(a))return;let r=(0,u.validateEffortLevel)(a,n);t.classList.remove("rir-good","rir-warning","rir-danger"),r.isWithinTolerance?t.classList.add("rir-good"):"medium"===r.urgency?t.classList.add("rir-warning"):t.classList.add("rir-danger"),function(e,t){let a=e.parentNode.querySelector(".rir-tooltip");a&&a.remove();let n=document.createElement("div");n.className=`rir-tooltip ${t.urgency}`,n.textContent=t.feedback,Object.assign(n.style,{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"white",zIndex:"1000",whiteSpace:"nowrap",marginBottom:"5px"});let r={normal:"#4CAF50",medium:"#ff9800",high:"#f44336"};n.style.backgroundColor=r[t.urgency]||r.normal,e.parentNode.style.position="relative",e.parentNode.appendChild(n),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},3e3)}(t,r)}function g(){let e=document.getElementById("mevCard");if(!e)return;let t=`
    <div class="autoregulation-section">
      <h4>Real-time Autoregulation</h4>
      <div class="input-group">
        <label for="actualRIR">Actual RIR this set:</label>
        <input type="number" id="actualRIR" min="0" max="10" step="0.5" placeholder="e.g. 2.5">
        <div class="helper-text">How many reps could you have done? (Target: ${l.default.getTargetRIR()})</div>
      </div>
      <div class="input-group">
        <label for="setNumber">Set number:</label>
        <input type="number" id="setNumber" min="1" value="1">
      </div>
    </div>
  `,a=e.querySelector("button");a&&a.insertAdjacentHTML("beforebegin",t)}},{"../core/trainingState.js":"e7afj","./chartManager.js":"gBqFM","../algorithms/volume.js":"boGW6","../algorithms/effort.js":"hZYkR","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],zNaOk:[function(e,t,a,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t="hypertrophy"){let a=parseFloat(e);if(isNaN(a)||a<=0)return{isValid:!1,warning:"Load must be a positive number",recommendation:"Enter a valid load percentage"};let n={hypertrophy:{min:30,max:85,optimal:[65,80]},strength:{min:70,max:100,optimal:[85,95]},power:{min:30,max:70,optimal:[40,60]},endurance:{min:20,max:60,optimal:[30,50]}},r=n[t]||n.hypertrophy,l=!0,s="",i="",u="normal";return a<r.min?(l=!1,s=`Load too light for ${t} (${a}% < ${r.min}%)`,i=`Increase to ${r.optimal[0]}-${r.optimal[1]}% for optimal ${t} adaptations`,u="high"):a>r.max?(l=!1,s=`Load too heavy for ${t} (${a}% > ${r.max}%)`,i=`Reduce to ${r.optimal[0]}-${r.optimal[1]}% for safer ${t} training`,u="high"):a<r.optimal[0]?(s=`Load is light for ${t} (${a}% < ${r.optimal[0]}%)`,i=`Consider increasing to ${r.optimal[0]}-${r.optimal[1]}% for better stimulus`,u="medium"):a>r.optimal[1]?(s=`Load is heavy for ${t} (${a}% > ${r.optimal[1]}%)`,i=`Consider reducing to ${r.optimal[0]}-${r.optimal[1]}% for better recovery`,u="medium"):i=`Good load for ${t} training`,{isValid:l,load:a,context:t,warning:s,recommendation:i,severity:u,range:r,isOptimal:a>=r.optimal[0]&&a<=r.optimal[1]}}function l(e,t,a=!1){let n=parseInt(e,10);if(isNaN(n)||n<0)return{isValid:!1,warning:"Set count must be 0 or greater",recommendation:"Enter a valid number of sets"};let{MV:r=0,MEV:o,MAV:s,MRV:i}=t,u=!0,d="",m="",c="normal",p="";return n<r?(p="below-maintenance",d=`Below maintenance volume (${n} < ${r})`,m="Increase sets for minimal stimulus",c="high"):n<o?(p="maintenance",d=`In maintenance zone (${n} < ${o})`,m="Increase sets for growth stimulus",c="medium"):n<=s?(p="optimal",m=`Optimal volume zone (${o}-${s} sets)`):n<=i?(p="high",d=`High volume zone (${n} approaching ${i})`,m="Monitor recovery closely",c="medium"):(p="maximum",a?(d=`Overreaching territory (${n} > ${i})`,m="Short-term only - deload soon"):(u=!1,d=`Above maximum recoverable volume (${n} > ${i})`,m="Reduce sets or plan deload"),c="high"),{isValid:u,sets:n,landmarks:t,zone:p,warning:d,recommendation:m,severity:c,percentage:Math.round(n/i*100)}}function s(e,t="hypertrophy"){let a=parseInt(e,10);if(isNaN(a)||a<1)return{isValid:!1,warning:"Mesocycle must be at least 1 week",recommendation:"Enter a valid mesocycle length"};let n={hypertrophy:{min:3,max:6,optimal:4},strength:{min:2,max:8,optimal:4},power:{min:2,max:4,optimal:3},endurance:{min:4,max:12,optimal:6}},r=n[t]||n.hypertrophy,o="",l="",i="normal";return a<r.min?(o=`Short mesocycle for ${t} (${a} < ${r.min} weeks)`,l=`Consider ${r.optimal} weeks for better ${t} adaptations`,i="medium"):a>r.max?(o=`Long mesocycle for ${t} (${a} > ${r.max} weeks)`,l=`Consider ${r.optimal} weeks to prevent overreaching`,i="medium"):l=a===r.optimal?`Optimal length for ${t} training`:`Good length for ${t} training`,{isValid:!0,weeks:a,goal:t,warning:o,recommendation:l,severity:i,isOptimal:a===r.optimal,range:r}}r.defineInteropFlag(a),r.export(a,"validateLoad",()=>o),r.export(a,"validateSets",()=>l),r.export(a,"validateMesocycleLength",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["9ATGT"],"9ATGT","parcelRequire66c8",{});</script>

<script type=module src=ProgramDesignWorkspace.99e626fb.js></script>
<script type=module src=ProgramDesignWorkspace.36e482e4.js></script>


<script>!function(e,t,a,s,i,n,r,o){var l,c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},d="function"==typeof c[s]&&c[s],u=d.i||{},m=d.cache||{},p="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(t,a){if(!m[t]){if(!e[t]){if(i[t])return i[t];var n="function"==typeof c[s]&&c[s];if(!a&&n)return n(t,!0);if(d)return d(t,!0);if(p&&"string"==typeof t)return p(t);var r=Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}l.resolve=function(a){var s=e[t][1][a];return null!=s?s:a},l.cache={};var o=m[t]=new h.Module(t);e[t][0].call(o.exports,l,o,o.exports,c)}return m[t].exports;function l(e){var t=l.resolve(e);return!1===t?{}:h(t)}}h.isParcelRequire=!0,h.Module=function(e){this.id=e,this.bundle=h,this.require=p,this.exports={}},h.modules=e,h.cache=m,h.parent=d,h.distDir="./",h.publicUrl="./",h.devServer=void 0,h.i=u,h.register=function(t,a){e[t]=[function(e,t){t.exports=a},{}]},h.resolve=function(e){if(e=u[e]||e,!l)try{throw Error()}catch(a){var t=(""+a.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(!t)return"./"+e;l=t[0]}return new URL(n+e,l).toString()},Object.defineProperty(h,"root",{get:function(){return c[s]}}),c[s]=h;for(var g=0;g<t.length;g++)h(t[g]);if(a){var f=h(a);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof define&&define.amd&&define(function(){return f})}}({kLXCF:[function(e,t,a,s){var i=e("./js/ui/enhancedAdvancedUI.js"),n=e("./js/algorithms/dataVisualization.js"),r=e("./js/algorithms/wellnessIntegration.js"),o=e("./js/algorithms/periodizationSystem.js"),l=e("./js/utils/performance.js"),c=e("./js/utils/dataExport.js"),d=e("./js/utils/userFeedback.js");let u=new(0,l.PerformanceManager),m=new(0,c.DataExportManager),p=new(0,d.UserFeedbackManager);window.dataVisualizer=n.dataVisualizer,window.wellnessSystem=r.wellnessSystem,window.periodizationSystem=o.periodizationSystem,window.performanceManager=u,window.dataExportManager=m,window.userFeedbackManager=p,document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector("#advanced-content");if(e){let t=i.enhancedUI.createAdvancedDashboard();t.id="enhanced-dashboard",t.style.marginTop="40px",e.appendChild(t),i.enhancedUI.initializeEnhancedUI(),u.initialize(),p.initializeFeedbackSystem(),console.log("\uD83D\uDE80 Enhanced Advanced Intelligence Features Loaded"),console.log("⚡ Performance monitoring initialized"),console.log("\uD83D\uDCAC User feedback system ready"),console.log("\uD83D\uDCBE Data export system ready")}})},{"./js/ui/enhancedAdvancedUI.js":"igV0i","./js/algorithms/dataVisualization.js":"dF6dl","./js/algorithms/wellnessIntegration.js":"fripj","./js/algorithms/periodizationSystem.js":"hpS7Y","./js/utils/performance.js":"9GLug","./js/utils/dataExport.js":"dSCzM","./js/utils/userFeedback.js":"37Jiu"}],igV0i:[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"EnhancedAdvancedUI",()=>r),i.export(a,"enhancedUI",()=>o),e("../algorithms/dataVisualization.js"),e("../algorithms/wellnessIntegration.js"),e("../algorithms/periodizationSystem.js");var n=e("../algorithms/intelligenceHub.js");class r{constructor(){this.activeCharts=new Map,this.dashboardState=this.initializeDashboardState(),this.notifications=this.initializeNotificationSystem()}initializeDashboardState(){return{activeTab:"overview",chartConfigs:new Map,refreshRate:5e3,autoRefresh:!1,fullscreen:!1,theme:"light"}}initializeNotificationSystem(){return{queue:[],displayed:new Set,types:{info:{icon:"ℹ️",color:"#3b82f6"},success:{icon:"✅",color:"#10b981"},warning:{icon:"⚠️",color:"#f59e0b"},error:{icon:"❌",color:"#ef4444"},insight:{icon:"\uD83D\uDCA1",color:"#8b5cf6"}}}}createAdvancedDashboard(){let e=document.createElement("div");return e.className="advanced-dashboard",e.innerHTML=`
      <div class="dashboard-header">
        <h2>\u{1F3AF} Advanced Training Dashboard</h2>
        <div class="dashboard-controls">
          <button onclick="enhancedUI.toggleFullscreen()" class="control-btn">
            <span id="fullscreenIcon">\u{26F6}</span> Fullscreen
          </button>
          <button onclick="enhancedUI.exportDashboard()" class="control-btn">
            \u{1F4CA} Export
          </button>
          <button onclick="enhancedUI.refreshDashboard()" class="control-btn">
            \u{1F504} Refresh
          </button>
        </div>
      </div>

      <div class="dashboard-navigation">
        <nav class="tab-navigation">
          <button class="tab-btn active" onclick="enhancedUI.switchTab('overview')">\u{1F4C8} Overview</button>
          <button class="tab-btn" onclick="enhancedUI.switchTab('analytics')">\u{1F52C} Analytics</button>
          <button class="tab-btn" onclick="enhancedUI.switchTab('wellness')">\u{1F49A} Wellness</button>
          <button class="tab-btn" onclick="enhancedUI.switchTab('planning')">\u{1F4C5} Planning</button>
          <button class="tab-btn" onclick="enhancedUI.switchTab('insights')">\u{1F9E0} Insights</button>
        </nav>
      </div>

      <div class="dashboard-content">
        ${this.createOverviewTab()}
        ${this.createAnalyticsTab()}
        ${this.createWellnessTab()}
        ${this.createPlanningTab()}
        ${this.createInsightsTab()}
      </div>

      <div class="notification-area" id="notificationArea"></div>
    `,e}createOverviewTab(){return`
      <div class="tab-content active" id="overview-tab">
        <div class="overview-grid">
          <\!-- Key Metrics Panel -->
          <div class="metric-panel">
            <h3>\u{1F4CA} Key Metrics</h3>
            <div class="metrics-grid">
              <div class="metric-card">
                <div class="metric-value" id="currentPerformance">--</div>
                <div class="metric-label">Performance Score</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="recoveryScore">--</div>
                <div class="metric-label">Recovery Score</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="readinessScore">--</div>
                <div class="metric-label">Readiness Score</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="totalVolume">--</div>
                <div class="metric-label">Weekly Volume</div>
              </div>
            </div>
          </div>

          <\!-- Performance Trend Chart -->
          <div class="chart-panel">
            <h3>\u{1F4C8} Performance Trends</h3>
            <canvas id="performanceTrendChart" width="400" height="200"></canvas>
          </div>

          <\!-- Volume Distribution -->
          <div class="chart-panel">
            <h3>\u{1F3CB}\u{FE0F} Volume Distribution</h3>
            <canvas id="volumeDistributionChart" width="400" height="200"></canvas>
          </div>

          <\!-- Recent Achievements -->
          <div class="achievements-panel">
            <h3>\u{1F3C6} Recent Achievements</h3>
            <div id="achievementsList" class="achievements-list">
              <\!-- Achievements populated dynamically -->
            </div>
          </div>

          <\!-- Action Items -->
          <div class="action-panel">
            <h3>\u{26A1} Priority Actions</h3>
            <div id="actionItems" class="action-items">
              <\!-- Action items populated dynamically -->
            </div>
          </div>

          <\!-- System Status -->
          <div class="status-panel">
            <h3>\u{2699}\u{FE0F} System Status</h3>
            <div class="status-indicators">
              <div class="status-item">
                <span id="analyticsStatusAdv">\u{274C}</span>
                <span>Advanced Analytics</span>
              </div>
              <div class="status-item">
                <span id="wellnessStatusAdv">\u{274C}</span>
                <span>Wellness Integration</span>
              </div>
              <div class="status-item">
                <span id="planningStatusAdv">\u{274C}</span>
                <span>Auto-Planning</span>
              </div>
              <div class="status-item">
                <span id="intelligenceStatusAdv">\u{274C}</span>
                <span>AI Intelligence</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}createAnalyticsTab(){return`
      <div class="tab-content" id="analytics-tab">
        <div class="analytics-grid">
          <\!-- Predictive Analytics -->
          <div class="analytics-section">
            <h3>\u{1F52E} Predictive Analytics</h3>
            <div class="analytics-controls">
              <button onclick="enhancedUI.generatePredictiveChart()" class="analytics-btn">
                \u{1F4CA} Performance Prediction
              </button>
              <button onclick="enhancedUI.analyzeVolumeOptimization()" class="analytics-btn">
                \u{1F3AF} Volume Optimization
              </button>
              <button onclick="enhancedUI.detectPlateauRisk()" class="analytics-btn">
                \u{26A0}\u{FE0F} Plateau Analysis
              </button>
            </div>
            <div class="chart-container">
              <canvas id="predictiveChart" width="600" height="300"></canvas>
            </div>
          </div>

          <\!-- Advanced Visualizations -->
          <div class="analytics-section">
            <h3>\u{1F4C8} Advanced Visualizations</h3>
            <div class="visualization-controls">
              <select id="chartTypeSelector" onchange="enhancedUI.changeChartType()">
                <option value="trend">Trend Analysis</option>
                <option value="heatmap">Volume Heatmap</option>
                <option value="radar">Muscle Distribution</option>
                <option value="correlation">Correlation Matrix</option>
              </select>
              <select id="timeRangeSelector" onchange="enhancedUI.changeTimeRange()">
                <option value="4">Last 4 Weeks</option>
                <option value="8">Last 8 Weeks</option>
                <option value="12">Last 12 Weeks</option>
                <option value="all">All Time</option>
              </select>
            </div>
            <div class="chart-container">
              <canvas id="advancedVisualizationChart" width="600" height="400"></canvas>
            </div>
          </div>

          <\!-- Statistical Analysis -->
          <div class="analytics-section">
            <h3>\u{1F4CA} Statistical Analysis</h3>
            <div class="stats-grid">
              <div class="stat-card">
                <h4>Performance Statistics</h4>
                <div id="performanceStats" class="stat-content">
                  <\!-- Stats populated dynamically -->
                </div>
              </div>
              <div class="stat-card">
                <h4>Volume Statistics</h4>
                <div id="volumeStats" class="stat-content">
                  <\!-- Stats populated dynamically -->
                </div>
              </div>
              <div class="stat-card">
                <h4>Recovery Statistics</h4>
                <div id="recoveryStats" class="stat-content">
                  <\!-- Stats populated dynamically -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}createWellnessTab(){return`
      <div class="tab-content" id="wellness-tab">
        <div class="wellness-grid">
          <\!-- Wellness Input Panel -->
          <div class="wellness-input-panel">
            <h3>\u{1F4DD} Daily Wellness Check-in</h3>
            <form id="wellnessForm" class="wellness-form">
              <div class="form-section">
                <h4>\u{1F634} Sleep Quality</h4>
                <div class="input-group">
                  <label for="sleepDuration">Duration (hours):</label>
                  <input type="number" id="sleepDuration" min="4" max="12" step="0.5" value="7.5">
                </div>
                <div class="input-group">
                  <label for="sleepQuality">Quality (1-10):</label>
                  <input type="range" id="sleepQuality" min="1" max="10" value="7">
                  <span class="range-value" id="sleepQualityValue">7</span>
                </div>
              </div>

              <div class="form-section">
                <h4>\u{1F630} Stress Levels</h4>
                <div class="input-group">
                  <label for="workStress">Work Stress (1-10):</label>
                  <input type="range" id="workStress" min="1" max="10" value="5">
                  <span class="range-value" id="workStressValue">5</span>
                </div>
                <div class="input-group">
                  <label for="lifeStress">Life Stress (1-10):</label>
                  <input type="range" id="lifeStress" min="1" max="10" value="4">
                  <span class="range-value" id="lifeStressValue">4</span>
                </div>
              </div>

              <div class="form-section">
                <h4>\u{1F957} Nutrition & Hydration</h4>
                <div class="input-group">
                  <label for="hydration">Hydration (1-10):</label>
                  <input type="range" id="hydration" min="1" max="10" value="7">
                  <span class="range-value" id="hydrationValue">7</span>
                </div>
                <div class="input-group">
                  <label for="nutritionQuality">Nutrition Quality (1-10):</label>
                  <input type="range" id="nutritionQuality" min="1" max="10" value="7">
                  <span class="range-value" id="nutritionQualityValue">7</span>
                </div>
              </div>

              <button type="button" onclick="enhancedUI.submitWellnessData()" class="submit-btn">
                \u{1F4BE} Save Wellness Data
              </button>
            </form>
          </div>

          <\!-- Wellness Dashboard -->
          <div class="wellness-dashboard">
            <h3>\u{1F3AF} Wellness Overview</h3>
            <div class="wellness-scores">
              <div class="score-card">
                <div class="score-value" id="wellnessRecoveryScore">--</div>
                <div class="score-label">Recovery Score</div>
              </div>
              <div class="score-card">
                <div class="score-value" id="wellnessReadinessScore">--</div>
                <div class="score-label">Readiness Score</div>
              </div>
              <div class="score-card">
                <div class="score-value" id="wellnessStressScore">--</div>
                <div class="score-label">Stress Score</div>
              </div>
            </div>
          </div>

          <\!-- Training Recommendations -->
          <div class="training-recommendations">
            <h3>\u{1F3AF} Training Recommendations</h3>
            <div id="trainingRecommendations" class="recommendations-content">
              <\!-- Recommendations populated dynamically -->
            </div>
          </div>

          <\!-- Wellness Trends -->
          <div class="wellness-trends">
            <h3>\u{1F4C8} Wellness Trends</h3>
            <canvas id="wellnessTrendChart" width="500" height="250"></canvas>
          </div>
        </div>
      </div>
    `}createPlanningTab(){return`
      <div class="tab-content" id="planning-tab">
        <div class="planning-grid">
          <\!-- Plan Creation -->
          <div class="plan-creation-panel">
            <h3>\u{1F3AF} Create Training Plan</h3>
            <form id="planningForm" class="planning-form">
              <div class="form-group">
                <label for="planDuration">Plan Duration:</label>
                <select id="planDuration">
                  <option value="8">8 Weeks</option>
                  <option value="12">12 Weeks</option>
                  <option value="16" selected>16 Weeks</option>
                  <option value="20">20 Weeks</option>
                  <option value="24">24 Weeks</option>
                </select>
              </div>

              <div class="form-group">
                <label for="primaryGoal">Primary Goal:</label>
                <select id="primaryGoal">
                  <option value="hypertrophy">Hypertrophy</option>
                  <option value="strength">Strength</option>
                  <option value="powerbuilding">Powerbuilding</option>
                  <option value="endurance">Endurance</option>
                  <option value="general">General Fitness</option>
                </select>
              </div>

              <div class="form-group">
                <label for="experienceLevel">Experience Level:</label>
                <select id="experienceLevel">
                  <option value="beginner">Beginner</option>
                  <option value="intermediate">Intermediate</option>
                  <option value="advanced">Advanced</option>
                </select>
              </div>

              <div class="form-group">
                <label for="trainingDays">Training Days per Week:</label>
                <select id="trainingDays">
                  <option value="3">3 Days</option>
                  <option value="4">4 Days</option>
                  <option value="5">5 Days</option>
                  <option value="6">6 Days</option>
                </select>
              </div>

              <button type="button" onclick="enhancedUI.generateTrainingPlan()" class="generate-btn">
                \u{1F680} Generate Intelligent Plan
              </button>
            </form>
          </div>

          <\!-- Current Plan Overview -->
          <div class="current-plan-panel">
            <h3>\u{1F4CB} Current Plan</h3>
            <div id="currentPlanOverview" class="plan-overview">
              <\!-- Plan overview populated dynamically -->
            </div>
          </div>

          <\!-- Plan Timeline -->
          <div class="plan-timeline-panel">
            <h3>\u{1F4C5} Plan Timeline</h3>
            <div id="planTimeline" class="timeline-container">
              <\!-- Timeline populated dynamically -->
            </div>
          </div>

          <\!-- Adaptation Controls -->
          <div class="adaptation-panel">
            <h3>\u{1F527} Plan Adaptations</h3>
            <div class="adaptation-controls">
              <button onclick="enhancedUI.adaptPlanForPerformance()" class="adapt-btn">
                \u{1F4C8} Adapt for Performance
              </button>
              <button onclick="enhancedUI.adaptPlanForRecovery()" class="adapt-btn">
                \u{1F49A} Adapt for Recovery
              </button>
              <button onclick="enhancedUI.triggerIntelligentDeload()" class="adapt-btn">
                \u{1F6D1} Trigger Deload
              </button>
            </div>
            <div id="adaptationResults" class="adaptation-results">
              <\!-- Adaptation results populated dynamically -->
            </div>
          </div>
        </div>
      </div>
    `}createInsightsTab(){return`
      <div class="tab-content" id="insights-tab">
        <div class="insights-grid">
          <\!-- AI Insights -->
          <div class="ai-insights-panel">
            <h3>\u{1F9E0} AI Training Insights</h3>
            <div class="insights-controls">
              <button onclick="enhancedUI.generateAIInsights()" class="insights-btn">
                \u{1F52E} Generate Insights
              </button>
              <button onclick="enhancedUI.analyzeTrainingPatterns()" class="insights-btn">
                \u{1F4CA} Pattern Analysis
              </button>
              <button onclick="enhancedUI.predictOptimizations()" class="insights-btn">
                \u{1F3AF} Optimization Opportunities
              </button>
            </div>
            <div id="aiInsightsContent" class="insights-content">
              <\!-- AI insights populated dynamically -->
            </div>
          </div>

          <\!-- Performance Analysis -->
          <div class="performance-analysis-panel">
            <h3>\u{1F4C8} Performance Analysis</h3>
            <div id="performanceAnalysis" class="analysis-content">
              <\!-- Performance analysis populated dynamically -->
            </div>
          </div>

          <\!-- Trend Predictions -->
          <div class="predictions-panel">
            <h3>\u{1F52E} Trend Predictions</h3>
            <canvas id="predictionChart" width="500" height="300"></canvas>
          </div>

          <\!-- Risk Assessment -->
          <div class="risk-assessment-panel">
            <h3>\u{26A0}\u{FE0F} Risk Assessment</h3>
            <div id="riskAssessment" class="risk-content">
              <\!-- Risk assessment populated dynamically -->
            </div>
          </div>
        </div>
      </div>
    `}initializeEnhancedUI(){this.setupEventListeners(),this.initializeCharts(),this.startAutoRefresh(),this.loadDashboardData(),console.log("\uD83D\uDE80 Enhanced Advanced UI System Initialized")}setupEventListeners(){document.addEventListener("input",e=>{if("range"===e.target.type){let t=document.getElementById(e.target.id+"Value");t&&(t.textContent=e.target.value)}}),document.addEventListener("click",e=>{e.target.classList.contains("tab-btn")&&this.handleTabClick(e.target)}),document.addEventListener("change",e=>{e.target.closest("#wellnessForm")&&this.autoSaveWellnessData()})}switchTab(e){document.querySelectorAll(".tab-btn").forEach(e=>e.classList.remove("active")),document.querySelector(`.tab-btn[onclick*="${e}"]`).classList.add("active"),document.querySelectorAll(".tab-content").forEach(e=>e.classList.remove("active")),document.getElementById(`${e}-tab`).classList.add("active"),this.loadTabData(e),this.dashboardState.activeTab=e}loadTabData(e){switch(e){case"overview":this.loadOverviewData();break;case"analytics":this.loadAnalyticsData();break;case"wellness":this.loadWellnessData();break;case"planning":this.loadPlanningData();break;case"insights":this.loadInsightsData()}}generateAIInsights(){let e=n.advancedIntelligence.getWeeklyIntelligence(),t=document.getElementById("aiInsightsContent"),a='<div class="insights-list">';e.recommendations.length>0&&(a+="<h4>\uD83C\uDFAF Recommendations</h4>",e.recommendations.forEach(e=>{a+=`<div class="insight-item ${e.urgency}">
          <strong>${e.type}:</strong> ${e.message}
        </div>`})),e.analytics&&(a+="<h4>\uD83D\uDCCA Analytics Insights</h4>",Object.entries(e.analytics.volumeLandmarkOptimizations||{}).forEach(([e,t])=>{a+=`<div class="insight-item success">
          <strong>${e}:</strong> Volume landmarks can be optimized (${t.confidence}% confidence)
        </div>`})),t.innerHTML=a+="</div>",this.showNotification("AI insights generated successfully","success")}showNotification(e,t="info"){let a=document.createElement("div");a.className=`notification ${t}`,a.innerHTML=`
      <span class="notification-icon">${this.notifications.types[t].icon}</span>
      <span class="notification-message">${e}</span>
      <button class="notification-close" onclick="this.parentElement.remove()">\xd7</button>
    `,document.getElementById("notificationArea").appendChild(a),setTimeout(()=>{a.parentElement&&a.remove()},5e3)}exportDashboard(){let e=this.collectDashboardData(),t=new Blob([JSON.stringify({timestamp:new Date().toISOString(),data:e},null,2)],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=`training-dashboard-${new Date().toISOString().split("T")[0]}.json`,s.click(),this.showNotification("Dashboard data exported successfully","success")}collectDashboardData(){return{overview:this.getOverviewData(),analytics:this.getAnalyticsData(),wellness:this.getWellnessData(),planning:this.getPlanningData(),insights:this.getInsightsData()}}}let o=new r;window.enhancedUI=o},{"../algorithms/dataVisualization.js":"dF6dl","../algorithms/wellnessIntegration.js":"fripj","../algorithms/periodizationSystem.js":"hpS7Y","../algorithms/intelligenceHub.js":"dvKzQ","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dF6dl:[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"AdvancedDataVisualizer",()=>o),i.export(a,"dataVisualizer",()=>l);var n=e("../core/trainingState.js"),r=i.interopDefault(n);class o{constructor(){this.chartConfigs={performance:this.getPerformanceChartConfig(),volume:this.getVolumeChartConfig(),fatigue:this.getFatigueChartConfig(),intelligence:this.getIntelligenceChartConfig()}}createTrainingDashboard(){let e=this.getHistoricalData();return{overview:this.generateOverviewMetrics(e),trends:this.generateTrendAnalysis(e),predictions:this.generatePredictiveAnalytics(e),recommendations:this.generateActionableInsights(e),visualizations:this.generateChartData(e)}}generatePerformanceTrendChart(e){let t=e.slice(-12);return{type:"line",data:{labels:t.map(e=>`Week ${e.weekNo}`),datasets:[{label:"Performance Score",data:t.map(e=>e.performance?.targetAchievement?.targetPercentage||70),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",tension:.4,fill:!0},{label:"Fatigue Level",data:t.map(e=>e.fatigueScore||5),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4,yAxisID:"y1"}]},options:this.getAdvancedChartOptions()}}generateVolumeHeatmap(e){let t=Object.keys(r.default.volumeLandmarks),a=Array.from({length:12},(e,t)=>t+1);return{data:t.map(t=>a.map(a=>{let s=e.find(e=>e.weekNo===a&&e.muscle===t),i=s?.totalSets||0,n=r.default.volumeLandmarks[t],o=0;return o=i>=n.MRV?1:i>=n.MAV?.8:i>=n.MEV?.6:.3,{x:a,y:t,value:i,intensity:o}})).flat(),config:this.getHeatmapConfig()}}generatePredictiveChart(e){let t=e.slice(-6),a=this.calculateTrendLine(t.map((e,t)=>[t,e.performance?.targetAchievement?.targetPercentage||70])),s=this.calculateTrendLine(t.map((e,t)=>[t,e.fatigueScore||5])),i=Array.from({length:4},(e,a)=>`Predicted Week ${t.length+a+1}`),n=Array.from({length:4},(e,s)=>Math.max(0,Math.min(100,a.slope*(t.length+s)+a.intercept)));return Array.from({length:4},(e,a)=>Math.max(0,Math.min(10,s.slope*(t.length+a)+s.intercept))),{type:"line",data:{labels:[...t.map(e=>`Week ${e.weekNo}`),...i],datasets:[{label:"Historical Performance",data:[...t.map(e=>e.performance?.targetAchievement?.targetPercentage||70),...[,,,,].fill(null)],borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",pointRadius:5},{label:"Predicted Performance",data:[...Array(t.length).fill(null),t[t.length-1]?.performance?.targetAchievement?.targetPercentage||70,...n],borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.2)",borderDash:[5,5],pointRadius:3}]},options:this.getPredictiveChartOptions()}}generateMuscleComparisonRadar(){let e=Object.keys(r.default.volumeLandmarks);r.default.weekNo;let t=e.map(e=>{let t=r.default.getVolumeStatus(e),a=r.default.volumeLandmarks[e],s=r.default.currentWeekSets[e]||0,i=s/a.MEV*100;return{muscle:e,efficiency:Math.min(100,i),volume:Math.min(100,s/a.MAV*100),intensity:Math.min(100,s/a.MRV*100),status:this.getVolumeStatusScore(t)}});return{type:"radar",data:{labels:e,datasets:[{label:"Current Training Distribution",data:t.map(e=>e.efficiency),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.2)",pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(99, 102, 241)"}]},options:this.getRadarChartOptions()}}generateTrainingTimeline(e){return e.map(e=>{let t=[];return e.volumeProgression?.deloadTriggered&&t.push({type:"deload",title:"Deload Week",description:"Training volume reduced for recovery",severity:"high"}),e.performance?.targetAchievement?.grade==="A"&&t.push({type:"achievement",title:"Excellent Performance",description:"Training targets exceeded",severity:"success"}),e.fatigueScore>=7&&t.push({type:"warning",title:"High Fatigue Detected",description:"Consider recovery protocols",severity:"warning"}),{week:e.weekNo,date:e.startTime,events:t,metrics:{totalVolume:e.totalSets||0,avgPerformance:e.performance?.targetAchievement?.targetPercentage||70,fatigueLevel:e.fatigueScore||5}}})}generateExecutiveSummary(e){let t=e.slice(-4);return{trainingConsistency:this.calculateConsistency(t),performanceTrend:this.calculatePerformanceTrend(t),volumeEfficiency:this.calculateVolumeEfficiency(t),recoveryStatus:this.calculateRecoveryStatus(t),nextActions:this.generateNextActions(t),keyInsights:this.generateKeyInsights(t)}}calculateTrendLine(e){let t=e.length,a=e.reduce((e,t)=>e+t[0],0),s=e.reduce((e,t)=>e+t[1],0),i=(t*e.reduce((e,t)=>e+t[0]*t[1],0)-a*s)/(t*e.reduce((e,t)=>e+t[0]*t[0],0)-a*a);return{slope:i,intercept:(s-i*a)/t}}calculateConsistency(e){return e.filter(e=>e.totalSets>0).length/e.length*100}calculatePerformanceTrend(e){let t=e.map(e=>e.performance?.targetAchievement?.targetPercentage||70);return this.calculateTrendLine(t.map((e,t)=>[t,e])).slope}getVolumeStatusScore(e){return({"under-minimum":25,optimal:75,high:90,maximum:100})[e]||50}getHistoricalData(){let e=[];for(let t=0;t<localStorage.length;t++){let a=localStorage.key(t);if(a&&a.startsWith("session-"))try{let t=JSON.parse(localStorage.getItem(a));e.push(t)}catch(e){console.warn("Failed to parse session data:",a)}}return e.sort((e,t)=>new Date(e.startTime)-new Date(t.startTime))}getAdvancedChartOptions(){return{responsive:!0,interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!0,text:"Training Week"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Performance %"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Fatigue Level"},grid:{drawOnChartArea:!1}}}}}getPredictiveChartOptions(){return{responsive:!0,plugins:{title:{display:!0,text:"Performance Prediction Analysis"},legend:{display:!0}},scales:{x:{title:{display:!0,text:"Training Timeline"}},y:{title:{display:!0,text:"Performance Score"},min:0,max:100}}}}generateNextActions(e){let t=[],a=e[e.length-1];return a?.fatigueScore>=7&&t.push("Consider deload or extra recovery day"),-2>this.calculatePerformanceTrend(e)&&t.push("Review training intensity and technique"),75>this.calculateConsistency(e)&&t.push("Focus on training consistency"),t}generateKeyInsights(e){let t=[],a=this.calculatePerformanceTrend(e);return a>2?t.push("Performance is trending upward - excellent progress"):a<-2&&t.push("Performance decline detected - review program"),e.reduce((e,t)=>e+(t.totalSets||0),0)/e.length>50&&t.push("High volume training detected - monitor recovery"),t}}let l=new o},{"../core/trainingState.js":"e7afj","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fripj:[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"WellnessRecoverySystem",()=>r),i.export(a,"wellnessSystem",()=>o);var n=e("../core/trainingState.js");i.interopDefault(n),e("./fatigue.js");class r{constructor(){this.wellnessMetrics=this.initializeWellnessTracking(),this.recoveryProtocols=this.initializeRecoveryProtocols()}initializeWellnessTracking(){return{sleep:{duration:7.5,quality:7,efficiency:85,deepSleepPercentage:20,wakeups:1,bedtimeConsistency:8},stress:{workStress:5,lifeStress:4,trainingStress:6,overallStress:5,stressManagementPractices:[]},nutrition:{hydration:7,proteinAdequacy:8,carbTiming:7,micronutrients:6,mealTiming:7,supplements:[]},lifestyle:{screenTime:6,sunlightExposure:5,socialConnection:7,natureExposure:4,workLifeBalance:6},physiological:{restingHeartRate:60,heartRateVariability:35,bodyTemperature:98.6,bloodPressure:{systolic:120,diastolic:80},bodyWeight:180}}}initializeRecoveryProtocols(){return{sleep:{optimization:["Maintain consistent bedtime ±30 minutes","Limit blue light 2 hours before bed","Keep bedroom temperature 65-68°F (18-20°C)","Use blackout curtains or eye mask","Avoid caffeine 8+ hours before bed"],intervention:["Implement progressive muscle relaxation","Try guided meditation apps (Headspace, Calm)","Consider magnesium supplementation","Use white noise or earplugs","Review medications affecting sleep"]},stress:{daily:["10-minute meditation or breathing exercises","Schedule stress-free time blocks","Practice gratitude journaling","Limit news/social media consumption","Engage in enjoyable hobbies"],acute:["Box breathing (4-4-4-4 pattern)","Progressive muscle relaxation","Take a walk in nature","Call a supportive friend/family member","Use stress management apps"],chronic:["Consider professional counseling","Evaluate and modify stressors where possible","Develop robust stress management routine","Consider stress-reducing supplements","Implement time management strategies"]},nutrition:{hydration:["Aim for 35-40ml per kg body weight daily","Monitor urine color (pale yellow optimal)","Increase intake during training days","Add electrolytes for sessions >90 minutes","Spread intake throughout the day"],recovery:["Consume protein within 2 hours post-workout","Include anti-inflammatory foods (berries, fatty fish)","Ensure adequate carbohydrate replenishment","Consider tart cherry juice for sleep/recovery","Time largest meals away from bedtime"],energy:["Eat balanced meals every 3-4 hours","Include complex carbs for sustained energy","Don't skip breakfast","Limit processed foods and added sugars","Consider caffeine timing for training"]},lifestyle:{activeRecovery:["Light walking for 20-30 minutes","Gentle yoga or stretching","Swimming at easy pace","Foam rolling or self-massage","Breathing exercises"],passiveRecovery:["Massage therapy","Sauna or hot bath","Meditation or mindfulness","Reading or gentle hobbies","Quality time with loved ones"]}}}trackDailyWellness(e){let t={date:new Date().toISOString().split("T")[0],sleep:e.sleep||{},stress:e.stress||{},nutrition:e.nutrition||{},lifestyle:e.lifestyle||{},physiological:e.physiological||{},recoveryScore:this.calculateRecoveryScore(e),readinessScore:this.calculateReadinessScore(e),recommendations:this.generateWellnessRecommendations(e)},a=`wellness-${t.date}`;return localStorage.setItem(a,JSON.stringify(t)),this.wellnessMetrics={...this.wellnessMetrics,...e},t}calculateRecoveryScore(e){let t=0,a=0;return e.sleep&&(t+=.4*this.calculateSleepScore(e.sleep),a+=.4),e.stress&&(t+=.25*this.calculateStressScore(e.stress),a+=.25),e.nutrition&&(t+=.2*this.calculateNutritionScore(e.nutrition),a+=.2),e.lifestyle&&(t+=.15*this.calculateLifestyleScore(e.lifestyle),a+=.15),a>0?Math.round(t/a):50}calculateReadinessScore(e){let t=this.calculateRecoveryScore(e),a=this.getRecentTrainingLoad(),s=this.getCurrentFatigueLevel(),i=0;return a.consecutiveHighDays>=3&&(i-=15),s>=7&&(i-=20),e.physiological?.restingHeartRate>this.getBaselineHR()+10&&(i-=10),Math.max(0,Math.min(100,t+i))}generateWellnessRecommendations(e){let t={priority:[],sleep:[],stress:[],nutrition:[],training:[]};e.sleep?.duration<7&&(t.priority.push("Prioritize increasing sleep duration to 7-9 hours"),t.sleep.push(...this.recoveryProtocols.sleep.optimization)),e.sleep?.quality<6&&t.sleep.push(...this.recoveryProtocols.sleep.intervention),e.stress?.overallStress>7&&(t.priority.push("Implement stress management strategies"),t.stress.push(...this.recoveryProtocols.stress.acute)),e.nutrition?.hydration<6&&(t.priority.push("Increase daily hydration"),t.nutrition.push(...this.recoveryProtocols.nutrition.hydration));let a=this.calculateReadinessScore(e);return a<60?(t.priority.push("Consider reducing training intensity today"),t.training.push("Focus on technique and movement quality"),t.training.push("Reduce volume by 20-30%"),t.training.push("Include extra warm-up and cool-down")):a>85&&(t.training.push("Good day for higher intensity training"),t.training.push("Consider pushing challenging sets")),t}analyzeWellnessTrends(e=14){let t=this.getWellnessHistory(e);return{sleep:this.analyzeSleepTrend(t),stress:this.analyzeStressTrend(t),recovery:this.analyzeRecoveryTrend(t),readiness:this.analyzeReadinessTrend(t),correlations:this.analyzeWellnessCorrelations(t)}}generateWellnessReport(){let e=this.wellnessMetrics,t=this.analyzeWellnessTrends(30),a=this.analyzeTrainingWellnessImpact();return{current:{recoveryScore:this.calculateRecoveryScore(e),readinessScore:this.calculateReadinessScore(e),keyMetrics:this.getKeyWellnessMetrics(e),alerts:this.generateWellnessAlerts(e)},trends:t,trainingImpact:a,recommendations:this.generateWellnessRecommendations(e),protocols:this.getPersonalizedProtocols(),insights:this.generateWellnessInsights(t,a)}}optimizeTrainingBasedOnWellness(e){let t=this.calculateReadinessScore(this.wellnessMetrics),a=this.calculateRecoveryScore(this.wellnessMetrics),s={volumeMultiplier:1,intensityMultiplier:1,recommendations:[],rationale:""};return t>=85&&a>=80?(s.volumeMultiplier=1.1,s.intensityMultiplier=1.05,s.recommendations.push("Excellent day for pushing limits"),s.rationale="High wellness scores support increased training stress"):t>=65?(s.recommendations.push("Proceed with planned training"),s.rationale="Wellness scores support normal training"):t<60?(s.volumeMultiplier=.8,s.intensityMultiplier=.9,s.recommendations.push("Reduce volume and intensity"),s.recommendations.push("Focus on movement quality"),s.rationale="Wellness scores suggest increased recovery need"):t<40&&(s.volumeMultiplier=.6,s.intensityMultiplier=.8,s.recommendations.push("Consider active recovery instead"),s.recommendations.push("Light movement, stretching, breathing"),s.rationale="Very low wellness scores require prioritizing recovery"),{originalTraining:e,modifications:s,adjustedTraining:this.applyTrainingModifications(e,s)}}calculateSleepScore(e){let t;return Math.round(0+Math.min(100,e.duration/8*40)+e.quality/10*30+e.efficiency/100*20+10*Math.max(0,(10-e.wakeups)/10))}calculateStressScore(e){return Math.round(Math.max(0,100-10*((e.workStress+e.lifeStress+e.trainingStress)/3)))}calculateNutritionScore(e){let t=["hydration","proteinAdequacy","carbTiming","micronutrients","mealTiming"];return Math.round(t.reduce((t,a)=>t+(e[a]||5),0)/t.length/10*100)}calculateLifestyleScore(e){let t=["screenTime","sunlightExposure","socialConnection","natureExposure","workLifeBalance"];return Math.round(t.reduce((t,a)=>t+(e[a]||5),0)/t.length/10*100)}getWellnessHistory(e){let t=[],a=new Date;for(let s=0;s<e;s++){let e=new Date(a);e.setDate(e.getDate()-s);let i=`wellness-${e.toISOString().split("T")[0]}`,n=localStorage.getItem(i);if(n)try{t.push(JSON.parse(n))}catch(e){console.warn("Failed to parse wellness data:",i)}}return t.reverse()}getRecentTrainingLoad(){return{consecutiveHighDays:2,weeklyVolume:45,intensity:7}}getCurrentFatigueLevel(){return 5}getBaselineHR(){return 60}applyTrainingModifications(e,t){return{...e,volume:Math.round(e.volume*t.volumeMultiplier),intensity:e.intensity*t.intensityMultiplier,modifications:t.recommendations}}}let o=new r},{"../core/trainingState.js":"e7afj","./fatigue.js":"3GKzs","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],hpS7Y:[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"AdvancedPeriodizationSystem",()=>o),i.export(a,"periodizationSystem",()=>l);var n=e("../core/trainingState.js"),r=i.interopDefault(n);e("./wellnessIntegration.js"),e("./intelligenceHub.js");class o{constructor(){this.periodizationModels=this.initializePeriodizationModels(),this.planningTemplates=this.initializePlanningTemplates(),this.adaptationAlgorithms=this.initializeAdaptationAlgorithms()}initializePeriodizationModels(){return{linear:{name:"Linear Periodization",description:"Progressive volume increase with intensity modulation",phases:["Accumulation","Intensification","Realization","Deload"],volumeProgression:[100,120,110,60],intensityProgression:[70,75,85,60],duration:4,applications:["Beginners","Strength focus","Competition prep"]},undulating:{name:"Undulating Periodization",description:"Frequent variation in volume and intensity",phases:["High Volume","High Intensity","Moderate","Deload"],volumeProgression:[130,80,100,60],intensityProgression:[70,90,80,60],duration:4,applications:["Intermediate/Advanced","Hypertrophy","Avoiding plateaus"]},block:{name:"Block Periodization",description:"Focused training blocks with specific adaptations",phases:["Accumulation","Intensification","Realization"],volumeProgression:[120,90,70],intensityProgression:[75,85,95],duration:3,applications:["Advanced athletes","Sport-specific","Competition cycles"]},conjugate:{name:"Conjugate Method",description:"Simultaneous development of multiple qualities",phases:["Max Effort","Dynamic Effort","Repetition Method"],volumeProgression:[90,110,120],intensityProgression:[95,70,80],duration:3,applications:["Powerlifting","Strength athletes","Advanced training"]},autoregulated:{name:"Autoregulated Training",description:"AI-driven adaptive periodization based on real-time feedback",phases:["Adaptive","Responsive","Predictive"],volumeProgression:"dynamic",intensityProgression:"dynamic",duration:"variable",applications:["All levels","Optimal adaptation","Injury prevention"]}}}initializePlanningTemplates(){return{hypertrophy12Week:{name:"12-Week Hypertrophy Specialization",duration:12,phases:[{name:"Foundation Building",weeks:4,focus:"Volume accumulation and movement quality",volumeMultiplier:1,intensityRange:[70,80],exercises:"compound and isolation mix"},{name:"Progressive Overload",weeks:4,focus:"Systematic volume and intensity increase",volumeMultiplier:1.2,intensityRange:[75,85],exercises:"add complexity and variety"},{name:"Peak Volume",weeks:3,focus:"Maximum tolerable volume",volumeMultiplier:1.4,intensityRange:[70,80],exercises:"isolation focus for weak points"},{name:"Deload & Assessment",weeks:1,focus:"Recovery and progress evaluation",volumeMultiplier:.6,intensityRange:[60,70],exercises:"movement quality and mobility"}]},strength16Week:{name:"16-Week Strength Specialization",duration:16,phases:[{name:"General Preparation",weeks:4,focus:"Movement patterns and base building",volumeMultiplier:1.1,intensityRange:[70,80],exercises:"compound movements with accessories"},{name:"Specific Preparation",weeks:6,focus:"Strength development in competition lifts",volumeMultiplier:1,intensityRange:[80,90],exercises:"competition lifts and close variants"},{name:"Competition Preparation",weeks:4,focus:"Peak strength and competition readiness",volumeMultiplier:.8,intensityRange:[85,100],exercises:"competition lifts only"},{name:"Peaking",weeks:2,focus:"Peak performance",volumeMultiplier:.5,intensityRange:[90,105],exercises:"competition lifts with opener/attempts"}]},powerbuilding20Week:{name:"20-Week Powerbuilding Program",duration:20,phases:[{name:"Hypertrophy Block",weeks:8,focus:"Muscle mass and volume tolerance",volumeMultiplier:1.3,intensityRange:[65,80],exercises:"high volume, pump-focused"},{name:"Strength Block",weeks:8,focus:"Maximal strength development",volumeMultiplier:.9,intensityRange:[80,95],exercises:"compound movements, heavy loads"},{name:"Power Block",weeks:3,focus:"Power and speed development",volumeMultiplier:.7,intensityRange:[70,85],exercises:"explosive movements, plyometrics"},{name:"Deload",weeks:1,focus:"Recovery and reassessment",volumeMultiplier:.5,intensityRange:[60,70],exercises:"movement quality and mobility"}]}}}initializeAdaptationAlgorithms(){return{volumeAdaptation:{minIncrease:.05,maxIncrease:.25,baseIncrease:.1,fatigueThreshold:7,recoveryThreshold:5},intensityAdaptation:{minIncrease:.025,maxIncrease:.1,baseIncrease:.05,performanceThreshold:80,plateauThreshold:75},frequencyAdaptation:{minFrequency:1,maxFrequency:4,recoveryFactor:.8,volumeFactor:1.2}}}createLongTermPlan(e,t=16){let a=this.analyzeUserProfile(),s=this.selectOptimalPeriodization(e,a),i=this.generatePlanStructure(s,t,e),n=this.generateWeeklyPlans(i),r=this.createProgressionPlan(n);return{overview:{duration:t,model:s.name,goals:e,userProfile:a,startDate:new Date,estimatedCompletion:this.calculateCompletionDate(t)},structure:i,weeklyPlans:n,progressionPlan:r,adaptationTriggers:this.defineAdaptationTriggers(),milestones:this.definePlanMilestones(t,e),contingencyPlans:this.createContingencyPlans()}}analyzeUserProfile(){let e=this.getHistoricalTrainingData(),t=this.assessCurrentCapacity(),a=this.analyzeResponsePatterns(e);return{experience:this.determineExperienceLevel(e),capacity:t,responsePatterns:a,preferences:this.analyzeTrainingPreferences(e),limitingFactors:this.identifyLimitingFactors(),adaptationRate:this.calculateAdaptationRate(e)}}selectOptimalPeriodization(e,t){let a={};Object.entries(this.periodizationModels).forEach(([s,i])=>{let n=0;"hypertrophy"===e.primary&&i.applications.includes("Hypertrophy")&&(n+=3),"strength"===e.primary&&i.applications.includes("Strength focus")&&(n+=3),"powerlifting"===e.primary&&i.applications.includes("Powerlifting")&&(n+=3),"beginner"===t.experience&&i.applications.includes("Beginners")&&(n+=2),"intermediate"===t.experience&&i.applications.includes("Intermediate/Advanced")&&(n+=2),"advanced"===t.experience&&i.applications.includes("Advanced athletes")&&(n+=2),"fast"===t.adaptationRate&&"undulating"===s&&(n+=1),"slow"===t.adaptationRate&&"linear"===s&&(n+=1),"high"===t.responsePatterns.variabilityTolerance&&"conjugate"===s&&(n+=1),a[s]=n});let s=Object.keys(a).reduce((e,t)=>a[e]>a[t]?e:t);return this.periodizationModels[s]}generateWeeklyPlans(e){let t=[],a=1;return e.phases.forEach(e=>{for(let s=0;s<e.weeks;s++){let i=this.generateWeekPlan(e,s,a);t.push(i),a++}}),t}generateWeekPlan(e,t,a){let s=Object.keys(r.default.volumeLandmarks),i=(t+1)/e.weeks,n={week:a,phase:e.name,focus:e.focus,progressionFactor:i,muscles:{}};return s.forEach(t=>{let a=r.default.volumeLandmarks[t],s=this.adjustLandmarksForPhase(a,e,i);n.muscles[t]={landmarks:s,targetSets:this.calculateTargetSets(s,e),intensityRange:e.intensityRange,exerciseSelection:this.selectPhaseExercises(t,e),loadProgression:this.calculateLoadProgression(e,i),recoveryRequirements:this.calculateRecoveryRequirements(t,e)}}),n}createProgressionPlan(e){return{volumeProgression:this.createVolumeProgression(e),intensityProgression:this.createIntensityProgression(e),exerciseProgression:this.createExerciseProgression(e),deloadTriggers:this.defineDeloadTriggers(),adaptationChecks:this.scheduleAdaptationChecks(e),autoAdjustmentRules:this.defineAutoAdjustmentRules()}}adaptPlanBasedOnPerformance(e,t){let a={volumeAdjustment:1,intensityAdjustment:1,frequencyAdjustment:1,exerciseModifications:[],phaseModifications:[],reasoning:[]},s=this.analyzePerformanceTrend(t),i=this.assessFatigueStatus(t),n=this.assessWellnessImpact();return"declining"===s.direction&&s.significance>.7&&(a.volumeAdjustment=.85,a.intensityAdjustment=.9,a.reasoning.push("Performance decline detected - reducing training stress")),"high"===i.level&&i.duration>=3&&(a.volumeAdjustment*=.8,a.reasoning.push("Sustained high fatigue - additional volume reduction")),n.readiness<60&&(a.frequencyAdjustment=.8,a.reasoning.push("Low wellness readiness - reducing training frequency")),"improving"===s.direction&&"low"===i.level&&(a.volumeAdjustment=1.1,a.reasoning.push("Strong performance with low fatigue - increasing volume")),this.applyPlanAdaptations(e,a)}generateIntelligentDeload(e){let t=this.calculateDeloadIntensity(e),a=this.calculateDeloadDuration(e),s=this.selectDeloadActivities(e);return{type:this.determineDeloadType(e),intensity:t,duration:a,activities:s,volumeReduction:this.calculateVolumeReduction(t),intensityReduction:this.calculateIntensityReduction(t),focusAreas:this.identifyDeloadFocusAreas(e),returnCriteria:this.defineReturnCriteria(e),monitoring:this.defineDeloadMonitoring()}}createPeakingProtocol(e,t){let a=this.definePeakingPhases(t);return{phases:a,tapering:this.createTaperingPlan(t),competitionPrep:this.createCompetitionPrep(e),timeline:this.createPeakingTimeline(t),keyWorkouts:this.scheduleKeyWorkouts(t),recoveryProtocol:this.createPeakingRecoveryProtocol(),nutritionGuidance:this.createPeakingNutritionPlan(),mentalPreparation:this.createMentalPrepPlan()}}determineExperienceLevel(e){let t=e.length,a=this.calculateConsistency(e),s=this.calculateProgressionRate(e);return t<12||a<60?"beginner":t<52||s>.8?"intermediate":"advanced"}assessCurrentCapacity(){return{totalVolume:Object.keys(r.default.volumeLandmarks).reduce((e,t)=>e+r.default.volumeLandmarks[t].MRV,0),muscleDistribution:this.analyzeMuscleDistribution(),recoveryCapacity:this.assessRecoveryCapacity(),adaptationPotential:this.assessAdaptationPotential()}}calculateTargetSets(e,t){return Math.round((e.MEV+e.MAV)/2*t.volumeMultiplier)}getHistoricalTrainingData(){let e=[];for(let t=0;t<localStorage.length;t++){let a=localStorage.key(t);if(a&&a.startsWith("session-"))try{let t=JSON.parse(localStorage.getItem(a));e.push(t)}catch(e){console.warn("Failed to parse session data:",a)}}return e.sort((e,t)=>new Date(e.startTime)-new Date(t.startTime))}calculateCompletionDate(e){let t=new Date(new Date);return t.setDate(t.getDate()+7*e),t}}let l=new o},{"../core/trainingState.js":"e7afj","./wellnessIntegration.js":"fripj","./intelligenceHub.js":"dvKzQ","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dvKzQ:[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"AdvancedTrainingIntelligence",()=>u),i.export(a,"advancedIntelligence",()=>m);var n=e("../core/trainingState.js"),r=i.interopDefault(n),o=e("./analytics.js"),l=e("./exerciseSelection.js"),c=e("./livePerformance.js"),d=e("./fatigue.js");e("./volume.js");class u{constructor(){this.analyticsEnabled=!0,this.exerciseSelectionEnabled=!0,this.liveMonitoringEnabled=!0,this.lastOptimization=null,this.trainingInsights={}}initialize(){return console.log("\uD83E\uDDE0 Advanced Training Intelligence initializing..."),this.setupLiveMonitoring(),this.initializeAnalytics(),console.log("✅ Advanced features ready"),{analytics:this.analyticsEnabled,exerciseSelection:this.exerciseSelectionEnabled,liveMonitoring:this.liveMonitoringEnabled,message:"Advanced Training Intelligence is online"}}setupLiveMonitoring(){this.liveMonitoringEnabled&&(c.liveMonitor.on("sessionCompleted",e=>{this.processSessionData(e)}),c.liveMonitor.on("setCompleted",e=>{this.processLiveSetData(e)}))}initializeAnalytics(){let e=this.getHistoricalData();e.length>=4?(this.analyticsEnabled=!0,console.log(`\u{1F4CA} Analytics enabled with ${e.length} weeks of data`)):(console.log(`\u{1F4CA} Analytics disabled - need ${4-e.length} more weeks of data`),this.analyticsEnabled=!1)}getWeeklyIntelligence(){let e={week:r.default.weekNo,block:r.default.blockNo,recommendations:[],analytics:null,exerciseSelections:{},riskAssessment:null,optimizations:[]};if(this.analyticsEnabled){e.analytics=this.generateAnalyticsInsights();let t=this.predictDeloadTiming();t.weeksUntilDeload<=2&&e.recommendations.push({type:"deload_prediction",urgency:"high",message:`Deload predicted in ${t.weeksUntilDeload} weeks`,action:t.recommendedAction});let a=this.detectPlateaus();a.plateauDetected&&e.recommendations.push({type:"plateau_intervention",urgency:a.urgency,message:`${a.plateauType} detected`,interventions:a.interventions})}this.exerciseSelectionEnabled&&(e.exerciseSelections=this.generateExerciseRecommendations());let t=this.checkForOptimizations();return t.length>0&&(e.optimizations=t),e.riskAssessment=this.assessTrainingRisk(),e}generateAnalyticsInsights(){let e=this.getHistoricalData(),t=Object.keys(r.default.volumeLandmarks),a={volumeLandmarkOptimizations:{},adaptiveRIRRecommendations:{},performanceTrends:{}};return t.forEach(t=>{let s=e.filter(e=>e.muscle===t);if(s.length>=4){let e=(0,o.optimizeVolumeLandmarks)(t,s);e.confidence>=60&&(a.volumeLandmarkOptimizations[t]=e);let i=s.map(e=>({actualRIR:e.averageRIR,targetRIR:e.targetRIR,nextDayFatigue:e.fatigue,recoveryDays:e.recoveryTime,techniqueRating:e.techniqueRating||7})),n=(0,o.adaptiveRIRRecommendations)(t,i);n.confidence>=60&&(a.adaptiveRIRRecommendations[t]=n)}}),a}generateExerciseRecommendations(){let e=Object.keys(r.default.volumeLandmarks),t={};return e.forEach(e=>{let a=r.default.getVolumeStatus(e),s=this.estimateFatigueLevel(e),i=(0,l.selectOptimalExercises)(e,{availableEquipment:["barbell","dumbbells","cables","machines"],trainingGoal:"hypertrophy",experienceLevel:"intermediate",fatigueLevel:s,timeConstraint:"moderate",previousExercises:this.getRecentExercises(e),preferredStyle:"maximum"===a?"isolation_focused":"balanced"});t[e]={primary:i[0],alternatives:i.slice(1,3),rationale:`Selected based on ${a} volume status and fatigue level ${s}`}}),t}checkForOptimizations(){let e=[],t=this.lastOptimization;if((t?r.default.weekNo-t.week:1/0)>=4&&this.analyticsEnabled){let t=this.getHistoricalData();Object.keys(r.default.volumeLandmarks).forEach(a=>{let s=t.filter(e=>e.muscle===a);if(s.length>=6){let t=(0,o.optimizeVolumeLandmarks)(a,s);t.confidence>=70&&e.push({type:"volume_landmarks",muscle:a,currentLandmarks:r.default.volumeLandmarks[a],optimizedLandmarks:t,confidence:t.confidence,estimatedImprovement:this.calculateImprovementEstimate(a,t)})}})}let a=this.detectStaleExercises();return a.length>0&&e.push({type:"exercise_rotation",staleExercises:a,recommendation:"Consider rotating exercises to prevent adaptation plateau"}),e}assessTrainingRisk(){let e=[],t=0,a=this.getHighFatigueMuscles();return a.length>0&&(t+=10*a.length,e.push(`${a.length} muscles showing high fatigue`)),r.default.consecutiveMRVWeeks>=2&&(t+=20,e.push("Multiple consecutive weeks at MRV")),this.calculateVolumeProgressionRate()>2&&(t+=15,e.push("Rapid volume progression detected")),this.detectPerformanceDecline()&&(t+=25,e.push("Performance decline detected")),{riskScore:t,riskLevel:t<=25?"low":t<=50?"moderate":t<=75?"high":"critical",riskFactors:e,recommendations:this.generateRiskMitigationRecommendations(t,e)}}processSessionData(e){console.log("\uD83D\uDD04 Processing session data for insights..."),this.trainingInsights[e.muscle]={lastSession:e,performance:e.performance,consistency:e.performance.consistency,updatedAt:new Date},"D"===e.performance.targetAchievement.grade&&console.warn("⚠️ Poor target achievement - consider technique review"),"poor"===e.performance.consistency.rating&&console.warn("⚠️ Poor consistency - fatigue or technique issues");let t=this.extractFatigueFromSession(e);(0,d.isHighFatigue)(e.muscle,t,r.default)&&(console.warn(`\u{1F6A8} High fatigue detected for ${e.muscle}`),this.triggerRecoveryRecommendations(e.muscle))}processLiveSetData(e){e.setInfo.rir>e.setInfo.targetRIR+2&&console.log("\uD83D\uDCA1 Tip: Consider increasing weight next set"),e.setInfo.techniqueRating&&e.setInfo.techniqueRating<6&&console.warn("⚠️ Technique breakdown detected - consider stopping or reducing weight")}triggerRecoveryRecommendations(e){let t={immediate:["Reduce training volume by 20-30% next session","Extend rest periods between sets","Focus on technique over intensity"],shortTerm:["Add extra rest day before next session","Implement stress management techniques","Prioritize sleep quality (8+ hours)"],longTerm:["Consider deload if fatigue persists","Review nutrition and hydration status","Assess life stress factors"]};return console.log(`\u{1F527} Recovery recommendations for ${e}:`,t),t}getHistoricalData(){let e=[];for(let t=0;t<localStorage.length;t++){let a=localStorage.key(t);if(a&&a.startsWith("session-"))try{let t=JSON.parse(localStorage.getItem(a));e.push(t)}catch(e){console.warn("Failed to parse session data:",a)}}return e.sort((e,t)=>new Date(e.startTime)-new Date(t.startTime))}estimateFatigueLevel(e){let t={"under-minimum":2,optimal:4,high:6,maximum:8}[r.default.getVolumeStatus(e)]||5,a=this.trainingInsights[e];return a&&("poor"===a.performance.consistency.rating&&(t+=2),"D"===a.performance.targetAchievement.grade&&(t+=1)),Math.min(10,Math.max(1,t))}getRecentExercises(e){return this.getHistoricalData().filter(t=>t.muscle===e).slice(-3).map(e=>e.exercise)}getHighFatigueMuscles(){return Object.keys(r.default.volumeLandmarks).filter(e=>this.estimateFatigueLevel(e)>=7)}calculateVolumeProgressionRate(){let e=this.getHistoricalData();if(e.length<3)return 0;let t=e.slice(-3),a=[];for(let e=1;e<t.length;e++){let s=t[e].totalSets-t[e-1].totalSets;a.push(s)}return a.reduce((e,t)=>e+t,0)/a.length}detectPerformanceDecline(){let e=this.getHistoricalData();if(e.length<3)return!1;let t=e.slice(-3).map(e=>e.performance?.targetAchievement?.targetPercentage||70);return t.every((e,a)=>0===a||e<=t[a-1])}detectStaleExercises(){let e=this.getHistoricalData(),t={};return e.slice(-6).forEach(e=>{let a=`${e.muscle}-${e.exercise}`;t[a]=(t[a]||0)+1}),Object.entries(t).filter(([e,t])=>t>=4).map(([e,t])=>({exercise:e,usageCount:t}))}generateRiskMitigationRecommendations(e,t){let a=[];return e>=75?(a.push("Implement immediate deload (50% volume reduction)"),a.push("Address sleep and stress management urgently")):e>=50?(a.push("Plan deload within 1-2 weeks"),a.push("Reduce volume progression rate")):e>=25&&(a.push("Monitor fatigue indicators closely"),a.push("Ensure adequate recovery between sessions")),a}calculateImprovementEstimate(e,t){let a=r.default.volumeLandmarks[e],s=(t.MEV-a.MEV)/a.MEV*100,i=(t.MAV-a.MAV)/a.MAV*100;return{mevChange:Math.round(s),mavChange:Math.round(i),estimatedVolumeIncrease:Math.round((s+i)/2),confidence:t.confidence}}extractFatigueFromSession(e){return{soreness:"poor"===e.performance.consistency.rating?3:1,jointAche:0,perfChange:+("A"===e.performance.targetAchievement.grade),pump:e.progress.totalLoad>1e3?3:2,disruption:e.progress.totalLoad>1e3?3:2,lastLoad:Math.max(...e.sets.map(e=>e.weight))}}predictDeloadTiming(){if(!this.analyticsEnabled)return{weeksUntilDeload:1/0,confidence:0};let e=this.getHistoricalData(),t={weeklyFatigueScore:e.slice(-4).map(e=>this.estimateFatigueLevel(e.muscle)),performanceTrend:e.slice(-4).map(e=>e.performance?.targetAchievement?.targetPercentage||70),volumeProgression:e.slice(-4).map(e=>e.totalSets||0),motivationLevel:7,sleepQuality:7};return(0,o.predictDeloadTiming)(t)}detectPlateaus(){if(!this.analyticsEnabled)return{plateauDetected:!1};let e=this.getHistoricalData(),t={weeklyPerformance:e.slice(-6).map(e=>e.performance?.targetAchievement?.targetPercentage||70),weeklyVolume:e.slice(-6).map(e=>e.totalSets||0),weeklyIntensity:e.slice(-6).map(e=>e.averageRIR?10-e.averageRIR:7),weeklyFatigue:e.slice(-6).map(e=>this.estimateFatigueLevel(e.muscle))};return(0,o.detectTrainingPlateaus)(t)}}let m=new u},{"../core/trainingState.js":"e7afj","./analytics.js":"cAapa","./exerciseSelection.js":"lr8uh","./livePerformance.js":"2S3be","./fatigue.js":"3GKzs","./volume.js":"boGW6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],cAapa:[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"optimizeVolumeLandmarks",()=>o),i.export(a,"predictDeloadTiming",()=>c),i.export(a,"adaptiveRIRRecommendations",()=>p),i.export(a,"detectTrainingPlateaus",()=>h),i.export(a,"calculateTrajectory",()=>d),i.export(a,"calculateConfidence",()=>l);var n=e("../core/trainingState.js"),r=i.interopDefault(n);function o(e,t){let a,s;if(t.length<4)return r.default.volumeLandmarks[e];let i=t.map(e=>({volume:e.sets,stimulus:e.avgStimulus,fatigue:e.avgFatigue,performance:e.performanceChange})),n=function(e){let t=e.filter(e=>e.stimulus>=6);return 0===t.length?e[0]?.volume||6:Math.min(...t.map(e=>e.volume))}(i),o=(a=0,s=12,i.forEach(e=>{let t=e.stimulus/Math.max(1,e.fatigue);t>a&&(a=t,s=e.volume)}),s),c=function(e){let t=e.filter(e=>e.stimulus/Math.max(1,e.fatigue)<1);return 0===t.length?Math.max(...e.map(e=>e.volume))+2:Math.min(...t.map(e=>e.volume))-1}(i);return{MV:r.default.volumeLandmarks[e].MV,MEV:Math.round(n),MAV:Math.round(o),MRV:Math.round(c),confidence:l(t.length),lastOptimized:new Date().toISOString()}}function l(e){return e<4?0:e<8?60:e<12?80:95}function c(e){let{weeklyFatigueScore:t,performanceTrend:a,volumeProgression:s,motivationLevel:i,sleepQuality:n}=e,r=d(t),o=d(a),l=u(r,75),c=u(o,-15,"decline"),p=Math.min(l,c);return{weeksUntilDeload:Math.max(1,p),confidence:function(e,t){let a=m(e);return Math.round((a+m(t))/2*100)}(r,o),primaryIndicator:l<c?"fatigue":"performance",recommendedAction:p<=2?"plan_deload":"monitor_closely",fatigueProjection:r,performanceProjection:o}}function d(e){if(e.length<2)return{slope:0,intercept:e[0]||0};let t=e.length,a=e.reduce((e,t,a)=>e+a,0),s=e.reduce((e,t)=>e+t,0),i=(t*e.reduce((e,t,a)=>e+a*t,0)-a*s)/(t*e.reduce((e,t,a)=>e+a*a,0)-a*a);return{slope:i,intercept:(s-i*a)/t}}function u(e,t,a="exceed"){let{slope:s,intercept:i}=e;return 0===s||"decline"===a&&s>=0||"exceed"===a&&s<=0?1/0:Math.max(0,(t-i)/s)}function m(e){return .3*Math.random()+.7}function p(e,t){var a,s;let i=r.default.getTargetRIR(),n=r.default.getVolumeStatus(e),o=(a=t).length<3?.5:a.filter(e=>e.actualRIR<e.targetRIR-1&&e.nextDayFatigue>7).length/a.length,l=function(e){if(e.length<3)return .6;let t=e.filter(e=>e.recoveryDays).map(e=>e.recoveryDays);return 0===t.length?.6:Math.max(0,Math.min(1,(4-t.reduce((e,t)=>e+t,0)/t.length)/3))}(t),c=function(e){if(e.length<3)return .7;let t=e.filter(e=>e.techniqueRating).map(e=>e.techniqueRating);return 0===t.length?.7:t.reduce((e,t)=>e+t,0)/t.length/10}(t),d=0,u=[];o>.7?(d+=.5,u.push("High overreaching tendency detected")):o<.3&&(d-=.5,u.push("Low overreaching tendency - can push harder")),l>.8?(d-=.3,u.push("Fast recovery allows higher intensity")):l<.4&&(d+=.3,u.push("Slow recovery requires more conservative approach")),c<.6&&(d+=.5,u.push("Technique breakdown requires higher RIR"));let m=Math.max(.5,Math.min(4,i+d));return{baseRIR:i,adaptedRIR:Math.round(2*m)/2,adjustment:d,reasoning:u,confidence:(s=t.length)<3?40:s<6?60:s<10?80:95,muscle:e,volumeStatus:n}}function h(e){var t;let{weeklyPerformance:a,weeklyVolume:s,weeklyIntensity:i,weeklyFatigue:n}=e,r=g(a,4),o=g(s,3),l=function(e,t){if(e.length<3)return!1;let a=d(e);return"increasing"===t?a.slope>.1:a.slope<-.1}(n,"increasing"),c="none",u=[],m="low";return r&&o?(c="complete_stagnation",m="high",u=["Implement planned deload (1-2 weeks)","Vary exercise selection and rep ranges","Address potential lifestyle factors","Consider periodization block change"]):r?(c="performance_plateau",m="medium",u=["Increase training intensity (lower RIR)","Implement exercise variations","Focus on technique refinement","Short deload if fatigue is high"]):o&&l&&(c="volume_plateau",m="medium",u=["Prioritize recovery methods","Implement recovery weeks","Optimize frequency distribution","Address sleep and nutrition"]),{plateauDetected:"none"!==c,plateauType:c,urgency:m,interventions:u,analysisDetails:{performanceStagnant:r,volumeStagnant:o,fatigueAccumulating:l},recommendations:(t=0,({complete_stagnation:["Implement 7-14 day deload immediately","Complete exercise selection overhaul","Reassess training age and advancement needs","Consider block periodization transition"],performance_plateau:["Increase intensity via reduced RIR (0.5-1 RIR drop)","Implement exercise variations or new movements","Focus on technique refinement sessions","Add specialization phase for lagging areas"],volume_plateau:["Prioritize sleep optimization (8+ hours)","Implement stress management protocols","Add extra recovery days between sessions","Focus on nutrition timing and quality"]})[c]||["Continue current program with close monitoring"])}}function g(e,t=3){if(e.length<t)return!1;let a=e.slice(-t);return Math.sqrt(function(e){let t=e.reduce((e,t)=>e+t,0)/e.length;return e.map(e=>Math.pow(e-t,2)).reduce((e,t)=>e+t,0)/e.length}(a))/Math.abs(a.reduce((e,t)=>e+t,0)/a.length)<.05}},{"../core/trainingState.js":"e7afj","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],lr8uh:[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"selectOptimalExercises",()=>o),i.export(a,"generateWeeklyProgram",()=>c),i.export(a,"EXERCISE_DATABASE",()=>r),i.export(a,"formatExerciseName",()=>l);var n=e("../core/trainingState.js");i.interopDefault(n);let r={chest:{barbell_bench_press:{type:"compound",primaryMuscles:["chest"],secondaryMuscles:["triceps","front_delts"],equipment:["barbell","bench"],fatigueIndex:8.5,skillRequirement:7,ranges:{strength:[1,5],hypertrophy:[6,12],endurance:[12,20]},biomechanics:{rangeOfMotion:"full",stabilityRequirement:"high",coordination:"moderate"}},dumbbell_bench_press:{type:"compound",primaryMuscles:["chest"],secondaryMuscles:["triceps","front_delts"],equipment:["dumbbells","bench"],fatigueIndex:7.5,skillRequirement:6,ranges:{strength:[1,6],hypertrophy:[6,15],endurance:[12,25]},biomechanics:{rangeOfMotion:"extended",stabilityRequirement:"moderate",coordination:"moderate"}},push_ups:{type:"compound",primaryMuscles:["chest"],secondaryMuscles:["triceps","front_delts","core"],equipment:["bodyweight"],fatigueIndex:4,skillRequirement:3,ranges:{strength:[1,8],hypertrophy:[8,20],endurance:[15,50]},biomechanics:{rangeOfMotion:"moderate",stabilityRequirement:"high",coordination:"low"}},incline_dumbbell_press:{type:"compound",primaryMuscles:["chest"],secondaryMuscles:["triceps","front_delts"],equipment:["dumbbells","incline_bench"],fatigueIndex:7,skillRequirement:5,ranges:{strength:[1,6],hypertrophy:[6,15],endurance:[12,20]},biomechanics:{rangeOfMotion:"full",stabilityRequirement:"moderate",coordination:"moderate"}},cable_flyes:{type:"isolation",primaryMuscles:["chest"],secondaryMuscles:[],equipment:["cables"],fatigueIndex:5.5,skillRequirement:4,ranges:{strength:[1,8],hypertrophy:[8,20],endurance:[15,30]},biomechanics:{rangeOfMotion:"extended",stabilityRequirement:"low",coordination:"low"}}},back:{deadlift:{type:"compound",primaryMuscles:["back"],secondaryMuscles:["glutes","hamstrings","traps"],equipment:["barbell"],fatigueIndex:9.5,skillRequirement:9,ranges:{strength:[1,5],hypertrophy:[5,10],endurance:[8,15]},biomechanics:{rangeOfMotion:"full",stabilityRequirement:"very_high",coordination:"high"}},pull_ups:{type:"compound",primaryMuscles:["back"],secondaryMuscles:["biceps","rear_delts"],equipment:["pull_up_bar"],fatigueIndex:7.5,skillRequirement:6,ranges:{strength:[1,6],hypertrophy:[5,12],endurance:[10,20]},biomechanics:{rangeOfMotion:"full",stabilityRequirement:"moderate",coordination:"moderate"}},barbell_rows:{type:"compound",primaryMuscles:["back"],secondaryMuscles:["biceps","rear_delts"],equipment:["barbell"],fatigueIndex:8,skillRequirement:7,ranges:{strength:[1,6],hypertrophy:[6,12],endurance:[10,20]},biomechanics:{rangeOfMotion:"full",stabilityRequirement:"high",coordination:"high"}},lat_pulldowns:{type:"compound",primaryMuscles:["back"],secondaryMuscles:["biceps","rear_delts"],equipment:["cable_machine"],fatigueIndex:6,skillRequirement:4,ranges:{strength:[1,8],hypertrophy:[6,15],endurance:[12,25]},biomechanics:{rangeOfMotion:"full",stabilityRequirement:"low",coordination:"low"}}},quads:{back_squat:{type:"compound",primaryMuscles:["quads"],secondaryMuscles:["glutes","core"],equipment:["barbell","squat_rack"],fatigueIndex:9,skillRequirement:8,ranges:{strength:[1,5],hypertrophy:[6,12],endurance:[12,20]}},leg_press:{type:"compound",primaryMuscles:["quads"],secondaryMuscles:["glutes"],equipment:["leg_press_machine"],fatigueIndex:6.5,skillRequirement:3,ranges:{strength:[1,8],hypertrophy:[8,20],endurance:[15,30]}}}};function o(e,t={}){let{availableEquipment:a=["barbell","dumbbells","cables","machines"],trainingGoal:s="hypertrophy",experienceLevel:i="intermediate",fatigueLevel:n=5,timeConstraint:c="moderate",previousExercises:d=[],injuryHistory:u=[],preferredStyle:m="balanced"}=t,p=r[e.toLowerCase()]||{};return 0===Object.keys(p).length?[{name:"No exercises found",score:0,reasoning:"Muscle not in database"}]:Object.entries(p).map(([e,t])=>{var r,o,p,h,g,f;let v,y=0,b=[];if(!t.equipment.every(e=>a.includes(e)))return{name:e,score:0,reasoning:["Equipment not available"],exercise:t};let k=Math.abs(t.skillRequirement-(({beginner:3,intermediate:6,advanced:9})[i]||6));k<=2?(y+=20,b.push("Skill level appropriate")):k<=4?(y+=10,b.push("Skill level manageable")):(y+=0,b.push("Skill level mismatch"));let S=t.ranges[s];S?(y+=15,b.push(`Optimal for ${s}`)):(y+=5,b.push(`Suboptimal for ${s}`)),y+=10-Math.abs(t.fatigueIndex-(10-n)),t.fatigueIndex<=10-n?b.push("Good fatigue compatibility"):b.push("High fatigue exercise - use carefully"),"high"===c&&("compound"===t.type?(y+=15,b.push("Time-efficient compound movement")):(y+=5,b.push("Isolation movement - less time efficient"))),"compound_focused"===m&&"compound"===t.type?(y+=10,b.push("Matches compound preference")):"isolation_focused"===m&&"isolation"===t.type?(y+=10,b.push("Matches isolation preference")):"balanced"===m&&(y+=8,b.push("Balanced selection")),d.includes(e)?(y-=5,b.push("Recently used - may cause adaptation plateau")):(y+=8,b.push("Novel exercise selection"));let w=(r=t,o=u,v=0,r.skillRequirement>7&&o.includes("back")&&(v+=3),r.fatigueIndex>8&&o.length>0&&(v+=2),r.primaryMuscles.forEach(e=>{o.includes(e)&&(v+=4)}),Math.min(5,v));return w>0&&(y-=5*w,b.push(`Injury risk consideration: -${5*w} points`)),{name:l(e),score:Math.max(0,y),reasoning:b,exercise:t,repRange:S||[6,12],sets:(p=t,h=s,({strength:"compound"===p.type?3:2,hypertrophy:(p.type,3),endurance:"compound"===p.type?2:4})[h]||3),rest:(g=t,f=s,({strength:"compound"===g.type?"3-5 minutes":"2-3 minutes",hypertrophy:"compound"===g.type?"2-3 minutes":"1-2 minutes",endurance:"compound"===g.type?"1-2 minutes":"30-60 seconds"})[f]||"2-3 minutes")}}).sort((e,t)=>t.score-e.score).slice(0,5)}function l(e){return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function c(e={}){let{daysPerWeek:t=4,muscleGroups:a=["chest","back","quads","shoulders"],splitType:s="upper_lower",availableEquipment:i=["barbell","dumbbells","cables"],experienceLevel:n="intermediate",timePerSession:l=60}=e,d={splitType:s,daysPerWeek:t,sessions:[]};switch(s){case"upper_lower":default:d.sessions=function(e,t){let a=[],s={name:"Upper Body",type:"upper",exercises:[]};["chest","back","shoulders","biceps","triceps"].forEach(e=>{if(r[e]){let a=o(e,t);a.length>0&&s.exercises.push({muscle:e,exercise:a[0].name,sets:a[0].sets,reps:a[0].repRange,rest:a[0].rest})}});let i={name:"Lower Body",type:"lower",exercises:[]};["quads","hamstrings","glutes","calves"].forEach(e=>{if(r[e]){let a=o(e,t);a.length>0&&i.exercises.push({muscle:e,exercise:a[0].name,sets:a[0].sets,reps:a[0].repRange,rest:a[0].rest})}});for(let t=1;t<=e;t++)t%2==1?a.push({...s,day:t}):a.push({...i,day:t});return a}(t,e);break;case"push_pull_legs":d.sessions=function(e,t){let a=[],s={push:{name:"Push (Chest, Shoulders, Triceps)",muscles:["chest","shoulders","triceps"]},pull:{name:"Pull (Back, Biceps)",muscles:["back","biceps"]},legs:{name:"Legs (Quads, Hamstrings, Glutes, Calves)",muscles:["quads","hamstrings","glutes","calves"]}},i=["push","pull","legs"];for(let n=1;n<=e;n++){let e=i[(n-1)%3],l=s[e],c={name:l.name,type:e,day:n,exercises:[]};l.muscles.forEach(e=>{if(r[e]){let a=o(e,t);a.length>0&&c.exercises.push({muscle:e,exercise:a[0].name,sets:a[0].sets,reps:a[0].repRange,rest:a[0].rest})}}),a.push(c)}return a}(t,e);break;case"full_body":d.sessions=function(e,t){let a=[],s=["chest","back","quads","shoulders"];for(let i=1;i<=e;i++){let e={name:`Full Body - Day ${i}`,type:"full_body",day:i,exercises:[]};s.forEach(a=>{if(r[a]){let s=o(a,{...t,previousExercises:i>1?[`exercise_from_day_${i-1}`]:[]});s.length>0&&e.exercises.push({muscle:a,exercise:s[0].name,sets:Math.max(1,s[0].sets-1),reps:s[0].repRange,rest:s[0].rest})}}),a.push(e)}return a}(t,e)}return d}},{"../core/trainingState.js":"e7afj","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"2S3be":[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"LivePerformanceMonitor",()=>c),i.export(a,"liveMonitor",()=>d);var n=e("../core/trainingState.js"),r=i.interopDefault(n),o=e("./fatigue.js"),l=e("./effort.js");class c{constructor(){this.sessionData={startTime:null,currentExercise:null,sets:[],muscle:null,targetRIR:null,plannedSets:0,completedSets:0},this.isActive=!1,this.callbacks={}}startSession(e){let{muscle:t,exercise:a,plannedSets:s=3,targetRIR:i=null}=e;return this.sessionData={startTime:new Date,currentExercise:a,sets:[],muscle:t,targetRIR:i||r.default.getTargetRIR(),plannedSets:s,completedSets:0},this.isActive=!0,this.emit("sessionStarted",this.sessionData),{sessionId:this.generateSessionId(),status:"active",message:`Session started for ${t} - ${a}`}}logSet(e){if(!this.isActive)throw Error("No active session");let{weight:t,reps:a,rir:s,rpe:i=null,techniqueRating:n=null,notes:r=""}=e,o=this.sessionData.sets.length+1,c=new Date,d=this.sessionData.targetRIR,u=s-d,m=(0,l.validateEffortLevel)(s,d),p={setNumber:o,timestamp:c,weight:t,reps:a,rir:s,rpe:i,techniqueRating:n,notes:r,targetRIR:d,rirDeviation:u,validation:m,estimatedLoad:this.calculateEstimatedLoad(t,a,s)};this.sessionData.sets.push(p),this.sessionData.completedSets=o;let h=this.generateSetFeedback(p),g=this.generateNextSetRecommendations(p);return this.emit("setCompleted",{setInfo:p,feedback:h,nextSetRecommendations:g,sessionProgress:this.getSessionProgress()}),{setNumber:o,feedback:h,nextSetRecommendations:g,shouldContinue:this.shouldContinueSession()}}generateSetFeedback(e){let{rir:t,targetRIR:a,validation:s,weight:i,reps:n}=e,r={type:"success",message:"",urgency:"normal",recommendations:[]};return s.isWithinTolerance?(r.message=`\u{2705} Perfect effort level (${t} RIR vs ${a} target)`,r.type="success"):"high"===s.urgency?t>a+1.5?(r.message=`\u{26A0}\u{FE0F} Too easy - consider increasing weight next set`,r.type="warning",r.recommendations.push(`Try ${Math.round(1.05*i)}-${Math.round(1.1*i)}kg next set`)):(r.message=`\u{1F6A8} Too hard - consider reducing weight or stopping`,r.type="danger",r.urgency="high",r.recommendations.push(`Reduce to ${Math.round(.9*i)}-${Math.round(.95*i)}kg`)):(r.message=`\u{26A1} Close to target but could be dialed in better`,r.type="info"),e.setNumber>1&&this.analyzeIntraSessionTrend().declining&&(r.recommendations.push("Consider longer rest between sets"),r.recommendations.push("Monitor for excessive fatigue buildup")),r}generateNextSetRecommendations(e){let{weight:t,reps:a,rir:s,targetRIR:i}=e,n=s-i,r={weight:t,reps:a,rest:"2-3 minutes",strategy:"maintain",rationale:[]};return n>1.5?(r.weight=Math.round(t*(1+(n>2.5?.1:.05))),r.strategy="increase_intensity",r.rationale.push(`Increase weight due to ${s} RIR (target: ${i})`)):n<-1.5&&(r.weight=Math.round(t*(1-(n<-2.5?.1:.05))),r.strategy="reduce_intensity",r.rationale.push("Reduce weight due to excessive difficulty")),a<6&&i<=2&&(r.reps=Math.min(a+1,8),r.rationale.push("Aim for hypertrophy rep range")),s<1?(r.rest="3-4 minutes",r.rationale.push("Extended rest due to high effort")):s>3&&(r.rest="1-2 minutes",r.rationale.push("Shorter rest - effort level manageable")),e.setNumber>=3&&this.assessIntraSetFatigue().high&&(r.strategy="maintain_or_stop",r.rationale.push("High fatigue detected - consider stopping")),r}analyzeIntraSessionTrend(){if(this.sessionData.sets.length<2)return{trending:"insufficient_data"};let e=this.sessionData.sets.slice(-3),t=e.map(e=>e.rir),a=t.every((e,a)=>0===a||e>=t[a-1]-.5),s=e.map(e=>e.estimatedLoad),i=s[0]-s[s.length-1],n=i>.15*s[0];return{declining:n||!a,rirTrend:t,loadDecline:i/s[0]*100,recommendation:n?"consider_stopping":"continue"}}assessIntraSetFatigue(){let e=this.sessionData.sets.length,t=this.calculateAvgRIRDecrease(),a=(new Date-this.sessionData.startTime)/6e4,s=0;return t<.3&&(s+=2),a>45&&(s+=1),e>this.sessionData.plannedSets+2&&(s+=2),{score:s,high:s>=3,indicators:{poorRIRProgression:t<.3,longSession:a>45,excessiveSets:e>this.sessionData.plannedSets+2}}}calculateAvgRIRDecrease(){if(this.sessionData.sets.length<2)return 0;let e=this.sessionData.sets.map(e=>e.rir),t=[];for(let a=1;a<e.length;a++)t.push(e[a-1]-e[a]);return t.reduce((e,t)=>e+t,0)/t.length}calculateEstimatedLoad(e,t,a){return Math.round(e*t*Math.max(.5,(10-a)/10))}shouldContinueSession(){let e=this.assessIntraSetFatigue(),t=this.analyzeIntraSessionTrend(),a=this.sessionData.plannedSets-this.sessionData.completedSets;return e.high?{shouldContinue:!1,reason:"High fatigue detected",recommendation:"Stop session and rest"}:t.declining&&"consider_stopping"===t.recommendation?{shouldContinue:!1,reason:"Significant performance decline",recommendation:"End session to prevent overreaching"}:a<=0?{shouldContinue:!1,reason:"Planned sets completed",recommendation:"Session complete - good work!"}:{shouldContinue:!0,reason:"Performance maintained",recommendation:`Continue with ${a} sets remaining`}}getSessionProgress(){let e=this.isActive?(new Date-this.sessionData.startTime)/6e4:0,t=this.sessionData.sets.length>0?this.sessionData.sets.reduce((e,t)=>e+t.rir,0)/this.sessionData.sets.length:0,a=this.sessionData.sets.reduce((e,t)=>e+t.estimatedLoad,0);return{completedSets:this.sessionData.completedSets,plannedSets:this.sessionData.plannedSets,progressPercentage:this.sessionData.completedSets/this.sessionData.plannedSets*100,duration:Math.round(e),averageRIR:Math.round(10*t)/10,totalLoad:a,status:this.isActive?"active":"completed"}}endSession(){if(!this.isActive)throw Error("No active session to end");let e=this.generateSessionSummary();return this.isActive=!1,this.emit("sessionEnded",e),e}generateSessionSummary(){let e=this.getSessionProgress(),t=this.analyzeIntraSessionTrend(),a={...this.sessionData,endTime:new Date,progress:e,trend:t,performance:{targetAchievement:this.calculateTargetAchievement(),consistency:this.calculateConsistency(),volumeLoad:e.totalLoad},recommendations:this.generateSessionRecommendations()};return this.storeSessionData(a),a}calculateTargetAchievement(){let e=this.sessionData.sets,t=this.sessionData.targetRIR,a=e.map(e=>Math.abs(e.rir-t)),s=a.reduce((e,t)=>e+t,0)/a.length,i=e.filter(e=>1>=Math.abs(e.rir-t)).length,n=i/e.length*100;return{averageDeviation:Math.round(10*s)/10,setsOnTarget:i,targetPercentage:Math.round(n),grade:n>=80?"A":n>=70?"B":n>=60?"C":"D"}}calculateConsistency(){let e=this.sessionData.sets;if(e.length<2)return{score:0,rating:"insufficient_data"};let t=e.map(e=>e.rir),a=t.map((e,a)=>t[0]+.5*a),s=this.calculateVariance(t,a),i=e.map(e=>e.estimatedLoad),n=this.calculateVariance(i),r=Math.max(0,100-(50*s+50*n));return{score:Math.round(r),rating:r>=80?"excellent":r>=70?"good":r>=60?"fair":"poor",rirConsistency:Math.max(0,100-100*s),loadConsistency:Math.max(0,100-100*n)}}calculateVariance(e,t=null){if(e.length<2)return 0;if(t){let a=e.map((e,a)=>Math.pow(e-t[a],2)).reduce((e,t)=>e+t,0)/e.length,s=Math.max(...t);return Math.min(1,a/(s*s))}{let t=e.reduce((e,t)=>e+t,0)/e.length;return Math.min(1,e.map(e=>Math.pow(e-t,2)).reduce((e,t)=>e+t,0)/e.length/(t*t))}}generateSessionRecommendations(){let e=[],t=this.calculateTargetAchievement(),a=this.calculateConsistency();return t.averageDeviation>1.5&&e.push({type:"technique",message:"Focus on better RIR estimation accuracy",priority:"high"}),a.score<70&&e.push({type:"consistency",message:"Work on maintaining consistent effort levels throughout sets",priority:"medium"}),this.sessionData.completedSets<.8*this.sessionData.plannedSets&&e.push({type:"volume",message:"Consider reducing planned volume or improving recovery between sessions",priority:"medium"}),e}storeSessionData(e){let t=`session-${this.generateSessionId()}`,a={...e,muscle:this.sessionData.muscle,exercise:this.sessionData.currentExercise,weekNo:r.default.weekNo,blockNo:r.default.blockNo};localStorage.setItem(t,JSON.stringify(a)),this.updateTrainingStateFromSession(a)}updateTrainingStateFromSession(e){let t=Math.max(...e.sets.map(e=>e.weight)),a=r.default.baselineStrength[e.muscle]||0;t>a&&r.default.setBaselineStrength(e.muscle,t);let s={soreness:e.performance.consistency.score<70?2:1,jointAche:0,perfChange:+(t>a),pump:e.progress.totalLoad>1e3?3:2,disruption:e.progress.totalLoad>1e3?3:2,lastLoad:t};(0,o.isHighFatigue)(e.muscle,s,r.default)&&console.log(`High fatigue detected for ${e.muscle} after session`)}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}emit(e,t){this.callbacks[e]&&this.callbacks[e].forEach(e=>e(t))}on(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)}}let d=new c},{"../core/trainingState.js":"e7afj","./fatigue.js":"3GKzs","./effort.js":"hZYkR","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"9GLug":[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"PerformanceManager",()=>n),i.export(a,"performanceManager",()=>r);class n{constructor(){this.metrics={loadTimes:[],renderTimes:[],memoryUsage:[],userInteractions:[],errors:[]},this.observers=new Map,this.isMonitoring=!1,this.optimizationEnabled=!0,this.thresholds={loadTime:3e3,renderTime:100,memoryLimit:50,fpsTarget:60,interactionDelay:100}}initialize(){this.isMonitoring||(this.setupPerformanceObservers(),this.setupMemoryMonitoring(),this.setupUserInteractionTracking(),this.setupErrorTracking(),this.optimizeInitialLoad(),this.isMonitoring=!0,console.log("\uD83D\uDE80 Performance monitoring initialized"))}setupPerformanceObservers(){if("PerformanceObserver"in window){let e=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{this.processPerformanceEntry(e)})});e.observe({entryTypes:["navigation","resource","measure","paint"]}),this.observers.set("performance",e)}if("IntersectionObserver"in window){let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&this.optimizeElementVisibility(e.target)})},{rootMargin:"50px"});this.observers.set("intersection",e),this.setupLazyLoading(e)}if("MutationObserver"in window){let e=new MutationObserver(e=>{this.optimizeDOMChanges(e)});e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),this.observers.set("mutation",e)}}processPerformanceEntry(e){switch(e.entryType){case"navigation":this.handleNavigationTiming(e);break;case"resource":this.handleResourceTiming(e);break;case"measure":this.handleUserTiming(e);break;case"paint":this.handlePaintTiming(e)}}handleNavigationTiming(e){let t={timestamp:Date.now(),loadTime:e.loadEventEnd-e.navigationStart,domContentLoaded:e.domContentLoadedEventEnd-e.navigationStart,firstPaint:e.loadEventEnd-e.navigationStart,networkTime:e.responseEnd-e.requestStart,renderTime:e.loadEventEnd-e.responseEnd};this.metrics.loadTimes.push(t),t.loadTime>this.thresholds.loadTime&&this.reportPerformanceIssue("slow_load",t),this.updatePerformanceDashboard(t)}handleResourceTiming(e){let t=e.responseEnd-e.requestStart;t>1e3&&(console.warn(`\u{1F40C} Slow resource: ${e.name} (${t}ms)`),this.suggestResourceOptimization(e)),e.name.includes("chart.js")&&this.optimizeChartLoading(e)}setupMemoryMonitoring(){"memory"in performance&&setInterval(()=>{let e=performance.memory,t={timestamp:Date.now(),used:e.usedJSHeapSize/1024/1024,total:e.totalJSHeapSize/1024/1024,limit:e.jsHeapSizeLimit/1024/1024};this.metrics.memoryUsage.push(t),t.used>this.thresholds.memoryLimit&&this.handleMemoryPressure(t),this.metrics.memoryUsage.length>100&&this.metrics.memoryUsage.shift()},1e4)}setupUserInteractionTracking(){["click","keydown","touchstart"].forEach(e=>{document.addEventListener(e,t=>{let a=performance.now();requestAnimationFrame(()=>{let s=performance.now()-a;this.metrics.userInteractions.push({timestamp:Date.now(),type:e,target:t.target.tagName,delay:s}),s>this.thresholds.interactionDelay&&this.reportInteractionDelay(t,s)})},{passive:!0})})}setupErrorTracking(){window.addEventListener("error",e=>{this.metrics.errors.push({timestamp:Date.now(),message:e.message,filename:e.filename,line:e.lineno,column:e.colno,stack:e.error?.stack})}),window.addEventListener("unhandledrejection",e=>{this.metrics.errors.push({timestamp:Date.now(),type:"promise_rejection",reason:e.reason})})}optimizeInitialLoad(){this.deferNonCriticalScripts(),this.preloadCriticalResources(),this.optimizeImages(),this.setupServiceWorker()}deferNonCriticalScripts(){document.querySelectorAll("script[src]").forEach(e=>{let t=e.src;(t.includes("analytics")||t.includes("feedback")||t.includes("chart.js"))&&(e.defer=!0)})}preloadCriticalResources(){["/js/core/trainingState.js","/js/algorithms/volume.js","/js/ui/globals.js","/css/enhancedAdvanced.css"].forEach(e=>{let t=document.createElement("link");t.rel="preload",t.href=e,t.as=e.endsWith(".js")?"script":"style",document.head.appendChild(t)})}setupLazyLoading(e){document.querySelectorAll(".section-content").forEach(t=>{e.observe(t)}),document.querySelectorAll(".calculator").forEach(t=>{e.observe(t)})}optimizeElementVisibility(e){e.classList.contains("calculator")&&this.initializeCalculatorFeatures(e),"advanced-content"===e.id&&this.loadAdvancedFeatures()}initializeCalculatorFeatures(e){switch(e.id){case"analyticsCard":this.loadAnalyticsFeatures();break;case"liveMonitorCard":this.loadLiveMonitorFeatures();break;case"trainingIntelligenceCard":this.loadIntelligenceFeatures()}}loadAnalyticsFeatures(){window.optimizeVolumeLandmarks||e("864404735f7854f3").then(e=>{console.log("\uD83D\uDCCA Analytics features loaded")})}loadLiveMonitorFeatures(){window.liveMonitor||e("6a4f4548e66827a3").then(e=>{console.log("⚡ Live monitor features loaded")})}loadIntelligenceFeatures(){window.advancedIntelligence||e("e666532c0399e35a").then(e=>{console.log("\uD83E\uDDE0 Intelligence features loaded")})}loadAdvancedFeatures(){if(!window.Chart&&!document.querySelector('script[src*="chart.js"]')){let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/chart.js",e.onload=()=>{console.log("\uD83D\uDCC8 Chart.js loaded on demand"),this.initializeCharts()},document.head.appendChild(e)}}optimizeDOMChanges(e){let t=!1,a=!1;e.forEach(e=>{"attributes"===e.type&&("style"===e.attributeName||"class"===e.attributeName)?t=!0:"childList"===e.type&&(a=!0)}),t&&this.batchStyleUpdates(),a&&this.optimizeContentUpdates()}batchStyleUpdates(){this.styleUpdateScheduled||(this.styleUpdateScheduled=!0,requestAnimationFrame(()=>{this.applyStyleOptimizations(),this.styleUpdateScheduled=!1}))}handleMemoryPressure(e){console.warn("\uD83D\uDEA8 High memory usage detected:",e),this.clearOldMetrics(),window.gc&&window.gc(),e.used>1.5*this.thresholds.memoryLimit&&this.showMemoryWarning()}reportPerformanceIssue(e,t){console.warn(`\u{26A0}\u{FE0F} Performance issue detected: ${e}`,t);let a={type:e,timestamp:Date.now(),data:t,userAgent:navigator.userAgent,url:window.location.href},s=JSON.parse(localStorage.getItem("performance-issues")||"[]");s.push(a),s.length>50&&s.splice(0,s.length-50),localStorage.setItem("performance-issues",JSON.stringify(s))}generatePerformanceReport(){let e=Date.now(),t=e-36e5,a=this.metrics.loadTimes.filter(e=>e.timestamp>t),s=this.metrics.memoryUsage.filter(e=>e.timestamp>t),i=this.metrics.userInteractions.filter(e=>e.timestamp>t),n=this.metrics.errors.filter(e=>e.timestamp>t);return{timestamp:e,performance:{averageLoadTime:this.calculateAverage(a,"loadTime"),averageRenderTime:this.calculateAverage(a,"renderTime"),slowestLoad:Math.max(...a.map(e=>e.loadTime),0),loadTimeP95:this.calculatePercentile(a.map(e=>e.loadTime),95)},memory:{currentUsage:s[s.length-1]?.used||0,peakUsage:Math.max(...s.map(e=>e.used),0),averageUsage:this.calculateAverage(s,"used")},interactions:{totalInteractions:i.length,averageDelay:this.calculateAverage(i,"delay"),slowInteractions:i.filter(e=>e.delay>this.thresholds.interactionDelay).length},errors:{totalErrors:n.length,errorTypes:this.categorizeErrors(n)},recommendations:this.generateRecommendations()}}generateRecommendations(){let e=[],t=this.metrics;this.calculateAverage(t.loadTimes,"loadTime")>this.thresholds.loadTime&&e.push({type:"load_time",priority:"high",message:"Page load time is above optimal threshold",suggestion:"Consider enabling service worker caching and optimizing resource loading"});let a=t.memoryUsage[t.memoryUsage.length-1];return a&&a.used>.8*this.thresholds.memoryLimit&&e.push({type:"memory",priority:"medium",message:"Memory usage is approaching limits",suggestion:"Clear old data and optimize data structures"}),t.userInteractions.filter(e=>e.delay>this.thresholds.interactionDelay).length>5&&e.push({type:"interactions",priority:"medium",message:"Multiple slow user interactions detected",suggestion:"Optimize event handlers and consider debouncing"}),e}optimizeImages(){document.querySelectorAll("img").forEach(e=>{e.hasAttribute("loading")||(e.loading="lazy"),e.hasAttribute("width")&&e.hasAttribute("height")||(e.style.width="auto",e.style.height="auto")})}setupServiceWorker(){"serviceWorker"in navigator&&navigator.serviceWorker.register(e("9913b1cce8578079")).then(e=>{console.log("✅ Service Worker registered")}).catch(e=>{console.warn("❌ Service Worker registration failed:",e)})}calculateAverage(e,t){return 0===e.length?0:e.reduce((e,a)=>e+(a[t]||0),0)/e.length}calculatePercentile(e,t){if(0===e.length)return 0;let a=e.sort((e,t)=>e-t),s=Math.ceil(t/100*a.length)-1;return a[s]||0}categorizeErrors(e){let t={};return e.forEach(e=>{let a=e.type||"runtime";t[a]=(t[a]||0)+1}),t}clearOldMetrics(){let e=Date.now()-36e5;this.metrics.loadTimes=this.metrics.loadTimes.filter(t=>t.timestamp>e),this.metrics.userInteractions=this.metrics.userInteractions.filter(t=>t.timestamp>e),this.metrics.errors=this.metrics.errors.filter(t=>t.timestamp>e)}showMemoryWarning(){if(!document.querySelector(".memory-warning")){let e=document.createElement("div");e.className="memory-warning",e.innerHTML=`
        <div style="background: #fef3c7; color: #92400e; padding: 10px; border-radius: 8px; margin: 10px; border: 1px solid #f59e0b;">
          \u{26A0}\u{FE0F} High memory usage detected. Consider refreshing the page for optimal performance.
          <button onclick="location.reload()" style="margin-left: 10px; padding: 5px 10px; background: #f59e0b; color: white; border: none; border-radius: 4px; cursor: pointer;">Refresh</button>
        </div>
      `,document.body.appendChild(e),setTimeout(()=>e.remove(),1e4)}}applyStyleOptimizations(){}optimizeContentUpdates(){}initializeCharts(){window.Chart&&(Chart.defaults.animation.duration=300,Chart.defaults.responsive=!0,Chart.defaults.maintainAspectRatio=!1)}suggestResourceOptimization(e){console.log(`\u{1F4A1} Optimization suggestion for ${e.name}:`,{duration:e.responseEnd-e.requestStart,suggestion:"Consider caching or CDN optimization"})}optimizeChartLoading(e){console.log("\uD83D\uDCC8 Optimizing Chart.js loading based on timing:",e)}reportInteractionDelay(e,t){console.warn(`\u{1F40C} Slow interaction detected:`,{type:e.type,target:e.target,delay:`${t}ms`})}updatePerformanceDashboard(e){let t=document.getElementById("performance-indicator");t&&(t.textContent=e.loadTime<this.thresholds.loadTime?"\uD83D\uDFE2":"\uD83D\uDFE1")}}let r=new n;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{r.initialize()}):r.initialize()},{"864404735f7854f3":"dq1Cw","6a4f4548e66827a3":"2kuJk",e666532c0399e35a:"acUDN","9913b1cce8578079":"5XvFf","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dq1Cw:[function(e,t,a,s){t.exports=Promise.resolve(t.bundle.root("cAapa"))},{}],"2kuJk":[function(e,t,a,s){t.exports=Promise.resolve(t.bundle.root("2S3be"))},{}],acUDN:[function(e,t,a,s){t.exports=Promise.resolve(t.bundle.root("dvKzQ"))},{}],"5XvFf":[function(e,t,a,s){t.exports=t.bundle.resolve("sw.js")},{}],dSCzM:[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"DataExportManager",()=>o),i.export(a,"dataExportManager",()=>l);var n=e("../core/trainingState.js"),r=i.interopDefault(n);class o{constructor(){this.exportFormats=["json","csv","excel"],this.compressionEnabled=!0,this.encryptionEnabled=!1}exportAllData(e="json",t={}){let{includePersonalData:a=!0,includeAnalytics:s=!0,includeWellness:i=!0,dateRange:n=null,compress:r=this.compressionEnabled}=t;try{let t=this.gatherExportData({includePersonalData:a,includeAnalytics:s,includeWellness:i,dateRange:n});switch(e.toLowerCase()){case"json":return this.exportAsJSON(t,r);case"csv":return this.exportAsCSV(t);case"excel":return this.exportAsExcel(t);default:throw Error(`Unsupported export format: ${e}`)}}catch(e){return console.error("Export failed:",e),{success:!1,error:e.message,timestamp:new Date().toISOString()}}}gatherExportData(e){let{includePersonalData:t,includeAnalytics:a,includeWellness:s,dateRange:i}=e,n={metadata:{exportDate:new Date().toISOString(),appVersion:"2.0.0",exportType:"full",dataPoints:0},trainingState:null,sessionHistory:[],feedback:[],analytics:null,wellness:null,preferences:null};return t&&(n.trainingState=this.serializeTrainingState(),n.preferences=this.gatherUserPreferences()),n.sessionHistory=this.gatherSessionHistory(i),n.feedback=this.gatherFeedbackData(i),a&&(n.analytics=this.gatherAnalyticsData(i)),s&&(n.wellness=this.gatherWellnessData(i)),n.metadata.dataPoints=this.calculateDataPoints(n),n}serializeTrainingState(){return{volumeLandmarks:r.default.volumeLandmarks,currentSets:r.default.currentSets,weekNo:r.default.weekNo,blockNo:r.default.blockNo,deloadWeeks:r.default.deloadWeeks,targetRIR:r.default.getTargetRIR(),currentPhase:r.default.getCurrentPhase(),stateHistory:r.default.getStateHistory(),totalMusclesNeedingRecovery:r.default.totalMusclesNeedingRecovery,recoverySessionsThisWeek:r.default.recoverySessionsThisWeek}}gatherSessionHistory(e){let t=[];for(let a=0;a<localStorage.length;a++){let s=localStorage.key(a);if(s&&s.startsWith("session-"))try{let a=JSON.parse(localStorage.getItem(s));this.isWithinDateRange(a.timestamp,e)&&t.push({sessionId:s,...a})}catch(e){console.warn(`Failed to parse session data: ${s}`,e)}}return t.sort((e,t)=>new Date(e.timestamp)-new Date(t.timestamp))}gatherFeedbackData(e){let t=[];for(let a=0;a<localStorage.length;a++){let s=localStorage.key(a);if(s&&s.startsWith("feedback-"))try{let a=JSON.parse(localStorage.getItem(s));this.isWithinDateRange(a.timestamp,e)&&t.push({feedbackId:s,...a})}catch(e){console.warn(`Failed to parse feedback data: ${s}`,e)}}return t.sort((e,t)=>new Date(e.timestamp)-new Date(t.timestamp))}gatherAnalyticsData(e){let t={volumeOptimizations:[],deloadPredictions:[],plateauAnalyses:[],performanceMetrics:[]};for(let a=0;a<localStorage.length;a++){let s=localStorage.key(a);if(s&&(s.startsWith("analytics-")||s.startsWith("optimization-")))try{let a=JSON.parse(localStorage.getItem(s));this.isWithinDateRange(a.timestamp,e)&&(s.includes("volume")?t.volumeOptimizations.push(a):s.includes("deload")?t.deloadPredictions.push(a):s.includes("plateau")&&t.plateauAnalyses.push(a))}catch(e){console.warn(`Failed to parse analytics data: ${s}`,e)}}return t}gatherWellnessData(e){let t=[];for(let a=0;a<localStorage.length;a++){let s=localStorage.key(a);if(s&&s.startsWith("wellness-"))try{let a=JSON.parse(localStorage.getItem(s));this.isWithinDateRange(a.date,e)&&t.push(a)}catch(e){console.warn(`Failed to parse wellness data: ${s}`,e)}}return t.sort((e,t)=>new Date(e.date)-new Date(t.date))}gatherUserPreferences(){return{theme:localStorage.getItem("user-theme")||"dark",units:localStorage.getItem("user-units")||"metric",notifications:localStorage.getItem("user-notifications")||"enabled",autoProgression:localStorage.getItem("user-auto-progression")||"enabled",analyticsEnabled:localStorage.getItem("analytics-enabled")||"true"}}exportAsJSON(e,t=!1){try{let a=JSON.stringify(e,null,2*!t),s=new Blob([a],{type:"application/json"}),i=`powerhouseatx-backup-${this.getDateString()}.json`;return this.downloadBlob(s,i),{success:!0,filename:i,size:s.size,format:"JSON",dataPoints:e.metadata.dataPoints,timestamp:new Date().toISOString()}}catch(e){throw Error(`JSON export failed: ${e.message}`)}}exportAsCSV(e){try{let t=this.convertToCSV(e),a=new Blob([t],{type:"text/csv"}),s=`powerhouseatx-data-${this.getDateString()}.csv`;return this.downloadBlob(a,s),{success:!0,filename:s,size:a.size,format:"CSV",dataPoints:e.metadata.dataPoints,timestamp:new Date().toISOString()}}catch(e){throw Error(`CSV export failed: ${e.message}`)}}convertToCSV(e){let t="";return e.sessionHistory.length>0&&(t+="SESSION DATA\nDate,Muscle,Exercise,Sets,Reps,Weight,RIR,Performance,Duration\n",e.sessionHistory.forEach(e=>{t+=`${e.timestamp},${e.muscle||""},${e.exercise||""},${e.sets||""},${e.reps||""},${e.weight||""},${e.rir||""},${e.performance||""},${e.duration||""}
`}),t+="\n"),e.feedback.length>0&&(t+="FEEDBACK DATA\nDate,Muscle,Current Sets,MMC,Pump,Disruption,Performance,Soreness,Recommendation\n",e.feedback.forEach(e=>{t+=`${e.timestamp},${e.muscle},${e.currentSets},${e.stimulus?.mmc||""},${e.stimulus?.pump||""},${e.stimulus?.disruption||""},${e.performance},${e.soreness},${e.results?.recommendedAction?.advice||""}
`}),t+="\n"),e.wellness&&e.wellness.length>0&&(t+="WELLNESS DATA\nDate,Recovery Score,Readiness Score,Sleep Duration,Sleep Quality,Stress Level\n",e.wellness.forEach(e=>{t+=`${e.date},${e.recoveryScore},${e.readinessScore},${e.sleep?.duration||""},${e.sleep?.quality||""},${e.stress?.overall||""}
`})),t}async importData(e,t={}){let{overwrite:a=!1,merge:s=!0}=t;try{let t,i=await this.readFile(e);if(e.name.endsWith(".json"))t=JSON.parse(i);else if(e.name.endsWith(".csv"))t=this.parseCSV(i);else throw Error("Unsupported file format");return this.processImportData(t,{overwrite:a,merge:s})}catch(e){return{success:!1,error:e.message,timestamp:new Date().toISOString()}}}processImportData(e,t){let{overwrite:a,merge:s}=t,i={success:!0,imported:{trainingState:!1,sessions:0,feedback:0,wellness:0,analytics:0},warnings:[],errors:[]};try{return e.trainingState&&(a||!r.default.hasData()?(this.importTrainingState(e.trainingState),i.imported.trainingState=!0):s&&(this.mergeTrainingState(e.trainingState),i.imported.trainingState=!0,i.warnings.push("Training state merged with existing data"))),e.sessionHistory&&(i.imported.sessions=this.importSessionHistory(e.sessionHistory,a)),e.feedback&&(i.imported.feedback=this.importFeedback(e.feedback,a)),e.wellness&&(i.imported.wellness=this.importWellness(e.wellness,a)),e.analytics&&(i.imported.analytics=this.importAnalytics(e.analytics,a)),i.timestamp=new Date().toISOString(),i}catch(e){return i.success=!1,i.errors.push(e.message),i}}createAutoBackup(){let e=this.gatherExportData({includePersonalData:!0,includeAnalytics:!0,includeWellness:!0}),t=`backup-${this.getDateString()}`,a=JSON.stringify(e);try{return localStorage.setItem(t,a),this.cleanOldBackups(),{success:!0,backupKey:t,size:a.length,dataPoints:e.metadata.dataPoints,timestamp:new Date().toISOString()}}catch(e){return{success:!1,error:e.message,timestamp:new Date().toISOString()}}}getAvailableBackups(){let e=[];for(let t=0;t<localStorage.length;t++){let a=localStorage.key(t);if(a&&a.startsWith("backup-"))try{let t=localStorage.getItem(a),s=JSON.parse(t).metadata;e.push({key:a,date:s.exportDate,dataPoints:s.dataPoints,size:t.length})}catch(e){console.warn(`Failed to parse backup: ${a}`,e)}}return e.sort((e,t)=>new Date(t.date)-new Date(e.date))}restoreFromBackup(e){try{let t=localStorage.getItem(e);if(!t)throw Error("Backup not found");let a=JSON.parse(t);return this.processImportData(a,{overwrite:!0,merge:!1})}catch(e){return{success:!1,error:e.message,timestamp:new Date().toISOString()}}}isWithinDateRange(e,t){if(!t)return!0;let a=new Date(e),s=t.start?new Date(t.start):null,i=t.end?new Date(t.end):null;return(!s||!(a<s))&&(!i||!(a>i))}calculateDataPoints(e){return(e.sessionHistory?.length||0)+(e.feedback?.length||0)+(e.wellness?.length||0)+(e.analytics?.volumeOptimizations?.length||0)+(e.analytics?.deloadPredictions?.length||0)}getDateString(){return new Date().toISOString().split("T")[0]}downloadBlob(e,t){let a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}readFile(e){return new Promise((t,a)=>{let s=new FileReader;s.onload=e=>t(e.target.result),s.onerror=e=>a(Error("Failed to read file")),s.readAsText(e)})}cleanOldBackups(){let e=this.getAvailableBackups();e.length>5&&e.slice(5).forEach(e=>{localStorage.removeItem(e.key)})}importTrainingState(e){Object.keys(e.volumeLandmarks).forEach(t=>{r.default.updateVolumeLandmarks(t,e.volumeLandmarks[t])}),Object.keys(e.currentSets).forEach(t=>{r.default.setSets(t,e.currentSets[t])}),r.default.weekNo=e.weekNo,r.default.blockNo=e.blockNo}importSessionHistory(e,t){let a=0;return e.forEach(e=>{let s=e.sessionId||`session-imported-${Date.now()}-${a}`;(t||!localStorage.getItem(s))&&(localStorage.setItem(s,JSON.stringify(e)),a++)}),a}importFeedback(e,t){let a=0;return e.forEach(e=>{let s=e.feedbackId||`feedback-imported-${Date.now()}-${a}`;(t||!localStorage.getItem(s))&&(localStorage.setItem(s,JSON.stringify(e)),a++)}),a}importWellness(e,t){let a=0;return e.forEach(e=>{let s=`wellness-${e.date}`;(t||!localStorage.getItem(s))&&(localStorage.setItem(s,JSON.stringify(e)),a++)}),a}importAnalytics(e,t){return 0}}let l=new o},{"../core/trainingState.js":"e7afj","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"37Jiu":[function(e,t,a,s){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(a),i.export(a,"UserFeedbackManager",()=>o),i.export(a,"userFeedbackManager",()=>d);var n=e("../core/trainingState.js"),r=i.interopDefault(n);class o{constructor(){this.feedbackCategories=["usability","accuracy","features","performance","mobile","suggestions"],this.analyticsEnabled=!0,this.privacyMode=!0}initializeFeedbackSystem(){this.createFeedbackWidget(),this.setupUsageTracking(),this.schedulePeriodicFeedback()}createFeedbackWidget(){let e=document.createElement("div");e.id="feedback-widget",e.className="feedback-widget",e.innerHTML=`
      <div class="feedback-toggle" onclick="userFeedbackManager.toggleFeedbackPanel()">
        \u{1F4AC} Feedback
      </div>
      <div class="feedback-panel" id="feedbackPanel" style="display: none;">
        <div class="feedback-header">
          <h3>\u{1F4A1} Help Improve PowerHouseATX</h3>
          <button onclick="userFeedbackManager.closeFeedbackPanel()">\xd7</button>
        </div>
        <div class="feedback-content">
          <div class="feedback-category">
            <label>What would you like feedback on?</label>
            <select id="feedbackCategory">
              <option value="usability">\u{1F4BB} Ease of Use</option>
              <option value="accuracy">\u{1F3AF} Recommendation Accuracy</option>
              <option value="features">\u{2728} Features & Functionality</option>
              <option value="performance">\u{26A1} App Performance</option>
              <option value="mobile">\u{1F4F1} Mobile Experience</option>
              <option value="suggestions">\u{1F4A1} New Feature Ideas</option>
            </select>
          </div>
          
          <div class="feedback-rating">
            <label>Overall satisfaction (1-5):</label>
            <div class="rating-stars" id="satisfactionRating">
              ${[1,2,3,4,5].map(e=>`<span class="star" data-rating="${e}">\u{2B50}</span>`).join("")}
            </div>
          </div>
          
          <div class="feedback-text">
            <label>Your feedback:</label>
            <textarea id="feedbackText" placeholder="Tell us what's working well or what could be improved..."></textarea>
          </div>
          
          <div class="feedback-usage" id="usageContext">
            <\!-- Automatically populated with usage context -->
          </div>
          
          <div class="feedback-actions">
            <button onclick="userFeedbackManager.submitFeedback()" class="submit-btn">
              \u{1F4E4} Send Feedback
            </button>
            <button onclick="userFeedbackManager.laterReminder()" class="later-btn">
              \u{23F0} Remind Later
            </button>
          </div>
        </div>
      </div>
    `,document.body.appendChild(e),this.setupFeedbackEvents()}setupFeedbackEvents(){document.querySelectorAll(".star").forEach(e=>{e.addEventListener("click",e=>{let t=parseInt(e.target.dataset.rating);this.setRating(t)})})}setRating(e){document.querySelectorAll(".star").forEach((t,a)=>{a<e?(t.style.opacity="1",t.style.transform="scale(1.2)"):(t.style.opacity="0.3",t.style.transform="scale(1)")}),this.currentRating=e}toggleFeedbackPanel(){"none"!==document.getElementById("feedbackPanel").style.display?this.closeFeedbackPanel():this.openFeedbackPanel()}openFeedbackPanel(){document.getElementById("feedbackPanel").style.display="block",this.populateUsageContext(),this.trackEvent("feedback_panel_opened")}closeFeedbackPanel(){document.getElementById("feedbackPanel").style.display="none"}populateUsageContext(){let e=document.getElementById("usageContext"),t=this.getUsageContext();e.innerHTML=`
      <div class="usage-context">
        <h4>\u{1F4CA} Your Usage Context (helps us improve):</h4>
        <div class="context-grid">
          <div class="context-item">
            <span class="context-label">Training Week:</span>
            <span class="context-value">${t.currentWeek}</span>
          </div>
          <div class="context-item">
            <span class="context-label">Features Used:</span>
            <span class="context-value">${t.featuresUsed.join(", ")}</span>
          </div>
          <div class="context-item">
            <span class="context-label">Device:</span>
            <span class="context-value">${t.deviceType}</span>
          </div>
          <div class="context-item">
            <span class="context-label">Session Count:</span>
            <span class="context-value">${t.sessionCount}</span>
          </div>
        </div>
        <div class="privacy-note">
          \u{1F512} No personal training data is shared - only anonymized usage patterns
        </div>
      </div>
    `}getUsageContext(){let e=this.getStoredUsage();return{currentWeek:r.default.weekNo,currentBlock:r.default.blockNo,featuresUsed:e.featuresUsed||[],deviceType:this.getDeviceType(),sessionCount:e.sessionCount||0,lastActive:e.lastActive||new Date().toISOString(),averageSessionDuration:e.averageSessionDuration||0}}async submitFeedback(){let e=document.getElementById("feedbackCategory").value,t=document.getElementById("feedbackText").value,a=this.currentRating||0;if(!t.trim())return void this.showFeedbackMessage("Please provide some feedback text","warning");let s={id:this.generateFeedbackId(),timestamp:new Date().toISOString(),category:e,rating:a,text:t.trim(),context:this.getUsageContext(),appVersion:"2.0.0",userAgent:navigator.userAgent};try{(await this.processFeedback(s)).success?(this.showFeedbackMessage("Thank you! Your feedback helps us improve \uD83D\uDE4F","success"),this.resetFeedbackForm(),setTimeout(()=>this.closeFeedbackPanel(),2e3),this.trackEvent("feedback_submitted",{category:e,rating:a})):this.showFeedbackMessage("Feedback saved locally. Thank you! \uD83D\uDCBE","info")}catch(e){console.error("Feedback submission error:",e),this.showFeedbackMessage("Feedback saved locally. Thank you! \uD83D\uDCBE","info")}}async processFeedback(e){let t=`feedback-user-${e.id}`;return localStorage.setItem(t,JSON.stringify(e)),this.updateFeedbackAnalytics(e),{success:!0,stored:"local",id:e.id}}updateFeedbackAnalytics(e){let t=this.getFeedbackAnalytics();t.categories[e.category]||(t.categories[e.category]={count:0,averageRating:0,totalRating:0});let a=t.categories[e.category];a.count++,a.totalRating+=e.rating,a.averageRating=a.totalRating/a.count,t.totalFeedback++,t.totalRating+=e.rating,t.averageRating=t.totalRating/t.totalFeedback,t.lastFeedback=e.timestamp,localStorage.setItem("feedback-analytics",JSON.stringify(t))}getFeedbackAnalytics(){let e=localStorage.getItem("feedback-analytics");return e?JSON.parse(e):{totalFeedback:0,averageRating:0,totalRating:0,categories:{},lastFeedback:null,trends:[]}}setupUsageTracking(){this.trackEvent("app_loaded"),this.setupFeatureTracking(),this.trackSessionStart(),window.addEventListener("beforeunload",()=>{this.trackSessionEnd()})}setupFeatureTracking(){["submitFeedbackBtn","runAutoVolumeProgression","initializeIntelligence","startLiveSession","optimizeVolumeLandmarks","predictDeloadTiming"].forEach(e=>{let t=document.getElementById(e);t&&t.addEventListener("click",()=>{this.trackFeatureUsage(e)})}),document.querySelectorAll(".section-banner").forEach(e=>{e.addEventListener("click",()=>{let t=e.textContent.trim().split(" ")[0];this.trackFeatureUsage(`section_${t.toLowerCase()}`)})})}trackFeatureUsage(e){let t=this.getStoredUsage();t.featuresUsed||(t.featuresUsed=[]),t.featuresUsed.includes(e)||t.featuresUsed.push(e),t.featureCount||(t.featureCount={}),t.featureCount[e]=(t.featureCount[e]||0)+1,t.lastFeatureUsed=e,t.lastActivity=new Date().toISOString(),this.storeUsage(t),this.trackEvent("feature_used",{feature:e})}trackSessionStart(){this.sessionStartTime=Date.now(),this.trackEvent("session_started")}trackSessionEnd(){if(this.sessionStartTime){let e=Date.now()-this.sessionStartTime,t=this.getStoredUsage();t.sessionCount=(t.sessionCount||0)+1,t.totalSessionTime=(t.totalSessionTime||0)+e,t.averageSessionDuration=t.totalSessionTime/t.sessionCount,t.lastSession=new Date().toISOString(),this.storeUsage(t),this.trackEvent("session_ended",{duration:e})}}trackEvent(e,t={}){if(!this.analyticsEnabled)return;let a={event:e,timestamp:new Date().toISOString(),data:t,sessionId:this.getSessionId()},s=this.getStoredEvents();s.push(a),s.length>100&&s.splice(0,s.length-100),localStorage.setItem("usage-events",JSON.stringify(s))}schedulePeriodicFeedback(){let e=this.getStoredUsage(),t=e.lastFeedbackRequest,a=t?(Date.now()-new Date(t).getTime())/864e5:1/0;e.sessionCount>=10&&a>7&&setTimeout(()=>this.showFeedbackPrompt(),3e4)}showFeedbackPrompt(){let e=this.getStoredUsage();confirm(`\u{1F4AA} You've used PowerHouseATX for ${e.sessionCount} sessions! Would you like to share feedback to help us improve?`)?this.openFeedbackPanel():this.laterReminder()}laterReminder(){let e=this.getStoredUsage();e.lastFeedbackRequest=new Date().toISOString(),this.storeUsage(e),this.closeFeedbackPanel()}generateAnalyticsDashboard(){let e=this.getStoredUsage(),t=this.getFeedbackAnalytics(),a=this.getStoredEvents();return{usage:{totalSessions:e.sessionCount||0,averageSessionDuration:Math.round((e.averageSessionDuration||0)/1e3/60),totalTimeSpent:Math.round((e.totalSessionTime||0)/1e3/60),featuresUsed:e.featuresUsed?.length||0,mostUsedFeature:this.getMostUsedFeature(e.featureCount),lastActive:e.lastActivity},feedback:{totalFeedback:t.totalFeedback,averageRating:Math.round(10*t.averageRating)/10,categoryBreakdown:t.categories,lastFeedback:t.lastFeedback},events:{totalEvents:a.length,recentEvents:a.slice(-10),eventTypes:this.getEventTypeBreakdown(a)},insights:this.generateInsights(e,t,a)}}generateInsights(e,t,a){let s=[];return e.sessionCount>20&&s.push({type:"milestone",message:`\u{1F389} Power user! You've completed ${e.sessionCount} sessions`,action:"Consider sharing your experience"}),e.averageSessionDuration>18e5&&s.push({type:"usage",message:"⏱️ Your sessions are comprehensive and detailed",action:"Great attention to training detail!"}),t.averageRating>=4.5&&s.push({type:"satisfaction",message:"⭐ High satisfaction rating - thank you!",action:"Your feedback helps us improve"}),(e.featuresUsed?.includes("analytics")||e.featuresUsed?.includes("intelligence"))&&s.push({type:"advanced",message:"\uD83E\uDDE0 Advanced features user detected",action:"Perfect for the next-generation updates!"}),s}getStoredUsage(){let e=localStorage.getItem("usage-analytics");return e?JSON.parse(e):{}}storeUsage(e){localStorage.setItem("usage-analytics",JSON.stringify(e))}getStoredEvents(){let e=localStorage.getItem("usage-events");return e?JSON.parse(e):[]}getSessionId(){return this.sessionId||(this.sessionId=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),this.sessionId}getDeviceType(){let e=window.innerWidth;return e<768?"Mobile":e<1024?"Tablet":"Desktop"}getMostUsedFeature(e){if(!e)return"None";let t=Object.entries(e);return 0===t.length?"None":t.reduce((e,t)=>t[1]>e[1]?t:e)[0]}getEventTypeBreakdown(e){let t={};return e.forEach(e=>{t[e.event]=(t[e.event]||0)+1}),t}generateFeedbackId(){return`fb-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}resetFeedbackForm(){document.getElementById("feedbackText").value="",document.getElementById("feedbackCategory").selectedIndex=0,this.setRating(0)}showFeedbackMessage(e,t="info"){let a=document.querySelector(".feedback-message");a&&a.remove();let s=document.createElement("div");s.className=`feedback-message ${t}`,s.textContent=e,document.getElementById("feedbackPanel").appendChild(s),setTimeout(()=>s.remove(),3e3)}}let l=`
.feedback-widget {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.feedback-toggle {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 12px 20px;
  border-radius: 25px;
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  font-weight: 600;
  font-size: 14px;
  transition: all 0.3s ease;
}

.feedback-toggle:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
}

.feedback-panel {
  position: absolute;
  bottom: 60px;
  right: 0;
  width: 400px;
  max-width: 90vw;
  background: white;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
  overflow: hidden;
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.feedback-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.feedback-header h3 {
  margin: 0;
  font-size: 16px;
}

.feedback-header button {
  background: none;
  border: none;
  color: white;
  font-size: 20px;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.feedback-content {
  padding: 20px;
}

.feedback-category,
.feedback-rating,
.feedback-text {
  margin-bottom: 15px;
}

.feedback-category label,
.feedback-rating label,
.feedback-text label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: #374151;
  font-size: 14px;
}

.feedback-category select,
.feedback-text textarea {
  width: 100%;
  padding: 8px 12px;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 14px;
  transition: border-color 0.2s ease;
}

.feedback-category select:focus,
.feedback-text textarea:focus {
  outline: none;
  border-color: #667eea;
}

.feedback-text textarea {
  height: 80px;
  resize: vertical;
}

.rating-stars {
  display: flex;
  gap: 5px;
}

.star {
  cursor: pointer;
  font-size: 20px;
  opacity: 0.3;
  transition: all 0.2s ease;
}

.star:hover {
  opacity: 1;
  transform: scale(1.1);
}

.usage-context {
  background: #f9fafb;
  border-radius: 8px;
  padding: 15px;
  margin: 15px 0;
}

.usage-context h4 {
  margin: 0 0 10px 0;
  font-size: 14px;
  color: #374151;
}

.context-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 10px;
}

.context-item {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
}

.context-label {
  color: #6b7280;
}

.context-value {
  color: #374151;
  font-weight: 600;
}

.privacy-note {
  font-size: 12px;
  color: #6b7280;
  text-align: center;
  margin-top: 10px;
}

.feedback-actions {
  display: flex;
  gap: 10px;
  margin-top: 20px;
}

.submit-btn {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
  flex: 1;
  transition: all 0.2s ease;
}

.submit-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.later-btn {
  background: #f3f4f6;
  color: #6b7280;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
  transition: all 0.2s ease;
}

.later-btn:hover {
  background: #e5e7eb;
}

.feedback-message {
  position: absolute;
  bottom: 10px;
  left: 20px;
  right: 20px;
  padding: 10px 15px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  text-align: center;
}

.feedback-message.success {
  background: #d1fae5;
  color: #065f46;
  border: 1px solid #10b981;
}

.feedback-message.info {
  background: #dbeafe;
  color: #1e40af;
  border: 1px solid #3b82f6;
}

.feedback-message.warning {
  background: #fef3c7;
  color: #92400e;
  border: 1px solid #f59e0b;
}

@media (max-width: 768px) {
  .feedback-panel {
    width: 350px;
  }
  
  .context-grid {
    grid-template-columns: 1fr;
  }
}
`,c=document.createElement("style");c.textContent=l,document.head.appendChild(c);let d=new o},{"../core/trainingState.js":"e7afj","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["kLXCF"],"kLXCF","parcelRequire66c8",{},"./",0);</script>


<script>!function(){function e(){let e=document.documentElement.getBoundingClientRect().height;window.parent.postMessage({phxHeight:e},"*")}window.addEventListener("load",e),setInterval(e,500)}();</script>


