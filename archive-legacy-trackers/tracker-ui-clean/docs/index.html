<!doctype html>
<html lang="en">
  <head>
    <script type="importmap">
      {
        "imports": {
          "4Sv7K": "./dataVisualization.417d2cdc.js",
          "4ujR8": "./sw.js"
        }
      }
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PowerHouseATX Workout Calculator - Advanced Intelligence</title>
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#667eea" />
    <meta
      name="description"
      content="Advanced AI-powered training intelligence system for optimal workout programming and progression"
    />
    <link rel="icon" href="favicon.78009137.ico" />
    <link rel="stylesheet" href="ProgramDesignWorkspace.64e9132c.css" />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        color: #fff;
        background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
        min-height: 100vh;
        padding: 20px;
        font-family:
          -apple-system,
          BlinkMacSystemFont,
          Segoe UI,
          Roboto,
          Oxygen,
          Ubuntu,
          Cantarell,
          sans-serif;
        line-height: 1.6;
        position: relative;
        overflow-x: hidden;
      }
      body:before {
        content: "";
        pointer-events: none;
        z-index: 1;
        background-image:
          radial-gradient(circle at 20% 80%, #ff00001a 0%, #0000 50%),
          radial-gradient(circle at 80% 20%, #ff00000d 0%, #0000 50%),
          radial-gradient(circle at 40% 40%, #ff000008 0%, #0000 50%);
        position: fixed;
        inset: 0;
      }
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #0a0a0a;
      }
      ::-webkit-scrollbar-thumb {
        background: red;
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #c00;
      }
      .container {
        z-index: 2;
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
        position: relative;
      }
      .header-section {
        text-align: center;
        backdrop-filter: blur(10px);
        background: #1a1a1af2;
        border: 1px solid #ff00004d;
        border-radius: 16px;
        margin-bottom: 40px;
        padding: 35px;
        position: relative;
        box-shadow:
          0 8px 32px #0006,
          inset 0 1px #ffffff1a;
      }
      h1 {
        -webkit-text-fill-color: transparent;
        text-transform: uppercase;
        letter-spacing: -1.5px;
        text-shadow: 0 0 40px #ff000080;
        background: linear-gradient(135deg, red 0%, #ff6b6b 100%) text;
        margin-bottom: 0.25rem;
        font-size: 3.5rem;
        font-weight: 900;
        line-height: 1;
      }
      .page-title {
        color: #e0e0e0;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        text-shadow: 0 0 10px #ffffff1a;
        margin-bottom: 1rem;
        font-size: 2.2rem;
        font-weight: 700;
      }
      .subtitle {
        color: #999;
        letter-spacing: 1px;
        font-size: 1.1rem;
        font-weight: 300;
      }
      .rp-status {
        background: #0000004d;
        border: 1px solid #f003;
        border-radius: 12px;
        margin: 20px 0;
        padding: 20px;
      }
      .status-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
        display: grid;
      }
      .status-item {
        text-align: center;
        background: #ffffff0d;
        border-radius: 8px;
        padding: 10px;
      }
      .status-value {
        color: red;
        font-size: 1.8rem;
        font-weight: 700;
      }
      .status-label {
        color: #ccc;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        font-size: 0.9rem;
      }
      .chart-section {
        backdrop-filter: blur(10px);
        background: #1a1a1af2;
        border: 1px solid #ff00004d;
        border-radius: 16px;
        margin: 20px 0;
        padding: 35px;
        box-shadow:
          0 8px 32px #0006,
          inset 0 1px #ffffff1a;
      }
      .chart-header {
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
        display: flex;
      }
      .chart-controls {
        flex-wrap: wrap;
        gap: 10px;
        display: flex;
      }
      .chart-controls button {
        margin: 0;
        padding: 8px 16px;
        font-size: 0.9rem;
      }
      #weeklyChart {
        max-height: 400px;
      }
      .volume-status {
        margin-top: 15px;
      }
      .volume-analysis {
        flex-wrap: wrap;
        align-items: center;
        gap: 15px;
        display: flex;
      }
      .status-indicator {
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border-radius: 20px;
        padding: 8px 16px;
        font-size: 0.9rem;
        font-weight: 700;
      }
      .status-indicator.under-minimum {
        color: #fff;
        background: #f44;
      }
      .status-indicator.maintenance {
        color: #fff;
        background: #fa0;
      }
      .status-indicator.optimal {
        color: #000;
        background: #4f4;
      }
      .status-indicator.high {
        color: #000;
        background: #ff4;
      }
      .status-indicator.maximum {
        color: #fff;
        background: #f44;
      }
      .landmarks-display {
        flex-wrap: wrap;
        gap: 15px;
        display: flex;
      }
      .landmarks-display span {
        background: #ffffff1a;
        border-radius: 4px;
        padding: 4px 8px;
        font-size: 0.8rem;
      }
      .section-banner {
        text-align: center;
        cursor: pointer;
        user-select: none;
        background: linear-gradient(135deg, #f003 0%, #ff00001a 100%);
        border: 1px solid #ff00004d;
        border-radius: 12px;
        margin: 40px 0 20px;
        padding: 20px;
        transition: all 0.3s;
      }
      .section-banner:hover {
        background: linear-gradient(135deg, #ff00004d 0%, #ff000026 100%);
      }
      .section-banner h3 {
        color: #fff;
        text-transform: uppercase;
        letter-spacing: 1px;
        justify-content: center;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
        font-size: 1.8rem;
        font-weight: 700;
        display: flex;
      }
      .expand-icon {
        font-size: 1.2rem;
        transition: transform 0.3s;
      }
      .section-banner.expanded .expand-icon {
        transform: rotate(180deg);
      }
      .section-content {
        max-height: 0;
        transition: max-height 0.4s;
        overflow: hidden;
      }
      .section-content.expanded {
        max-height: 3000px;
      }
      .calculator-grid {
        grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
        display: grid;
      }
      .calculator {
        backdrop-filter: blur(10px);
        background: #1a1a1af2;
        border: 1px solid #ff00004d;
        border-radius: 16px;
        margin: 20px 0;
        padding: 35px;
        transition: all 0.3s;
        box-shadow:
          0 8px 32px #0006,
          inset 0 1px #ffffff1a;
      }
      .calculator:hover {
        border-color: #ff000080;
        transform: translateY(-2px);
        box-shadow:
          0 12px 40px #00000080,
          0 0 20px #ff00001a,
          inset 0 1px #ffffff1a;
      }
      .calculator h2 {
        color: #fff;
        border-bottom: 3px solid red;
        margin-bottom: 1.5rem;
        padding-bottom: 0.75rem;
        font-size: 2rem;
        font-weight: 700;
        position: relative;
      }
      .calculator h2:after {
        content: "";
        background: linear-gradient(90deg, red 0%, #0000 100%);
        width: 60px;
        height: 3px;
        position: absolute;
        bottom: -3px;
        left: 0;
      }
      .input-group {
        margin-bottom: 1.5rem;
      }
      label {
        color: #fff;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 10px;
        font-size: 0.95rem;
        font-weight: 600;
        display: block;
      }
      input[type="number"],
      select {
        color: #fff;
        background: #00000080;
        border: 2px solid #ffffff1a;
        border-radius: 10px;
        width: 100%;
        padding: 14px 16px;
        font-size: 1rem;
        font-weight: 500;
        transition: all 0.3s;
      }
      input[type="number"]:focus,
      select:focus {
        background: #000000b3;
        border-color: red;
        outline: none;
        box-shadow:
          0 0 0 4px #ff00001a,
          inset 0 0 0 1px #f003;
      }
      input.rir-good {
        border-color: #4caf50;
        box-shadow: 0 0 0 2px #4caf5033;
      }
      input.rir-warning {
        border-color: #ff9800;
        box-shadow: 0 0 0 2px #ff980033;
      }
      input.rir-danger {
        border-color: #f44336;
        box-shadow: 0 0 0 2px #f4433633;
      }
      .radio-group {
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 10px;
        display: flex;
      }
      .radio-group label {
        text-transform: none;
        letter-spacing: normal;
        cursor: pointer;
        align-items: center;
        gap: 8px;
        margin: 0;
        font-size: 1rem;
        font-weight: 500;
        display: flex;
      }
      input[type="radio"] {
        accent-color: red;
        width: auto;
        margin: 0;
        transform: scale(1.2);
      }
      input[type="checkbox"] {
        accent-color: red;
        margin-right: 0.5rem;
        transform: scale(1.5);
      }
      .helper-text {
        color: #bbb;
        margin-top: 5px;
        font-size: 0.875rem;
        font-style: italic;
        line-height: 1.4;
      }
      button {
        color: #fff;
        cursor: pointer;
        text-transform: uppercase;
        letter-spacing: 1px;
        background: linear-gradient(135deg, red 0%, #c00 100%);
        border: none;
        border-radius: 10px;
        justify-content: center;
        align-items: center;
        gap: 10px;
        width: 100%;
        margin-top: 25px;
        padding: 16px 32px;
        font-size: 1.1rem;
        font-weight: 700;
        transition: all 0.3s;
        display: inline-flex;
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 15px #ff00004d;
      }
      button:hover {
        background: linear-gradient(135deg, #ff1a1a 0%, #e60000 100%);
        transform: translateY(-3px);
        box-shadow: 0 8px 25px #f006;
      }
      button:active {
        transform: translateY(-1px);
        box-shadow: 0 4px 15px #ff00004d;
      }
      button.small {
        width: auto;
        margin: 5px;
        padding: 8px 16px;
        font-size: 0.9rem;
      }
      .result {
        background: linear-gradient(135deg, #0009 0%, #000c 100%);
        border: 2px solid #ffffff1a;
        border-radius: 14px;
        align-items: center;
        min-height: 60px;
        margin-top: 1.5rem;
        padding: 25px;
        font-weight: 600;
        transition: all 0.4s;
        display: flex;
        position: relative;
        overflow: hidden;
      }
      .result.success {
        color: #a5d6a7;
        background: linear-gradient(135deg, #2e7d3226 0%, #2e7d3214 100%);
        border-color: #2e7d32b3;
      }
      .result.warning {
        color: #ffcc80;
        background: linear-gradient(135deg, #f57c0026 0%, #f57c0014 100%);
        border-color: #f57c00b3;
      }
      .result.danger {
        color: #ef9a9a;
        background: linear-gradient(135deg, #d32f2f26 0%, #d32f2f14 100%);
        border-color: #d32f2fb3;
      }
      .feedback-results {
        width: 100%;
      }
      .main-recommendation {
        border-bottom: 1px solid #ffffff1a;
        margin-bottom: 20px;
        padding-bottom: 15px;
      }
      .main-recommendation h4 {
        color: red;
        margin-bottom: 10px;
        font-size: 1.2rem;
      }
      .advice {
        margin-bottom: 8px;
        font-size: 1.1rem;
        font-weight: 600;
      }
      .sets-info {
        color: #ccc;
        font-size: 1rem;
      }
      .algorithm-details {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
        display: grid;
      }
      .algorithm-details > div {
        background: #ffffff0d;
        border-radius: 8px;
        padding: 10px;
        font-size: 0.9rem;
      }
      .stimulus-add_sets {
        color: #4caf50;
      }
      .stimulus-maintain {
        color: #ffcc80;
      }
      .stimulus-reduce_sets {
        color: #ff9800;
      }
      .rir-feedback {
        border-radius: 8px;
        margin-top: 15px;
        padding: 12px;
        font-size: 0.95rem;
      }
      .rir-feedback.normal {
        background: #4caf5033;
      }
      .rir-feedback.medium {
        background: #ff980033;
      }
      .rir-feedback.high {
        background: #f4433633;
      }
      .deload-warning {
        background: #ff980033;
        border: 1px solid #ff980080;
        border-radius: 8px;
        margin-top: 15px;
        padding: 15px;
        font-weight: 600;
      }
      .advanced-volume-controls {
        border-top: 1px solid #ffffff1a;
        padding-top: 20px;
      }
      .landmark-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
        display: grid;
      }
      .autoregulation-section {
        border-top: 1px solid #ffffff1a;
        margin-top: 20px;
        padding-top: 20px;
      }
      .autoregulation-section h4 {
        color: red;
        margin-bottom: 15px;
        font-size: 1.2rem;
      }
      .rir-tooltip {
        pointer-events: none;
        font-size: 12px;
        font-weight: 600;
      }
      .rir-schedule-display,
      .load-feedback-section,
      .load-progression-section {
        border-top: 1px solid #ffffff1a;
        margin-top: 20px;
        padding-top: 15px;
      }
      .rir-schedule-display h4,
      .load-feedback-section h4,
      .load-progression-section h4 {
        color: red;
        margin-bottom: 12px;
        font-size: 1.1rem;
        font-weight: 600;
      }
      #rirScheduleContent {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 10px;
        margin: 15px 0;
        display: grid;
      }
      .rir-week-target {
        text-align: center;
        background: #ff00001a;
        border: 1px solid #ff00004d;
        border-radius: 8px;
        padding: 12px;
        font-weight: 600;
      }
      .rir-week-target.current {
        background: #f003;
        border-color: #ff000080;
        box-shadow: 0 0 10px #ff00004d;
      }
      .rir-week-target .week-label {
        color: #ccc;
        margin-bottom: 4px;
        font-size: 0.9rem;
      }
      .rir-week-target .rir-value {
        color: red;
        font-size: 1.4rem;
        font-weight: 700;
      }
      #loadAdjustmentContent,
      #loadProgressionContent {
        font-size: 0.95rem;
      }
      .load-adjustment-item {
        background: #ffffff0d;
        border-left: 3px solid red;
        border-radius: 6px;
        margin: 8px 0;
        padding: 10px;
      }
      .load-adjustment-item .muscle-name {
        color: red;
        margin-bottom: 4px;
        font-weight: 600;
      }
      .load-adjustment-item .adjustment-details {
        color: #ccc;
        font-size: 0.9rem;
      }
      .progression-recommendation {
        background: #4caf501a;
        border: 1px solid #4caf504d;
        border-radius: 8px;
        margin: 10px 0;
        padding: 15px;
      }
      .progression-recommendation.maintain {
        background: #ffc1071a;
        border-color: #ffc1074d;
      }
      .progression-recommendation.reduce {
        background: #f443361a;
        border-color: #f443364d;
      }
      .progression-recommendation .action {
        margin-bottom: 8px;
        font-size: 1.1rem;
        font-weight: 600;
      }
      .progression-recommendation .reasoning {
        color: #ccc;
        font-size: 0.9rem;
        line-height: 1.4;
      }
      .rir-schedule-info {
        background: #ffffff08;
        border: 1px solid #ffffff1a;
        border-radius: 8px;
        margin-top: 20px;
        padding: 15px;
      }
      .rir-schedule-info .helper-text {
        font-size: 0.9rem;
        line-height: 1.5;
      }
      .rir-schedule-display button,
      .load-feedback-section button,
      .load-progression-section button {
        background: linear-gradient(135deg, red 0%, #c00 100%);
        width: auto;
        min-width: 180px;
        margin: 5px 0;
      }
      .section-banner.advanced {
        background: linear-gradient(135deg, #007bff33 0%, #007bff1a 100%);
        border-color: #007bff4d;
      }
      .section-content#advanced-content {
        max-height: 0;
        transition: max-height 0.4s;
        display: none;
        overflow: hidden;
      }
      .section-content#advanced-content.expanded {
        max-height: 3000px;
        display: block;
      }
      .live-session-controls {
        margin-bottom: 20px;
      }
      .session-controls {
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 15px;
        display: flex;
      }
      .session-controls button {
        flex: 1;
        min-width: 140px;
        margin: 0;
      }
      .live-monitor {
        color: #e2e8f0;
        background: #1a202c;
        border: 1px solid #63b3ed4d;
        border-radius: 15px;
        margin: 20px 0;
        padding: 25px;
      }
      .live-monitor h4 {
        color: #63b3ed;
        margin-bottom: 20px;
        font-size: 1.1rem;
      }
      .monitor-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        display: grid;
      }
      .monitor-stat {
        text-align: center;
        background: #ffffff0d;
        border-radius: 10px;
        padding: 15px;
      }
      .monitor-stat .value {
        color: #63b3ed;
        font-size: 2em;
        font-weight: 700;
        display: block;
      }
      .monitor-stat .label {
        opacity: 0.8;
        margin-top: 5px;
        font-size: 0.9em;
      }
      .intelligence-panel {
        color: #fff;
        background: linear-gradient(135deg, #1a365d, #2c5282);
        border-radius: 15px;
        margin: 20px 0;
        padding: 25px;
      }
      .intelligence-panel h4 {
        color: #63b3ed;
        margin-bottom: 20px;
      }
      .intelligence-controls,
      .analytics-controls {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 10px;
        margin: 15px 0;
        display: grid;
      }
      .intelligence-controls button,
      .analytics-controls button {
        margin: 0;
        padding: 12px 16px;
        font-size: 0.95rem;
      }
      .system-status {
        background: #ffffff05;
        border: 1px solid #ffffff1a;
        border-radius: 10px;
        margin-top: 20px;
        padding: 15px;
      }
      .system-status h4 {
        color: red;
        margin-bottom: 15px;
      }
      .system-status .status-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 10px;
        display: grid;
      }
      .system-status .status-indicator {
        text-align: center;
        background: #ffffff08;
        border-radius: 8px;
        padding: 10px;
      }
      .system-status .status-indicator span:first-child {
        font-size: 1.5em;
        display: block;
      }
      .system-status .status-indicator span:last-child {
        color: #ccc;
        margin-top: 5px;
        font-size: 0.8em;
        display: block;
      }
      .recommendation {
        background: #ffffff1a;
        border-left: 4px solid #63b3ed;
        border-radius: 8px;
        margin: 10px 0;
        padding: 15px;
      }
      .recommendation.high-priority {
        background: #f565651a;
        border-left-color: #f56565;
      }
      .recommendation.medium-priority {
        background: #ed89361a;
        border-left-color: #ed8936;
      }
      .analytics-requirements {
        background: #ffc1071a;
        border: 1px solid #ffc1074d;
        border-radius: 8px;
        margin: 15px 0;
        padding: 15px;
      }
      .program-config {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
        display: grid;
      }
      .program-config .input-group {
        margin: 0;
      }
      .result-panel {
        border: 1px solid #ffffff1a;
        border-radius: 10px;
        margin-top: 15px;
        padding: 20px;
        font-size: 0.95rem;
        line-height: 1.5;
      }
      .result-panel.success {
        background: #4caf501a;
        border-color: #4caf504d;
      }
      .result-panel.warning {
        background: #ff98001a;
        border-color: #ff98004d;
      }
      .result-panel.error {
        background: #f443361a;
        border-color: #f443364d;
      }
      .loading {
        border: 2px solid #f3f3f3;
        border-top-color: #5a67d8;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        animation: 1s ease-in-out infinite spin;
        display: inline-block;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      .performance-controls {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 10px;
        margin: 15px 0;
        display: grid;
      }
      .performance-dashboard {
        background: #007bff1a;
        border: 1px solid #007bff4d;
        border-radius: 12px;
        margin: 20px 0;
        padding: 20px;
      }
      .metrics-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 15px;
        margin-top: 15px;
        display: grid;
      }
      .metric-card {
        text-align: center;
        background: #ffffff0d;
        border: 1px solid #ffffff1a;
        border-radius: 8px;
        padding: 15px;
      }
      .metric-value {
        color: #63b3ed;
        font-size: 1.8rem;
        font-weight: 700;
        display: block;
      }
      .metric-label {
        color: #ccc;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-top: 5px;
        font-size: 0.8rem;
      }
      .export-controls {
        margin: 20px 0;
      }
      .export-options {
        background: #ffffff08;
        border-radius: 8px;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 10px;
        margin: 15px 0;
        padding: 15px;
        display: grid;
      }
      .checkbox-label {
        cursor: pointer;
        align-items: center;
        gap: 8px;
        text-transform: none !important;
        letter-spacing: normal !important;
        margin: 0 !important;
        font-size: 0.9rem !important;
        font-weight: 500 !important;
        display: flex !important;
      }
      .export-actions {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 10px;
        margin: 15px 0;
        display: grid;
      }
      .export-actions button {
        width: auto !important;
        margin: 0 !important;
      }
      .feedback-controls {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 10px;
        margin: 15px 0;
        display: grid;
      }
      .feedback-stats {
        background: #4caf501a;
        border: 1px solid #4caf504d;
        border-radius: 12px;
        margin: 20px 0;
        padding: 20px;
      }
      .stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 15px;
        margin-top: 15px;
        display: grid;
      }
      .stat-item {
        text-align: center;
        background: #ffffff0d;
        border: 1px solid #ffffff1a;
        border-radius: 8px;
        padding: 15px;
      }
      .stat-value {
        color: #4caf50;
        font-size: 1.8rem;
        font-weight: 700;
        display: block;
      }
      .stat-label {
        color: #ccc;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-top: 5px;
        font-size: 0.8rem;
      }
      .feedback-widget {
        z-index: 1000;
        position: fixed;
        top: 50%;
        right: 20px;
        transform: translateY(-50%);
      }
      .feedback-toggle {
        color: #fff;
        cursor: pointer;
        background: linear-gradient(135deg, red 0%, #c00 100%);
        border-radius: 20px 0 0 20px;
        padding: 10px 15px;
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.3s;
        box-shadow: -3px 0 10px #0000004d;
      }
      .feedback-toggle:hover {
        background: linear-gradient(135deg, #ff1a1a 0%, #e60000 100%);
        transform: translate(-5px);
      }
      .feedback-panel {
        backdrop-filter: blur(10px);
        background: #1a1a1af2;
        border: 1px solid #ff00004d;
        border-radius: 12px;
        width: 320px;
        padding: 20px;
        position: absolute;
        top: 0;
        right: 100%;
        box-shadow: -5px 0 20px #00000080;
      }
      .feedback-header {
        border-bottom: 1px solid #ffffff1a;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding-bottom: 10px;
        display: flex;
      }
      .feedback-header h3 {
        color: red;
        margin: 0;
        font-size: 1.1rem;
      }
      .feedback-header button {
        color: #ccc;
        cursor: pointer;
        background: 0 0;
        border: none;
        width: auto;
        height: auto;
        margin: 0;
        padding: 0;
        font-size: 1.5rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header-section">
        <h1>PowerHouseATX</h1>
        <div class="page-title">Workout Calculator</div>
        <p class="subtitle">Evidence-Based Muscle Building</p>
        <button class="small" onclick="handleSignOut()" style="float: right">
          Sign Out
        </button>

        <div class="quick-start-guide" id="quickStartGuide">
          <h3>üöÄ First-Time Quick-Start Guide</h3>
          <div class="quick-start-content">
            <ol class="quick-start-steps">
              <li>
                <strong>Set volume landmarks</strong> ‚Üí open "Program Setup"
                section below
              </li>
              <li>
                <strong>Track daily volume</strong> ‚Üí use "Daily Volume" for
                each muscle group
              </li>
              <li>
                <strong>Log a workout</strong> ‚Üí use "Set Feedback" after each
                exercise
              </li>
              <li>
                <strong>End of week</strong> ‚Üí tick "Last workout" &amp; review
                Weekly analysis
              </li>
              <li>
                <strong>Start next week</strong> ‚Üí follow the new RIR target
              </li>
            </ol>
            <div class="quick-start-actions">
              <button
                class="quick-start-btn"
                onclick="document.getElementById('quickStartGuide').style.display = 'none'; return false;"
                style="cursor: pointer; font-weight: 700"
              >
                GOT IT, HIDE THIS GUIDE
              </button>
              <label class="quick-start-checkbox">
                <input type="checkbox" id="dontShowQuickStart" /> Don't show
                again
              </label>
            </div>
          </div>
        </div>

        <div class="rp-status">
          <h3>Current Training Status</h3>
          <div class="status-grid">
            <div class="status-item">
              <div class="status-value" id="currentWeek">1</div>
              <div class="status-label">Week</div>
            </div>
            <div class="status-item">
              <div class="status-value" id="currentMeso">4</div>
              <div class="status-label">Meso Length</div>
            </div>
            <div class="status-item">
              <div class="status-value" id="currentBlock">1</div>
              <div class="status-label">Block</div>
            </div>
            <div class="status-item">
              <div class="status-value" id="targetRIR">4.5</div>
              <div class="status-label">Target RIR</div>
            </div>
            <div class="status-item">
              <div class="status-value" id="currentPhase">Accumulation</div>
              <div class="status-label">Phase</div>
            </div>
          </div>
        </div>
      </header>

      <div class="chart-section">
        <div class="chart-header">
          <h2>Weekly Volume by Muscle</h2>
          <div class="chart-controls">
            <button class="small" onclick="resetWeeklyData()">
              Reset Week
            </button>
            <button class="small" onclick="exportSummary()">
              üìä Export Chart
            </button>
          </div>
        </div>
        <canvas id="weeklyChart"></canvas>
      </div>
      <div class="section-banner" onclick="toggleSection('daily')">
        <h3>Daily Training <span class="expand-icon">‚ñº</span></h3>
        <p>Use during or right after your workout</p>
      </div>

      <div class="section-content" id="daily-content">
        <div class="calculator-grid">
          <section class="calculator" id="mevCard">
            <h2>Set Feedback (RP Algorithms)</h2>

            <div class="input-group">
              <label for="muscleSelect">Muscle group:</label>
              <select id="muscleSelect">
                <option value="Chest">Chest</option>
                <option value="Back">Back</option>
                <option value="Quads">Quads</option>
                <option value="Hamstrings">Hamstrings</option>
                <option value="Shoulders">Shoulders</option>
                <option value="Biceps">Biceps</option>
                <option value="Triceps">Triceps</option>
                <option value="Calves">Calves</option>
                <option value="Abs">Abs</option>
                <option value="Forearms">Forearms</option>
                <option value="Neck">Neck</option>
                <option value="Traps">Traps</option>
              </select>
            </div>

            <div class="input-group">
              <label for="currentSets">Current weekly sets:</label>
              <input type="number" id="currentSets" min="0" value="0" />
              <div class="helper-text">Click to edit inline</div>
            </div>

            <div class="input-group">
              <label>Workload (RP Table 2.2):</label>
              <div
                style="
                  grid-template-columns: repeat(3, 1fr);
                  gap: 15px;
                  display: grid;
                "
              >
                <div>
                  <label for="mmc" style="font-size: 0.8rem"
                    >Mind-Muscle (0-3):</label
                  >
                  <input type="number" id="mmc" min="0" max="3" value="2" />
                </div>
                <div>
                  <label for="pump" style="font-size: 0.8rem"
                    >Pump (0-3):</label
                  >
                  <input type="number" id="pump" min="0" max="3" value="2" />
                </div>
                <div>
                  <label for="dis" style="font-size: 0.8rem"
                    >Workload (0-3):</label
                  >
                  <input type="number" id="dis" min="0" max="3" value="2" />
                </div>
              </div>
              <div class="helper-text">
                Rate your workout quality factors (0=poor, 3=excellent)
              </div>
            </div>

            <div class="input-group">
              <label>Performance vs last time:</label>
              <div class="radio-group">
                <label
                  ><input type="radio" name="perf" value="3" /> Much
                  Better</label
                >
                <label
                  ><input type="radio" name="perf" value="2" checked />
                  Better</label
                >
                <label><input type="radio" name="perf" value="1" /> Same</label>
                <label
                  ><input type="radio" name="perf" value="0" /> Worse</label
                >
              </div>
            </div>

            <div class="input-group">
              <label for="sore">Current soreness level (0-3):</label>
              <input type="number" id="sore" min="0" max="3" value="1" />
              <div class="helper-text">0=None, 1=Mild, 2=Moderate, 3=High</div>
            </div>

            <div class="input-group">
              <label for="jointAche">Joint ache level (0-3):</label>
              <input type="number" id="jointAche" min="0" max="3" value="0" />
              <div class="helper-text">0=None, 1=Mild, 2=Moderate, 3=Pain</div>
            </div>

            <div class="input-group">
              <label for="perfChange">Performance change:</label>
              <select id="perfChange">
                <option value="1">Personal Record (+1)</option>
                <option value="0" selected>Same as last time (0)</option>
                <option value="-1">Performance drop (-1)</option>
              </select>
              <div class="helper-text">
                Strength performance vs recent sessions
              </div>
            </div>

            <div class="autoregulation-section">
              <h4>Effort Validation</h4>
              <div class="input-group">
                <label for="actualRIR">Actual RIR this set:</label>
                <input
                  type="number"
                  id="actualRIR"
                  min="0"
                  max="10"
                  step="0.5"
                  placeholder="e.g. 2.5"
                />
                <div class="helper-text">
                  How many more reps could you have done? (Target:
                  <span id="targetRIRDisplay">4.5</span>)
                </div>
              </div>
            </div>

            <button onclick="submitFeedback()">
              Process with RP Algorithms
            </button>
            <output id="mevOut" class="result"></output>
          </section>
        </div>
      </div>

      <div class="section-banner" onclick="toggleSection('weekly')">
        <h3>Weekly Planning <span class="expand-icon">‚ñº</span></h3>
        <p>End-of-week review and next week setup</p>
      </div>

      <div class="section-content" id="weekly-content">
        <div class="calculator-grid">
          <section class="calculator" id="deloadCard">
            <h2>Deload Analysis</h2>

            <div class="input-group">
              <label>
                <input type="checkbox" id="halfMuscles" /> Most muscles needed
                recovery (‚â•6 muscle groups)
              </label>
            </div>

            <div class="input-group">
              <label>
                <input type="checkbox" id="mrvBreach" /> Hit MRV twice in a row
              </label>
            </div>

            <div class="input-group">
              <label>
                <input type="checkbox" id="illness" /> Illness / Minor Injury
              </label>
            </div>

            <div class="input-group">
              <label>
                <input type="checkbox" id="lowMotivation" /> Low
                motivation/enjoyment
              </label>
            </div>

            <button onclick="analyzeDeload()">Analyze Deload Need</button>
            <output id="deloadOut" class="result"></output>
          </section>

          <section class="calculator" id="autoVolumeCard">
            <h2>ü§ñ Auto-Volume Progression</h2>

            <div class="input-group">
              <p class="helper-text">
                Automatically progress all muscles based on weekly feedback.
                System starts each muscle at MEV and adds +1-2 sets per week
                based on recovery indicators.
              </p>
            </div>
            <div class="input-group">
              <h4>Progression Logic:</h4>
              <ul style="margin: 10px 0; padding-left: 20px; font-size: 0.9rem">
                <li><strong>Start:</strong> All muscles begin at MEV</li>
                <li>
                  <strong>+1 set:</strong> Good recovery (soreness ‚â§1,
                  performance ‚â•0)
                </li>
                <li><strong>+2 sets:</strong> At MEV or low stimulus (‚â§3)</li>
                <li><strong>Hold volume:</strong> At MRV or fatigue present</li>
                <li><strong>Deload:</strong> Most muscles at MRV</li>
              </ul>
            </div>
            <div
              class="input-group"
              style="flex-wrap: wrap; gap: 10px; display: flex"
            >
              <button
                type="button"
                class="small"
                onclick="initializeAllMusclesAtMEV()"
                style="
                  background: linear-gradient(135deg, #4caf50, #45a049);
                  flex: 1;
                  min-width: 150px;
                "
              >
                üéØ Initialize at MEV
              </button>
              <button
                type="button"
                class="small"
                onclick="advanceToNextWeek()"
                style="
                  background: linear-gradient(135deg, #2196f3, #1976d2);
                  flex: 1;
                  min-width: 150px;
                "
              >
                üìÖ Next Week
              </button>
              <button
                onclick="runAutoVolumeProgression()"
                style="
                  background: linear-gradient(135deg, #f44, #f66);
                  flex: 2;
                  min-width: 200px;
                  font-weight: 700;
                "
              >
                ‚ñ∂Ô∏è Run Weekly Auto-Progression
              </button>
            </div>
            <output id="autoVolumeOut" class="result"> </output>
          </section>

          <section class="calculator" id="freqCard">
            <h2>Frequency Optimization</h2>

            <div class="input-group">
              <label for="soreDays">Days until soreness gone:</label>
              <input type="number" id="soreDays" min="0" value="2" />
            </div>

            <div class="input-group">
              <label for="sessionGap">Current session gap (days):</label>
              <input type="number" id="sessionGap" min="1" value="3" />
            </div>

            <div class="input-group">
              <label for="trainingAge">Training experience:</label>
              <select id="trainingAge">
                <option value="beginner">Beginner (&lt; 1 year)</option>
                <option value="intermediate" selected>
                  Intermediate (1-3 years)
                </option>
                <option value="advanced">Advanced (&gt; 3 years)</option>
              </select>
            </div>

            <button onclick="analyzeFrequency()">Optimize Frequency</button>
            <output id="freqOut" class="result"></output>
          </section>
        </div>
      </div>

      <div class="section-banner" onclick="toggleSection('setup')">
        <h3>Program Setup <span class="expand-icon">‚ñº</span></h3>
        <p>Configure volume landmarks and training blocks</p>
      </div>

      <div class="section-content" id="setup-content">
        <div class="calculator-grid">
          <section class="calculator" id="volumeCard">
            <h2>Volume Landmarks (RP Method)</h2>

            <div class="input-group">
              <label for="landmarkMuscle">Muscle to configure:</label>
              <select id="landmarkMuscle">
                <option value="Chest">Chest</option>
                <option value="Back">Back</option>
                <option value="Quads">Quads</option>
                <option value="Hamstrings">Hamstrings</option>
                <option value="Shoulders">Shoulders</option>
                <option value="Biceps">Biceps</option>
                <option value="Triceps">Triceps</option>
                <option value="Calves">Calves</option>
                <option value="Abs">Abs</option>
                <option value="Forearms">Forearms</option>
                <option value="Neck">Neck</option>
                <option value="Traps">Traps</option>
              </select>
            </div>

            <div class="landmark-grid">
              <div class="input-group">
                <label for="mv">MV (Maintenance Volume):</label>
                <input type="number" id="mv" min="0" value="4" />
                <div class="helper-text">Minimum to maintain muscle</div>
              </div>

              <div class="input-group">
                <label for="mev">MEV (Minimum Effective):</label>
                <input type="number" id="mev" min="0" value="8" />
                <div class="helper-text">Minimum for growth</div>
              </div>

              <div class="input-group">
                <label for="mav">MAV (Maximum Adaptive):</label>
                <input type="number" id="mav" min="0" value="16" />
                <div class="helper-text">Best volume for adaptation</div>
              </div>

              <div class="input-group">
                <label for="mrv">MRV (Maximum Recoverable):</label>
                <input type="number" id="mrv" min="0" value="22" />
                <div class="helper-text">Maximum you can recover from</div>
              </div>
            </div>

            <div class="input-group">
              <button
                type="button"
                class="small"
                onclick="applyVolumePreset('beginner')"
              >
                Beginner Preset
              </button>
              <button
                type="button"
                class="small"
                onclick="applyVolumePreset('intermediate')"
              >
                Intermediate Preset
              </button>
              <button
                type="button"
                class="small"
                onclick="applyVolumePreset('advanced')"
              >
                Advanced Preset
              </button>
            </div>

            <button onclick="saveLandmarks()">Save Volume Landmarks</button>
            <output id="volumeOut" class="result"></output>

            <div id="volumeStatus" class="volume-status"></div>
          </section>

          <section class="calculator" id="mesoCard">
            <h2>Mesocycle Setup</h2>

            <div class="input-group">
              <label for="mesoLength">Mesocycle length (weeks):</label>
              <input type="number" id="mesoLength" min="2" max="8" value="4" />
              <div class="helper-text">Typical range: 3-6 weeks</div>
            </div>

            <div class="input-group">
              <label for="currentWeekNum">Current week number:</label>
              <input type="number" id="currentWeekNum" min="1" value="1" />
            </div>

            <div class="input-group">
              <label for="trainingGoal">Primary goal:</label>
              <select id="trainingGoal">
                <option value="hypertrophy" selected>Hypertrophy</option>
                <option value="strength">Strength</option>
                <option value="power">Power</option>
                <option value="endurance">Endurance</option>
              </select>
            </div>

            <button onclick="setupMeso()">Setup Mesocycle</button>
            <output id="mesoOut" class="result"></output>
          </section>

          <section class="calculator" id="rirScheduleCard">
            <h2>RIR Schedule &amp; Load Feedback</h2>

            <div class="input-group">
              <label for="rirMesocycleLength">Mesocycle length (weeks):</label>
              <input
                type="number"
                id="rirMesocycleLength"
                min="3"
                max="6"
                value="4"
              />
              <div class="helper-text">Standard progression: 4-6 weeks</div>
            </div>

            <div class="input-group">
              <label for="rirCurrentWeek">Current week:</label>
              <input
                type="number"
                id="rirCurrentWeek"
                min="1"
                max="6"
                value="1"
              />
            </div>

            <div class="rir-schedule-display">
              <button onclick="showRIRSchedule()" class="small">
                Show RIR Schedule
              </button>
              <div id="rirScheduleDisplay" class="result" style="display: none">
                <h4>Weekly RIR Targets</h4>
                <div id="rirScheduleContent"></div>
              </div>
            </div>

            <div class="load-feedback-section">
              <h4>Weekly Load Adjustments</h4>
              <div class="input-group">
                <label>
                  <input type="checkbox" id="simulateRIRFeedback" checked />
                  Use simulated RIR feedback for demo
                </label>
                <div class="helper-text">
                  Uncheck to manually input RIR values
                </div>
              </div>

              <button onclick="runWeeklyLoadAdjustments()" class="small">
                Process Weekly Adjustments
              </button>
              <div
                id="loadAdjustmentResults"
                class="result"
                style="display: none"
              >
                <div class="feedback-results">
                  <div id="loadAdjustmentContent"></div>
                </div>
              </div>
            </div>

            <div class="load-progression-section">
              <h4>Next Week Progression</h4>
              <button onclick="showNextWeekLoadProgression()" class="small">
                Show Load Progression
              </button>
              <div
                id="loadProgressionResults"
                class="result"
                style="display: none"
              >
                <div class="feedback-results">
                  <div id="loadProgressionContent"></div>
                </div>
              </div>
            </div>

            <div class="rir-schedule-info">
              <div class="helper-text">
                <strong>RIR Schedule System:</strong><br />
                ‚Ä¢ Automatically progresses RIR targets weekly: [3, 2, 1, 0]<br />
                ‚Ä¢ Processes feedback to adjust training loads (-15% to +15%)<br />
                ‚Ä¢ Provides next week progression recommendations<br />
                ‚Ä¢ Integrates with auto-progression system
              </div>
            </div>
          </section>
        </div>
      </div>

      <div class="advanced section-banner" onclick="toggleSection('advanced')">
        <h3>Advanced Intelligence <span class="expand-icon">‚ñº</span></h3>
        <p>AI-powered training optimization and live performance monitoring</p>
      </div>

      <div class="section-content" id="advanced-content">
        <div class="calculator-grid">
          <section class="calculator" id="liveMonitorCard">
            <h2>üî¥ Live Performance Monitor</h2>

            <div class="input-group">
              <p class="helper-text">
                Real-time feedback during training sessions with automatic
                performance analysis and next-set recommendations.
              </p>
            </div>

            <div class="live-session-controls">
              <div class="input-group">
                <label for="liveExercise">Exercise:</label>
                <input
                  id="liveExercise"
                  placeholder="e.g. Barbell Bench Press"
                  value="Barbell Bench Press"
                />
              </div>

              <div class="input-group">
                <label for="liveMuscle">Primary Muscle:</label>
                <select id="liveMuscle">
                  <option value="Chest">Chest</option>
                  <option value="Back">Back</option>
                  <option value="Quads">Quads</option>
                  <option value="Hamstrings">Hamstrings</option>
                  <option value="Shoulders">Shoulders</option>
                  <option value="Biceps">Biceps</option>
                  <option value="Triceps">Triceps</option>
                </select>
              </div>

              <div class="input-group">
                <label for="plannedSets">Planned Sets:</label>
                <input
                  type="number"
                  id="plannedSets"
                  min="1"
                  max="10"
                  value="3"
                />
              </div>

              <div class="session-controls">
                <button id="startSessionBtn" onclick="startLiveSession()">
                  üéÆ Start Live Session
                </button>
                <button
                  id="logSetBtn"
                  onclick="logTrainingSet()"
                  style="display: none"
                >
                  üìä Log Set
                </button>
                <button
                  id="endSessionBtn"
                  onclick="endLiveSession()"
                  style="display: none"
                >
                  ‚èπÔ∏è End Session
                </button>
              </div>
            </div>

            <div class="live-monitor" id="liveMonitor" style="display: none">
              <h4>üî¥ Live Training Monitor</h4>
              <div class="monitor-grid">
                <div class="monitor-stat">
                  <div class="value" id="currentSet">0</div>
                  <div class="label">Current Set</div>
                </div>
                <div class="monitor-stat">
                  <div class="value" id="currentRIR">-</div>
                  <div class="label">Last RIR</div>
                </div>
                <div class="monitor-stat">
                  <div class="value" id="sessionProgress">0%</div>
                  <div class="label">Progress</div>
                </div>
                <div class="monitor-stat">
                  <div class="value" id="totalLoad">0</div>
                  <div class="label">Total Load</div>
                </div>
              </div>
            </div>

            <output id="liveMonitorOut" class="result"></output>
          </section>

          <section class="calculator" id="trainingIntelligenceCard">
            <h2>üß† Training Intelligence Hub</h2>

            <div class="input-group">
              <p class="helper-text">
                Unified intelligence system that coordinates machine learning
                analytics, smart exercise selection, and performance
                optimization.
              </p>
            </div>

            <div class="intelligence-controls">
              <button onclick="initializeIntelligence()">
                üöÄ Initialize Intelligence
              </button>
              <button onclick="getWeeklyIntelligence()">
                üìà Weekly Intelligence Report
              </button>
              <button onclick="getOptimalExercises()">
                üí° Smart Exercise Selection
              </button>
              <button onclick="assessTrainingRisk()">‚ö†Ô∏è Risk Assessment</button>
            </div>

            <div
              class="intelligence-panel"
              id="intelligencePanel"
              style="display: none"
            >
              <h4>üéØ Training Intelligence Dashboard</h4>
              <div id="intelligenceContent"></div>
            </div>

            <div class="system-status">
              <h4>‚öôÔ∏è System Status</h4>
              <div class="status-grid">
                <div class="status-indicator">
                  <span id="analyticsStatus">‚ùå</span>
                  <span>Analytics</span>
                </div>
                <div class="status-indicator">
                  <span id="exerciseStatus">‚úÖ</span>
                  <span>Exercise AI</span>
                </div>
                <div class="status-indicator">
                  <span id="liveStatus">‚úÖ</span>
                  <span>Live Monitor</span>
                </div>
                <div class="status-indicator">
                  <span id="hubStatus">‚úÖ</span>
                  <span>Intelligence Hub</span>
                </div>
              </div>
            </div>

            <output id="intelligenceOut" class="result"></output>
          </section>

          <section class="calculator" id="analyticsCard">
            <h2>üìä Predictive Analytics</h2>

            <div class="input-group">
              <p class="helper-text">
                Machine learning powered insights for volume optimization,
                deload prediction, and plateau detection.
              </p>
            </div>

            <div class="analytics-controls">
              <button onclick="optimizeVolumeLandmarks()">
                üéØ Optimize Volume Landmarks
              </button>
              <button onclick="predictDeloadTiming()">
                üîÆ Predict Deload Timing
              </button>
              <button onclick="detectPlateaus()">üìà Plateau Analysis</button>
              <button onclick="getAdaptiveRIR()">
                üéõÔ∏è Adaptive RIR Recommendations
              </button>
            </div>

            <div class="analytics-requirements" id="analyticsRequirements">
              <div class="helper-text">
                <strong>üìä Analytics Requirements:</strong><br />
                ‚Ä¢ Minimum 4 weeks of training data needed<br />
                ‚Ä¢ System learns from your session feedback<br />
                ‚Ä¢ More data = Better predictions<br />
                ‚Ä¢ Auto-enabled when sufficient data available
              </div>
            </div>

            <output id="analyticsOut" class="result"></output>
          </section>

          <section class="calculator" id="programGeneratorCard">
            <h2>üèãÔ∏è Smart Program Generator</h2>

            <div class="input-group">
              <p class="helper-text">
                AI-powered weekly program generation based on your preferences,
                equipment, and current fatigue levels.
              </p>
            </div>

            <div class="program-config">
              <div class="input-group">
                <label for="programDays">Days per week:</label>
                <select id="programDays">
                  <option value="3">3 Days</option>
                  <option value="4" selected>4 Days</option>
                  <option value="5">5 Days</option>
                  <option value="6">6 Days</option>
                </select>
              </div>

              <div class="input-group">
                <label for="programSplit">Split Type:</label>
                <select id="programSplit">
                  <option value="upper_lower" selected>Upper/Lower</option>
                  <option value="push_pull_legs">Push/Pull/Legs</option>
                  <option value="full_body">Full Body</option>
                  <option value="bro_split">Bro Split</option>
                </select>
              </div>

              <div class="input-group">
                <label for="sessionTime">Session Duration:</label>
                <select id="sessionTime">
                  <option value="45">45 minutes</option>
                  <option value="60" selected>60 minutes</option>
                  <option value="75">75 minutes</option>
                  <option value="90">90 minutes</option>
                </select>
              </div>

              <div class="input-group">
                <label for="experienceLevel">Experience Level:</label>
                <select id="experienceLevel">
                  <option value="beginner">Beginner</option>
                  <option value="intermediate" selected>Intermediate</option>
                  <option value="advanced">Advanced</option>
                </select>
              </div>
            </div>

            <button onclick="generateWeeklyProgram()">
              üìã Generate Weekly Program
            </button>
            <output id="programOut" class="result"></output>
          </section>

          <section class="calculator" id="performanceCard">
            <h2>‚ö° Performance Monitor</h2>

            <div class="input-group">
              <p class="helper-text">
                Real-time performance monitoring, optimization analytics, and
                system health tracking for optimal app performance.
              </p>
            </div>

            <div class="performance-controls">
              <button onclick="performanceManager.initialize()">
                üöÄ Initialize Monitoring
              </button>
              <button onclick="performanceManager.generateReport()">
                üìä Performance Report
              </button>
              <button onclick="performanceManager.optimizeApp()">
                ‚öôÔ∏è Optimize App
              </button>
              <button onclick="performanceManager.clearCache()">
                üßπ Clear Cache
              </button>
            </div>

            <div
              class="performance-dashboard"
              id="performanceDashboard"
              style="display: none"
            >
              <h4>üìà Performance Metrics</h4>
              <div class="metrics-grid">
                <div class="metric-card">
                  <div class="metric-value" id="loadTime">-</div>
                  <div class="metric-label">Load Time (ms)</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="memoryUsage">-</div>
                  <div class="metric-label">Memory (MB)</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="renderTime">-</div>
                  <div class="metric-label">Render Time (ms)</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="fps">-</div>
                  <div class="metric-label">FPS</div>
                </div>
              </div>
            </div>

            <output id="performanceOut" class="result"></output>
          </section>

          <section class="calculator" id="dataExportCard">
            <h2>üíæ Data Export &amp; Backup</h2>

            <div class="input-group">
              <p class="helper-text">
                Export your training data, create backups, and manage data in
                multiple formats for analysis and portability.
              </p>
            </div>

            <div class="export-controls">
              <div class="input-group">
                <label for="exportFormat">Export Format:</label>
                <select id="exportFormat">
                  <option value="json" selected>JSON (Complete)</option>
                  <option value="csv">CSV (Spreadsheet)</option>
                  <option value="excel">Excel (Advanced)</option>
                </select>
              </div>

              <div class="export-options">
                <label class="checkbox-label">
                  <input type="checkbox" id="includePersonal" checked />
                  Include Personal Data
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" id="includeAnalytics" checked />
                  Include Analytics
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" id="includeWellness" checked />
                  Include Wellness Data
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" id="compressData" checked />
                  Compress Data
                </label>
              </div>

              <div class="export-actions">
                <button onclick="dataExportManager.exportAllData()">
                  üì§ Export All Data
                </button>
                <button onclick="dataExportManager.createBackup()">
                  üíæ Create Backup
                </button>
                <button onclick="dataExportManager.importData()">
                  üì• Import Data
                </button>
                <button onclick="dataExportManager.scheduleAutoBackup()">
                  ‚è∞ Auto Backup
                </button>
              </div>
            </div>

            <output id="exportOut" class="result"></output>
          </section>

          <section class="calculator" id="feedbackCard">
            <h2>üí¨ Feedback &amp; Analytics</h2>

            <div class="input-group">
              <p class="helper-text">
                Share feedback, track usage analytics, and help improve the
                training system through smart data collection.
              </p>
            </div>

            <div class="feedback-controls">
              <button onclick="userFeedbackManager.initializeFeedbackSystem()">
                üéØ Initialize Feedback
              </button>
              <button onclick="userFeedbackManager.showFeedbackForm()">
                üí≠ Submit Feedback
              </button>
              <button onclick="userFeedbackManager.viewAnalytics()">
                üìä View Analytics
              </button>
              <button onclick="userFeedbackManager.exportFeedbackData()">
                üì§ Export Feedback
              </button>
            </div>

            <div
              class="feedback-stats"
              id="feedbackStats"
              style="display: none"
            >
              <h4>üìà Feedback Analytics</h4>
              <div class="stats-grid">
                <div class="stat-item">
                  <div class="stat-value" id="totalFeedback">0</div>
                  <div class="stat-label">Total Feedback</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="avgRating">-</div>
                  <div class="stat-label">Avg Rating</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="sessionsTracked">0</div>
                  <div class="stat-label">Sessions</div>
                </div>
                <div class="stat-item">
                  <div class="stat-value" id="improvementScore">-</div>
                  <div class="stat-label">Improvement</div>
                </div>
              </div>
            </div>

            <output id="feedbackOut" class="result"></output>
          </section>
        </div>
      </div>
    </div>

    <script>
      function initializeCollapsibleSections() {
        ["daily", "weekly", "setup", "advanced"].forEach((e) => {
          let t = document.getElementById(e + "-content"),
            n = t.previousElementSibling,
            i = n.querySelector(".expand-icon");
          t.classList.contains("expanded")
            ? (n.classList.add("expanded"),
              (i.style.transform = "rotate(180deg)"))
            : (n.classList.remove("expanded"),
              (i.style.transform = "rotate(0deg)"));
        });
      }
      function dismissQuickStart() {
        let e = document.getElementById("quickStartGuide"),
          t = document.getElementById("dontShowQuickStart");
        e && e.classList.add("hidden"),
          t &&
            t.checked &&
            localStorage.setItem("rpQuickStartDismissed", "true");
      }
      function initQuickStartGuide() {
        let e = document.getElementById("quickStartGuide"),
          t = "true" === localStorage.getItem("rpQuickStartDismissed");
        e && t && e.classList.add("hidden");
      }
      (window.toggleSection = function (e) {
        let t = document.getElementById(e + "-content"),
          n = t.previousElementSibling,
          i = n.querySelector(".expand-icon");
        t.classList.contains("expanded")
          ? (t.classList.remove("expanded"),
            n.classList.remove("expanded"),
            i && (i.style.transform = "rotate(0deg)"),
            t.addEventListener("transitionend", function e() {
              (t.style.display = "none"),
                t.removeEventListener("transitionend", e);
            }))
          : ((t.style.display = "block"),
            requestAnimationFrame(() => {
              t.classList.add("expanded"),
                n.classList.add("expanded"),
                i && (i.style.transform = "rotate(180deg)");
            }));
      }),
        document.addEventListener("DOMContentLoaded", function () {
          initializeCollapsibleSections(), initQuickStartGuide();
        });
    </script>

    <script>
      !(function (e, t, a, n, r, o, s, i) {
        var l,
          u =
            "undefined" != typeof globalThis
              ? globalThis
              : "undefined" != typeof self
                ? self
                : "undefined" != typeof window
                  ? window
                  : "undefined" != typeof global
                    ? global
                    : {},
          d = "function" == typeof u[n] && u[n],
          c = d.i || {},
          m = d.cache || {},
          h =
            "undefined" != typeof module &&
            "function" == typeof module.require &&
            module.require.bind(module);
        function g(t, a) {
          if (!m[t]) {
            if (!e[t]) {
              if (r[t]) return r[t];
              var o = "function" == typeof u[n] && u[n];
              if (!a && o) return o(t, !0);
              if (d) return d(t, !0);
              if (h && "string" == typeof t) return h(t);
              var s = Error("Cannot find module '" + t + "'");
              throw ((s.code = "MODULE_NOT_FOUND"), s);
            }
            (l.resolve = function (a) {
              var n = e[t][1][a];
              return null != n ? n : a;
            }),
              (l.cache = {});
            var i = (m[t] = new g.Module(t));
            e[t][0].call(i.exports, l, i, i.exports, u);
          }
          return m[t].exports;
          function l(e) {
            var t = l.resolve(e);
            return !1 === t ? {} : g(t);
          }
        }
        (g.isParcelRequire = !0),
          (g.Module = function (e) {
            (this.id = e),
              (this.bundle = g),
              (this.require = h),
              (this.exports = {});
          }),
          (g.modules = e),
          (g.cache = m),
          (g.parent = d),
          (g.distDir = "./"),
          (g.publicUrl = "./"),
          (g.devServer = void 0),
          (g.i = c),
          (g.register = function (t, a) {
            e[t] = [
              function (e, t) {
                t.exports = a;
              },
              {},
            ];
          }),
          (g.resolve = function (e) {
            if (((e = c[e] || e), !l))
              try {
                throw Error();
              } catch (a) {
                var t = ("" + a.stack).match(
                  /(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g,
                );
                if (!t) return "./" + e;
                l = t[0];
              }
            return new URL(o + e, l).toString();
          }),
          Object.defineProperty(g, "root", {
            get: function () {
              return u[n];
            },
          }),
          (u[n] = g);
        for (var p = 0; p < t.length; p++) g(t[p]);
        if (a) {
          var f = g(a);
          "object" == typeof exports && "undefined" != typeof module
            ? (module.exports = f)
            : "function" == typeof define &&
              define.amd &&
              define(function () {
                return f;
              });
        }
      })(
        {
          "9ATGT": [
            function (e, t, a, n) {
              var r = e("@parcel/transformer-js/src/esmodule-helpers.js"),
                o = e("./js/core/trainingState.js"),
                s = r.interopDefault(o),
                i = e("./js/ui/chartManager.js"),
                l = e("./js/ui/volumeCardUI.js"),
                u = e("./js/ui/feedbackFormUI.js");
              function d() {
                let e = s.default.getStateSummary();
                (document.getElementById("currentWeek").textContent = e.week),
                  (document.getElementById("currentMeso").textContent = e.meso),
                  (document.getElementById("currentBlock").textContent =
                    e.block),
                  (document.getElementById("targetRIR").textContent =
                    e.targetRIR.toFixed(1)),
                  (document.getElementById("currentPhase").textContent =
                    e.currentPhase),
                  (document.getElementById("targetRIRDisplay").textContent =
                    e.targetRIR.toFixed(1));
              }
              e("./js/algorithms/volume.js"),
                e("./js/algorithms/effort.js"),
                e("./js/algorithms/fatigue.js"),
                e("./js/algorithms/validation.js"),
                (window.trainingState = s.default),
                (window.updateChart = i.updateChart),
                (window.resetWeeklyData = i.resetChart),
                (window.showVolumeLandmarks = i.addVolumeLandmarks),
                document.addEventListener("DOMContentLoaded", function () {
                  d(),
                    (0, i.initChart)(),
                    (0, l.initVolumeCard)(),
                    (0, u.initFeedbackForm)(),
                    (0, l.updateVolumeDisplays)(),
                    (0, i.updateChart)(),
                    d(),
                    s.default.migrateLegacyData(),
                    console.log("RP Toolkit initialized");
                }),
                document.addEventListener("change", function (e) {
                  if ("landmarkMuscle" === e.target.id) {
                    let t = e.target.value,
                      a = s.default.volumeLandmarks[t];
                    (document.getElementById("mv").value = a.MV),
                      (document.getElementById("mev").value = a.MEV),
                      (document.getElementById("mav").value = a.MAV),
                      (document.getElementById("mrv").value = a.MRV);
                  }
                });
            },
            {
              "./js/core/trainingState.js": "e7afj",
              "./js/ui/chartManager.js": "gBqFM",
              "./js/ui/volumeCardUI.js": "bOIzP",
              "./js/ui/feedbackFormUI.js": "9pPgQ",
              "./js/algorithms/volume.js": "boGW6",
              "./js/algorithms/effort.js": "hZYkR",
              "./js/algorithms/fatigue.js": "3GKzs",
              "./js/algorithms/validation.js": "zNaOk",
              "@parcel/transformer-js/src/esmodule-helpers.js": "k3151",
            },
          ],
          e7afj: [
            function (e, t, a, n) {
              e(
                "@parcel/transformer-js/src/esmodule-helpers.js",
              ).defineInteropFlag(a);
              class r {
                constructor(e = {}) {
                  if (r.instance) return r.instance;
                  (this.settings = {
                    enableAdvancedDashboard: !1,
                    ...e.settings,
                  }),
                    (this.volumeLandmarks = {
                      Chest: { MV: 4, MEV: 8, MAV: 16, MRV: 22 },
                      Back: { MV: 6, MEV: 10, MAV: 20, MRV: 25 },
                      Quads: { MV: 6, MEV: 10, MAV: 20, MRV: 25 },
                      Hamstrings: { MV: 4, MEV: 6, MAV: 16, MRV: 20 },
                      Shoulders: { MV: 4, MEV: 8, MAV: 16, MRV: 20 },
                      Biceps: { MV: 4, MEV: 6, MAV: 14, MRV: 20 },
                      Triceps: { MV: 4, MEV: 6, MAV: 14, MRV: 18 },
                      Calves: { MV: 6, MEV: 8, MAV: 16, MRV: 22 },
                      Abs: { MV: 0, MEV: 6, MAV: 16, MRV: 25 },
                      Forearms: { MV: 2, MEV: 4, MAV: 10, MRV: 16 },
                      Neck: { MV: 0, MEV: 2, MAV: 8, MRV: 12 },
                      Traps: { MV: 2, MEV: 4, MAV: 12, MRV: 16 },
                    }),
                    (this.weekNo = 1),
                    (this.mesoLen = 4),
                    (this.blockNo = 1),
                    (this.deloadPhase = !1),
                    (this.resensitizationPhase = !1),
                    (this.currentWeekSets = {}),
                    (this.lastWeekSets = {}),
                    (this.baselineStrength = {}),
                    Object.keys(this.volumeLandmarks).forEach((e) => {
                      (this.currentWeekSets[e] = this.volumeLandmarks[e].MEV),
                        (this.lastWeekSets[e] = this.volumeLandmarks[e].MEV),
                        (this.baselineStrength[e] = 100);
                    }),
                    (this.consecutiveMRVWeeks = 0),
                    (this.settings = { enableAdvancedDashboard: !1 }),
                    (this.recoverySessionsThisWeek = 0),
                    (this.totalMusclesNeedingRecovery = 0),
                    (r.instance = this),
                    this.loadState();
                }
                getTargetRIR() {
                  return Math.max(
                    0.5,
                    Math.min(
                      3,
                      3 - (2.5 / (this.mesoLen - 1)) * (this.weekNo - 1),
                    ),
                  );
                }
                getVolumeStatus(e, t = null) {
                  let a = null !== t ? t : this.currentWeekSets[e],
                    n = this.volumeLandmarks[e];
                  return a < n.MV
                    ? "under-minimum"
                    : a < n.MEV
                      ? "maintenance"
                      : a < n.MAV
                        ? "optimal"
                        : a < n.MRV
                          ? "high"
                          : "maximum";
                }
                getVolumeColor(e, t = null) {
                  return {
                    "under-minimum": "#ff4444",
                    maintenance: "#ffaa00",
                    optimal: "#44ff44",
                    high: "#ffff44",
                    maximum: "#ff4444",
                  }[this.getVolumeStatus(e, t)];
                }
                updateWeeklySets(e, t) {
                  (this.currentWeekSets[e] = Math.max(0, t)), this.saveState();
                }
                addSets(e, t) {
                  (this.currentWeekSets[e] += t),
                    (this.currentWeekSets[e] = Math.max(
                      0,
                      this.currentWeekSets[e],
                    )),
                    this.saveState();
                }
                shouldDeload() {
                  if (this.consecutiveMRVWeeks >= 2) return !0;
                  let e = Object.keys(this.volumeLandmarks).length;
                  return (
                    this.totalMusclesNeedingRecovery >= Math.ceil(e / 2) ||
                    !!["Chest", "Back", "Quads", "Shoulders"].some(
                      (e) =>
                        this.currentWeekSets[e] >=
                          this.volumeLandmarks[e].MRV &&
                        this.totalMusclesNeedingRecovery > 0,
                    ) ||
                    !!(this.weekNo >= this.mesoLen)
                  );
                }
                shouldResensitize() {
                  return this.blockNo % 4 == 0;
                }
                startDeload() {
                  (this.deloadPhase = !0),
                    Object.keys(this.volumeLandmarks).forEach((e) => {
                      let t = Math.round(0.5 * this.volumeLandmarks[e].MEV);
                      this.currentWeekSets[e] = t;
                    }),
                    this.saveState();
                }
                startResensitization() {
                  (this.resensitizationPhase = !0),
                    Object.keys(this.volumeLandmarks).forEach((e) => {
                      this.currentWeekSets[e] = this.volumeLandmarks[e].MV;
                    }),
                    this.saveState();
                }
                nextWeek() {
                  (this.lastWeekSets = { ...this.currentWeekSets }),
                    Object.keys(this.volumeLandmarks).filter(
                      (e) =>
                        this.currentWeekSets[e] >= this.volumeLandmarks[e].MRV,
                    ).length > 0
                      ? this.consecutiveMRVWeeks++
                      : (this.consecutiveMRVWeeks = 0),
                    this.weekNo++,
                    this.weekNo > this.mesoLen &&
                      ((this.weekNo = 1),
                      this.blockNo++,
                      (this.consecutiveMRVWeeks = 0)),
                    (this.recoverySessionsThisWeek = 0),
                    (this.totalMusclesNeedingRecovery = 0),
                    this.saveState();
                }
                resetWeek() {
                  Object.keys(this.volumeLandmarks).forEach((e) => {
                    this.currentWeekSets[e] = this.volumeLandmarks[e].MEV;
                  }),
                    this.saveState();
                }
                hitMRV(e) {
                  this.totalMusclesNeedingRecovery++,
                    this.currentWeekSets[e] >= this.volumeLandmarks[e].MRV &&
                      this.consecutiveMRVWeeks++,
                    this.saveState();
                }
                getWeeklySets(e) {
                  return this.currentWeekSets[e] || this.volumeLandmarks[e].MEV;
                }
                initializeMuscleAtMEV(e) {
                  (this.currentWeekSets[e] = this.volumeLandmarks[e].MEV),
                    this.saveState();
                }
                mostMusclesAtMRV() {
                  let e = Object.keys(this.volumeLandmarks);
                  return (
                    e.filter(
                      (e) =>
                        this.currentWeekSets[e] >= this.volumeLandmarks[e].MRV,
                    ).length >= Math.ceil(0.5 * e.length)
                  );
                }
                setBaselineStrength(e, t) {
                  (this.baselineStrength[e] = t), this.saveState();
                }
                repStrengthDrop(e, t) {
                  let a = this.baselineStrength[e];
                  return !!a && !!t && t < 0.97 * a;
                }
                updateVolumeLandmarks(e, t) {
                  (this.volumeLandmarks[e] = {
                    ...this.volumeLandmarks[e],
                    ...t,
                  }),
                    this.saveState();
                }
                getRecoveryVolume(e, t = !1) {
                  let a = this.volumeLandmarks[e];
                  return Math.max(
                    Math.round((a.MEV + a.MRV) / 2) - (t ? 2 : 1),
                    Math.ceil(0.5 * a.MEV),
                  );
                }
                saveState() {
                  let e = {
                    volumeLandmarks: this.volumeLandmarks,
                    weekNo: this.weekNo,
                    mesoLen: this.mesoLen,
                    blockNo: this.blockNo,
                    deloadPhase: this.deloadPhase,
                    resensitizationPhase: this.resensitizationPhase,
                    currentWeekSets: this.currentWeekSets,
                    lastWeekSets: this.lastWeekSets,
                    consecutiveMRVWeeks: this.consecutiveMRVWeeks,
                    recoverySessionsThisWeek: this.recoverySessionsThisWeek,
                    totalMusclesNeedingRecovery:
                      this.totalMusclesNeedingRecovery,
                  };
                  localStorage.setItem("rp-training-state", JSON.stringify(e));
                }
                loadState() {
                  let e = localStorage.getItem("rp-training-state");
                  if (e)
                    try {
                      let t = JSON.parse(e);
                      Object.assign(this, t);
                    } catch (e) {
                      console.warn(
                        "Failed to load training state, using defaults",
                      );
                    }
                }
                migrateLegacyData() {
                  let e = Object.keys(this.volumeLandmarks),
                    t = !1;
                  e.forEach((e) => {
                    let a = `week-1-${e}`,
                      n = localStorage.getItem(a);
                    n &&
                      ((this.currentWeekSets[e] = parseInt(n, 10)),
                      localStorage.removeItem(a),
                      (t = !0));
                    let r = `${e}-MEV`,
                      o = `${e}-MRV`,
                      s = localStorage.getItem(r),
                      i = localStorage.getItem(o);
                    (s || i) &&
                      ((this.volumeLandmarks[e] = {
                        ...this.volumeLandmarks[e],
                        MEV: s ? parseInt(s, 10) : this.volumeLandmarks[e].MEV,
                        MRV: i ? parseInt(i, 10) : this.volumeLandmarks[e].MRV,
                      }),
                      s && localStorage.removeItem(r),
                      i && localStorage.removeItem(o),
                      (t = !0));
                  }),
                    t &&
                      (this.saveState(),
                      console.log(
                        "Legacy data migrated to new RP training state",
                      ));
                }
                getStateSummary() {
                  return {
                    week: this.weekNo,
                    meso: this.mesoLen,
                    block: this.blockNo,
                    targetRIR: this.getTargetRIR(),
                    deloadRecommended: this.shouldDeload(),
                    resensitizationRecommended: this.shouldResensitize(),
                    currentPhase: this.deloadPhase
                      ? "deload"
                      : this.resensitizationPhase
                        ? "resensitization"
                        : "accumulation",
                  };
                }
              }
              let o = new r();
              o.settings.enableAdvancedDashboard &&
                e("7d9912896dff05b4")
                  .then(({ default: e }) => {
                    (o.dataVisualizer = new e()),
                      console.log("Advanced dashboard initialized");
                  })
                  .catch((e) => console.error("Dashboard init failed:", e)),
                (a.default = o),
                "undefined" != typeof window && (window.trainingState = o);
            },
            {
              "7d9912896dff05b4": "7B1aN",
              "@parcel/transformer-js/src/esmodule-helpers.js": "k3151",
            },
          ],
          "7B1aN": [
            function (e, t, a, n) {
              t.exports = Promise.all([
                e("3e72c1f835e4ba14")(
                  t.bundle.resolve("dataVisualization.d80ba3a1.js"),
                ),
                e("3e72c1f835e4ba14")(
                  t.bundle.resolve("dataVisualization.3994b791.js"),
                ),
              ]).then(() => t.bundle.root("bFrzf"));
            },
            { "3e72c1f835e4ba14": "hpx0h" },
          ],
          hpx0h: [
            function (e, t, a, n) {
              "use strict";
              t.exports = e("ca2a84f7fa4a3bb0")(function (e) {
                return new Promise(function (t, a) {
                  if (
                    []
                      .concat(document.getElementsByTagName("script"))
                      .some(function (t) {
                        return t.src === e;
                      })
                  )
                    return void t();
                  var n = document.createElement("link");
                  (n.href = e),
                    (n.rel = "preload"),
                    (n.as = "script"),
                    document.head.appendChild(n);
                  var r = document.createElement("script");
                  (r.async = !0),
                    (r.type = "text/javascript"),
                    (r.src = e),
                    (r.onerror = function (t) {
                      var n = TypeError(
                        "Failed to fetch dynamically imported module: "
                          .concat(e, ". Error: ")
                          .concat(t.message),
                      );
                      (r.onerror = r.onload = null), r.remove(), a(n);
                    }),
                    (r.onload = function () {
                      (r.onerror = r.onload = null), t();
                    }),
                    document.getElementsByTagName("head")[0].appendChild(r);
                });
              });
            },
            { ca2a84f7fa4a3bb0: "1uYxD" },
          ],
          "1uYxD": [
            function (e, t, a, n) {
              "use strict";
              var r = {},
                o = {},
                s = {};
              t.exports = function (e, t) {
                return function (a) {
                  var n = (function (e) {
                    switch (e) {
                      case "preload":
                        return o;
                      case "prefetch":
                        return s;
                      default:
                        return r;
                    }
                  })(t);
                  return n[a]
                    ? n[a]
                    : (n[a] = e.apply(null, arguments).catch(function (e) {
                        throw (delete n[a], e);
                      }));
                };
              };
            },
            {},
          ],
          k3151: [
            function (e, t, a, n) {
              (a.interopDefault = function (e) {
                return e && e.__esModule ? e : { default: e };
              }),
                (a.defineInteropFlag = function (e) {
                  Object.defineProperty(e, "__esModule", { value: !0 });
                }),
                (a.exportAll = function (e, t) {
                  return (
                    Object.keys(e).forEach(function (a) {
                      "default" === a ||
                        "__esModule" === a ||
                        Object.prototype.hasOwnProperty.call(t, a) ||
                        Object.defineProperty(t, a, {
                          enumerable: !0,
                          get: function () {
                            return e[a];
                          },
                        });
                    }),
                    t
                  );
                }),
                (a.export = function (e, t, a) {
                  Object.defineProperty(e, t, { enumerable: !0, get: a });
                });
            },
            {},
          ],
          gBqFM: [
            function (e, t, a, n) {
              var r = e("@parcel/transformer-js/src/esmodule-helpers.js");
              r.defineInteropFlag(a),
                r.export(a, "initChart", () => u),
                r.export(a, "updateChart", () => d),
                r.export(a, "resetChart", () => c),
                r.export(a, "addVolumeLandmarks", () => h),
                r.export(a, "exportChartImage", () => g),
                r.export(a, "showDeloadVisualization", () => m),
                r.export(a, "weeklyChart", () => i);
              var o = e("../core/trainingState.js"),
                s = r.interopDefault(o);
              let i = null,
                l = Object.keys(s.default.volumeLandmarks);
              function u() {
                let t = document.getElementById("weeklyChart");
                if (!t) return console.error("Chart canvas not found"), null;
                let a = t.getContext("2d");
                if (!a) return console.error("Cannot get canvas context"), null;
                if ("undefined" == typeof Chart)
                  return console.error("Chart.js not loaded"), null;
                let n = l.map((e) => s.default.currentWeekSets[e] || 0),
                  r = l.map((e) => s.default.getVolumeColor(e));
                return (
                  s.default.settings?.enableAdvancedDashboard &&
                    e("3c0b45cf88c00f68")
                      .then((e) => {
                        new e.AdvancedDataVisualizer(),
                          console.log(
                            "Advanced chart visualization initialized",
                          );
                      })
                      .catch((e) => {
                        console.error(
                          "Failed to initialize advanced chart visualization:",
                          e,
                        );
                      }),
                  (i = new Chart(a, {
                    type: "bar",
                    data: {
                      labels: l,
                      datasets: [
                        {
                          label: "Current Sets",
                          data: n,
                          backgroundColor: r,
                          borderColor: r.map((e) => e.replace("0.6", "1")),
                          borderWidth: 2,
                        },
                        {
                          label: "MEV",
                          data: l.map((e) => s.default.volumeLandmarks[e].MEV),
                          type: "line",
                          borderColor: "rgba(255, 255, 0, 0.8)",
                          backgroundColor: "transparent",
                          borderWidth: 2,
                          pointRadius: 3,
                          pointBackgroundColor: "rgba(255, 255, 0, 1)",
                          borderDash: [5, 5],
                        },
                        {
                          label: "MRV",
                          data: l.map((e) => s.default.volumeLandmarks[e].MRV),
                          type: "line",
                          borderColor: "rgba(255, 0, 0, 0.8)",
                          backgroundColor: "transparent",
                          borderWidth: 2,
                          pointRadius: 3,
                          pointBackgroundColor: "rgba(255, 0, 0, 1)",
                          borderDash: [10, 5],
                        },
                      ],
                    },
                    options: {
                      responsive: !0,
                      maintainAspectRatio: !1,
                      plugins: {
                        legend: { labels: { color: "#fff" } },
                        tooltip: {
                          callbacks: {
                            afterLabel: function (e) {
                              let t = e.label,
                                a = e.parsed.y,
                                n = s.default.volumeLandmarks[t],
                                r = s.default.getVolumeStatus(t, a);
                              return [
                                `Status: ${r}`,
                                `MEV: ${n.MEV} | MRV: ${n.MRV}`,
                                `Target RIR: ${s.default.getTargetRIR()}`,
                              ];
                            },
                          },
                        },
                      },
                      scales: {
                        y: {
                          beginAtZero: !0,
                          grid: { color: "rgba(255, 255, 255, 0.1)" },
                          ticks: { color: "#fff", stepSize: 1 },
                        },
                        x: {
                          grid: { color: "rgba(255, 255, 255, 0.1)" },
                          ticks: { color: "#fff" },
                        },
                      },
                    },
                  }))
                );
              }
              function d() {
                if (!i) return;
                let e = l.map((e) => s.default.currentWeekSets[e] || 0),
                  t = l.map((e) => s.default.getVolumeColor(e));
                (i.data.datasets[0].data = e),
                  (i.data.datasets[0].backgroundColor = t),
                  (i.data.datasets[0].borderColor = t.map((e) =>
                    e.replace("0.6", "1"),
                  )),
                  (i.data.datasets[1].data = l.map(
                    (e) => s.default.volumeLandmarks[e].MEV,
                  )),
                  (i.data.datasets[2].data = l.map(
                    (e) => s.default.volumeLandmarks[e].MRV,
                  )),
                  i.update();
              }
              function c() {
                l.forEach((e) => {
                  s.default.updateWeeklySets(
                    e,
                    s.default.volumeLandmarks[e].MEV,
                  );
                }),
                  d();
              }
              function m() {
                if (!i) return;
                let e = l.map((e) =>
                  Math.round(0.5 * s.default.volumeLandmarks[e].MEV),
                );
                (i.data.datasets[0].data = e),
                  (i.data.datasets[0].backgroundColor = l.map(
                    () => "rgba(100, 100, 100, 0.6)",
                  )),
                  i.update(),
                  setTimeout(() => {
                    d();
                  }, 3e3);
              }
              function h() {
                i &&
                  console.log(
                    "Volume landmarks are permanently displayed on chart",
                  );
              }
              function g() {
                if (!i)
                  return console.warn("No chart available for export"), null;
                try {
                  let e = i.toBase64Image("image/png", 1),
                    t = document.createElement("a");
                  (t.download = `workout-volume-chart-week-${s.default.weekNo}.png`),
                    (t.href = e),
                    document.body.appendChild(t),
                    t.click(),
                    document.body.removeChild(t);
                  let a = document.createElement("div");
                  return (
                    (a.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: #4CAF50;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      z-index: 10000;
      font-weight: 600;
    `),
                    (a.textContent = "Chart exported successfully!"),
                    document.body.appendChild(a),
                    setTimeout(() => {
                      document.body.removeChild(a);
                    }, 3e3),
                    e
                  );
                } catch (t) {
                  console.error("Chart export failed:", t);
                  let e = document.createElement("div");
                  return (
                    (e.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: #f44336;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      z-index: 10000;
      font-weight: 600;
    `),
                    (e.textContent = "Export failed. Please try again."),
                    document.body.appendChild(e),
                    setTimeout(() => {
                      document.body.removeChild(e);
                    }, 3e3),
                    null
                  );
                }
              }
            },
            {
              "../core/trainingState.js": "e7afj",
              "3c0b45cf88c00f68": "aaVGq",
              "@parcel/transformer-js/src/esmodule-helpers.js": "k3151",
            },
          ],
          aaVGq: [
            function (e, t, a, n) {
              t.exports = e("da7d98a4fa39d6fa")(
                t.bundle.resolve("dataVisualization.d80ba3a1.js"),
              ).then(() => t.bundle.root("dF6dl"));
            },
            { da7d98a4fa39d6fa: "hpx0h" },
          ],
          bOIzP: [
            function (e, t, a, n) {
              var r = e("@parcel/transformer-js/src/esmodule-helpers.js");
              r.defineInteropFlag(a),
                r.export(a, "initVolumeCard", () => u),
                r.export(a, "createAdvancedVolumeEditor", () => V),
                r.export(a, "initVolumePresets", () => b),
                r.export(a, "updateVolumeDisplays", () => d),
                r.export(a, "updateCurrentSetsDisplay", () => c),
                r.export(a, "updateLandmarkDisplays", () => m),
                r.export(a, "updateVolumeStatus", () => h);
              var o = e("../core/trainingState.js"),
                s = r.interopDefault(o),
                i = e("./chartManager.js"),
                l = e("../algorithms/volume.js");
              function u() {
                let e = document.getElementById("muscleSelect"),
                  t = document.getElementById("currentSets"),
                  a = document.getElementById("mev"),
                  n = document.getElementById("mrv"),
                  r = document.getElementById("mav"),
                  o = document.getElementById("mv");
                e &&
                  t &&
                  (e.addEventListener("change", d),
                  t.addEventListener("focus", g),
                  t.addEventListener("blur", p),
                  t.addEventListener("keypress", f),
                  a && a.addEventListener("change", v),
                  n && n.addEventListener("change", v),
                  r && r.addEventListener("change", v),
                  o && o.addEventListener("change", v),
                  d());
              }
              function d() {
                let e = document.getElementById("muscleSelect"),
                  t = e?.value;
                t && (c(t), m(t), h(t));
              }
              function c(e) {
                let t = document.getElementById("currentSets");
                t && (t.value = s.default.currentWeekSets[e] || 0);
              }
              function m(e) {
                let t = s.default.volumeLandmarks[e];
                if (!t) return;
                let a = document.getElementById("mev"),
                  n = document.getElementById("mrv"),
                  r = document.getElementById("mav"),
                  o = document.getElementById("mv");
                a && (a.value = t.MEV),
                  n && (n.value = t.MRV),
                  r && t.MAV && (r.value = t.MAV),
                  o && t.MV && (o.value = t.MV);
              }
              function h(e) {
                let t = document.getElementById("volumeStatus");
                if (!t) return;
                let a = (0, l.analyzeVolumeStatus)(e);
                (t.innerHTML = `
    <div class="volume-analysis">
      <div class="status-indicator ${a.status}">
        ${a.status.toUpperCase()}
      </div>
      <div class="volume-details">
        <p>${a.recommendation}</p>
        <div class="landmarks-display">
          <span>MV: ${a.landmarks.MV}</span>
          <span>MEV: ${a.landmarks.MEV}</span>
          <span>MAV: ${a.landmarks.MAV}</span>
          <span>MRV: ${a.landmarks.MRV}</span>
        </div>
      </div>
    </div>
  `),
                  (t.className = `volume-status ${a.urgency}`);
              }
              function g(e) {
                let t = e.target;
                t.select(), (t.dataset.originalValue = t.value);
              }
              function p(e) {
                let t = e.target,
                  a = document.getElementById("muscleSelect"),
                  n = a?.value;
                if (!n) return;
                let r = parseInt(t.value, 10),
                  o = parseInt(t.dataset.originalValue, 10);
                if (isNaN(r) || r === o) {
                  t.value = o;
                  return;
                }
                let u = (0, l.validateVolumeInput)(n, r);
                if (!u.isValid) {
                  y(u.warning), (t.value = o);
                  return;
                }
                u.warning && k(u.warning, "warning"),
                  s.default.updateWeeklySets(n, r),
                  (0, i.updateChart)(),
                  h(n),
                  M();
              }
              function f(e) {
                if ("Enter" === e.key) e.target.blur();
                else if ("Escape" === e.key) {
                  let t = e.target;
                  (t.value = t.dataset.originalValue), t.blur();
                }
              }
              function v(e) {
                let t = e.target,
                  a = t.id.toUpperCase(),
                  n = document.getElementById("muscleSelect"),
                  r = n?.value;
                if (!r) return;
                let o = parseInt(t.value, 10);
                if (isNaN(o) || o < 0) {
                  t.value = s.default.volumeLandmarks[r][a];
                  return;
                }
                let l = { ...s.default.volumeLandmarks[r] };
                if (
                  ((l[a] = o),
                  !(function (e) {
                    let { MV: t = 0, MEV: a, MAV: n, MRV: r } = e;
                    return t <= a && a <= n && n <= r;
                  })(l))
                ) {
                  y("Invalid landmark relationship (MV ‚â§ MEV ‚â§ MAV ‚â§ MRV)"),
                    (t.value = s.default.volumeLandmarks[r][a]);
                  return;
                }
                s.default.updateVolumeLandmarks(r, { [a]: o }),
                  (0, i.updateChart)(),
                  h(r),
                  M();
              }
              function y(e) {
                k(e, "error");
              }
              function M() {
                k("Saved", "success");
              }
              function k(e, t = "info") {
                let a = document.createElement("div");
                (a.className = `notification ${t}`),
                  (a.textContent = e),
                  Object.assign(a.style, {
                    position: "fixed",
                    top: "20px",
                    right: "20px",
                    padding: "12px 20px",
                    borderRadius: "8px",
                    color: "white",
                    fontSize: "14px",
                    fontWeight: "600",
                    zIndex: "10000",
                    transition: "all 0.3s ease",
                    transform: "translateX(100%)",
                    opacity: "0",
                  });
                let n = {
                  success: "#4CAF50",
                  error: "#f44336",
                  warning: "#ff9800",
                  info: "#2196F3",
                };
                (a.style.backgroundColor = n[t] || n.info),
                  document.body.appendChild(a),
                  setTimeout(() => {
                    (a.style.transform = "translateX(0)"),
                      (a.style.opacity = "1");
                  }, 100),
                  setTimeout(() => {
                    (a.style.transform = "translateX(100%)"),
                      (a.style.opacity = "0"),
                      setTimeout(() => {
                        document.body.removeChild(a);
                      }, 300);
                  }, 3e3);
              }
              function V() {
                let e = document.getElementById("volumeCard");
                if (!e) return;
                let t = `
    <div class="advanced-volume-controls" style="margin-top: 20px;">
      <h3>Volume Landmarks</h3>
      <div class="landmark-grid">
        <div class="input-group">
          <label for="mv">MV (Maintenance Volume):</label>
          <input type="number" id="mv" min="0" value="0">
        </div>
        <div class="input-group">
          <label for="mav">MAV (Maximum Adaptive Volume):</label>
          <input type="number" id="mav" min="0" value="0">
        </div>
      </div>
      <div id="volumeStatus" class="volume-status"></div>
    </div>
  `,
                  a = e.querySelector("button");
                a && a.insertAdjacentHTML("beforebegin", t);
              }
              function b() {
                let e = document.createElement("div");
                (e.className = "volume-presets"),
                  (e.innerHTML = `
    <h4>Quick Presets</h4>
    <div class="preset-buttons">
      <button type="button" onclick="applyVolumePreset('beginner')">Beginner</button>
      <button type="button" onclick="applyVolumePreset('intermediate')">Intermediate</button>
      <button type="button" onclick="applyVolumePreset('advanced')">Advanced</button>
    </div>
  `);
                let t = document.getElementById("volumeCard");
                t && t.appendChild(e);
              }
              window.applyVolumePreset = function (e) {
                let t = document.getElementById("muscleSelect"),
                  a = t?.value;
                if (!a) return;
                let n = {
                    beginner: { multiplier: 0.8 },
                    intermediate: { multiplier: 1 },
                    advanced: { multiplier: 1.2 },
                  }[e],
                  r = s.default.volumeLandmarks[a],
                  o = {
                    MV: Math.round(r.MV * n.multiplier),
                    MEV: Math.round(r.MEV * n.multiplier),
                    MAV: Math.round(r.MAV * n.multiplier),
                    MRV: Math.round(r.MRV * n.multiplier),
                  };
                s.default.updateVolumeLandmarks(a, o),
                  d(),
                  (0, i.updateChart)(),
                  k(`Applied ${e} preset for ${a}`, "success");
              };
            },
            {
              "../core/trainingState.js": "e7afj",
              "./chartManager.js": "gBqFM",
              "../algorithms/volume.js": "boGW6",
              "@parcel/transformer-js/src/esmodule-helpers.js": "k3151",
            },
          ],
          boGW6: [
            function (e, t, a, n) {
              var r = e("@parcel/transformer-js/src/esmodule-helpers.js");
              r.defineInteropFlag(a),
                r.export(a, "scoreStimulus", () => l),
                r.export(a, "mevStimulusEstimator", () => l),
                r.export(a, "setProgressionAlgorithm", () => c),
                r.export(a, "rpSetProgression", () => c),
                r.export(a, "analyzeVolumeStatus", () => m),
                r.export(a, "calculateRecoveryVolume", () => h),
                r.export(a, "validateVolumeInput", () => g),
                r.export(a, "getVolumeProgression", () => p),
                r.export(a, "analyzeDeloadNeed", () => f),
                r.export(a, "autoSetIncrement", () => u),
                r.export(a, "processWeeklyVolumeProgression", () => d);
              var o = e("../core/trainingState.js"),
                s = r.interopDefault(o),
                i = e("./fatigue.js");
              function l({ mmc: e, pump: t, disruption: a }) {
                let n,
                  r,
                  o,
                  s = (e, t, a) => Math.max(t, Math.min(a, e)),
                  i = s(e, 0, 3),
                  l = s(t, 0, 3),
                  u = s(a, 0, 3),
                  d = i + l + u;
                return (
                  d <= 3
                    ? ((n = `Stimulus too low (${d}/9) \u{2192} Add 2 sets next session`),
                      (r = "add_sets"),
                      (o = 2))
                    : d <= 6
                      ? ((n = `Stimulus adequate (${d}/9) \u{2192} Keep sets the same`),
                        (r = "maintain"),
                        (o = 0))
                      : ((n = `Stimulus excessive (${d}/9) \u{2192} Remove 1-2 sets next session`),
                        (r = "reduce_sets"),
                        (o = -1)),
                  {
                    score: d,
                    advice: n,
                    action: r,
                    setChange: o,
                    breakdown: { mmc: i, pump: l, disruption: u },
                  }
                );
              }
              function u(e, t = {}, a) {
                let n = a.getWeeklySets(e) >= a.volumeLandmarks[e].MRV,
                  r = a.getVolumeStatus(e),
                  o =
                    l(t.stimulus || { mmc: 0, pump: 0, disruption: 0 }).score <=
                    3,
                  s =
                    "recovered" === t.recoveryMuscle ||
                    "fully recovered" === t.recoveryMuscle;
                return n ||
                  t.recoverySession ||
                  ["maintenance", "optimal", "high", "maximum"].includes(r)
                  ? { add: !1, delta: 0 }
                  : (["low"].includes(r) && o) || ("suboptimal" === r && o && s)
                    ? { add: !0, delta: 1 }
                    : { add: !1, delta: 0 };
              }
              function d(e, t) {
                let a = {},
                  n = !1,
                  r = 0;
                return (
                  Object.keys(e).forEach((n) => {
                    let o = e[n];
                    (0, i.isHighFatigue)(n, o, t) &&
                      (t.hitMRV(n),
                      r++,
                      console.log(`hitMRV: true (fatigue) - ${n}`),
                      (o.recoverySession = !0));
                    let s = u(n, o, t);
                    s.add && t.addSets(n, s.delta),
                      t.getWeeklySets(n) >= t.volumeLandmarks[n].MRV &&
                        (t.hitMRV(n), r++),
                      (a[n] = {
                        previousSets:
                          t.lastWeekSets[n] || t.volumeLandmarks[n].MEV,
                        currentSets: t.getWeeklySets(n),
                        increment: s.delta,
                        reason: s.reason,
                        status: t.getVolumeStatus(n),
                      });
                  }),
                  t.shouldDeload() && (t.startDeload(), (n = !0)),
                  {
                    progressionLog: a,
                    deloadTriggered: n,
                    mrvHits: r,
                    weekComplete: !0,
                    recommendation: n
                      ? "Deload phase initiated"
                      : "Continue progression",
                  }
                );
              }
              function c(e, t) {
                let a = (e, t, a) => Math.max(t, Math.min(a, e)),
                  n = a(e, 0, 3),
                  r = a(t, 0, 3);
                return [
                  [
                    {
                      advice: "Add 1 set next session",
                      action: "add_sets",
                      setChange: 1,
                    },
                    {
                      advice: "Add 2 sets next session",
                      action: "add_sets",
                      setChange: 2,
                    },
                    {
                      advice: "Add 2-3 sets next session",
                      action: "add_sets",
                      setChange: 2,
                    },
                    {
                      advice: "Add 2-3 sets next session",
                      action: "add_sets",
                      setChange: 3,
                    },
                  ],
                  [
                    {
                      advice: "Hold sets at current level",
                      action: "maintain",
                      setChange: 0,
                    },
                    {
                      advice: "Add 1 set next session",
                      action: "add_sets",
                      setChange: 1,
                    },
                    {
                      advice: "Add 2 sets next session",
                      action: "add_sets",
                      setChange: 2,
                    },
                    {
                      advice: "Add 2-3 sets next session",
                      action: "add_sets",
                      setChange: 2,
                    },
                  ],
                  [
                    {
                      advice: "Do recovery session",
                      action: "recovery",
                      setChange: -99,
                    },
                    {
                      advice: "Hold sets at current level",
                      action: "maintain",
                      setChange: 0,
                    },
                    {
                      advice: "Hold sets at current level",
                      action: "maintain",
                      setChange: 0,
                    },
                    {
                      advice: "Add 1 set next session",
                      action: "add_sets",
                      setChange: 1,
                    },
                  ],
                  [
                    {
                      advice: "Do recovery session",
                      action: "recovery",
                      setChange: -99,
                    },
                    {
                      advice: "Do recovery session",
                      action: "recovery",
                      setChange: -99,
                    },
                    {
                      advice: "Do recovery session",
                      action: "recovery",
                      setChange: -99,
                    },
                    {
                      advice: "Hold sets at current level",
                      action: "maintain",
                      setChange: 0,
                    },
                  ],
                ][n][r];
              }
              function m(e, t = null) {
                let a = null !== t ? t : s.default.currentWeekSets[e],
                  n = s.default.volumeLandmarks[e];
                if (!n) throw Error(`Unknown muscle group: ${e}`);
                let r = s.default.getVolumeStatus(e, a),
                  o = (a / n.MRV) * 100,
                  i = "",
                  l = "normal";
                switch (r) {
                  case "under-minimum":
                    (i = `Below MV (${n.MV}). Increase volume significantly.`),
                      (l = "high");
                    break;
                  case "maintenance":
                    (i = `In maintenance zone (${n.MV}-${n.MEV}). Consider increasing for growth.`),
                      (l = "low");
                    break;
                  case "optimal":
                    (i = `In optimal zone (${n.MEV}-${n.MAV}). Continue progressive overload.`),
                      (l = "normal");
                    break;
                  case "high":
                    (i = `High volume zone (${n.MAV}-${n.MRV}). Monitor recovery closely.`),
                      (l = "medium");
                    break;
                  case "maximum":
                    (i = `At/above MRV (${n.MRV}). Deload recommended.`),
                      (l = "high");
                }
                return {
                  muscle: e,
                  currentSets: a,
                  landmarks: n,
                  status: r,
                  percentage: Math.round(o),
                  recommendation: i,
                  urgency: l,
                  color: s.default.getVolumeColor(e, a),
                };
              }
              function h(e, t = !1) {
                let a = s.default.volumeLandmarks[e],
                  n = s.default.getRecoveryVolume(e, t);
                return {
                  muscle: e,
                  recommendedSets: n,
                  reasoning: t ? "illness adjustment" : "standard recovery",
                  landmarks: a,
                  percentage: Math.round((n / a.MEV) * 100),
                };
              }
              function g(e, t) {
                let a = s.default.volumeLandmarks[e],
                  n = t >= 0 && t <= 1.2 * a.MRV,
                  r = "";
                return (
                  t < 0
                    ? (r = "Sets cannot be negative")
                    : t > a.MRV
                      ? (r = `Above MRV (${a.MRV}). Consider deload.`)
                      : t < a.MV &&
                        (r = `Below MV (${a.MV}). May not be sufficient for adaptation.`),
                  { isValid: n, warning: r, proposedSets: t, landmarks: a }
                );
              }
              function p(e, t) {
                let a = s.default.currentWeekSets[e],
                  n = m(e);
                if (
                  ["optimal", "high", "maximum"].includes(
                    s.default.getVolumeStatus(e),
                  )
                )
                  return {
                    deltaSets: 0,
                    headline: "Maintain current sets next session",
                    currentSets: a,
                    nextSets: a,
                    notes: "Volume already optimal",
                  };
                let r = l(t.stimulus),
                  o = c(t.soreness, t.performance),
                  i = o.setChange,
                  u = o.advice;
                if (
                  ("maximum" === n.status &&
                    i > 0 &&
                    ((i = 0),
                    (u = "At MRV limit. Hold sets or consider deload.")),
                  "under-minimum" === n.status &&
                    i <= 0 &&
                    ((i = 2),
                    (u =
                      "Below minimum volume. Add sets regardless of fatigue.")),
                  "recovery" === o.action)
                ) {
                  let n = h(e, t.hasIllness);
                  (i = n.recommendedSets - a),
                    (u = `Recovery session: ${n.recommendedSets} sets (${n.reasoning})`);
                }
                let d = Math.max(0, a + i);
                return {
                  muscle: e,
                  currentSets: a,
                  projectedSets: d,
                  setChange: i,
                  advice: u,
                  stimulusScore: r.score,
                  volumeStatus: n.status,
                  targetRIR: s.default.getTargetRIR(),
                  deloadRecommended: s.default.shouldDeload(),
                };
              }
              function f() {
                let e = Object.keys(s.default.volumeLandmarks),
                  t = e.filter(
                    (e) => "maximum" === s.default.getVolumeStatus(e),
                  ),
                  a = s.default.shouldDeload(),
                  n = [];
                return (
                  s.default.consecutiveMRVWeeks >= 2 &&
                    n.push("Two consecutive weeks at MRV"),
                  s.default.totalMusclesNeedingRecovery >=
                    Math.ceil(e.length / 2) &&
                    n.push("Most muscles need recovery sessions"),
                  s.default.weekNo >= s.default.mesoLen &&
                    n.push("End of mesocycle reached"),
                  t.length >= Math.ceil(e.length / 3) &&
                    n.push(`${t.length} muscle groups at/above MRV`),
                  {
                    shouldDeload: a,
                    reasons: n,
                    mrvBreaches: t,
                    consecutiveMRVWeeks: s.default.consecutiveMRVWeeks,
                    currentWeek: s.default.weekNo,
                    mesoLength: s.default.mesoLen,
                    musclesNeedingRecovery:
                      s.default.totalMusclesNeedingRecovery,
                  }
                );
              }
            },
            {
              "../core/trainingState.js": "e7afj",
              "./fatigue.js": "3GKzs",
              "@parcel/transformer-js/src/esmodule-helpers.js": "k3151",
            },
          ],
          "3GKzs": [
            function (e, t, a, n) {
              var r = e("@parcel/transformer-js/src/esmodule-helpers.js");
              r.defineInteropFlag(a),
                r.export(a, "analyzeFrequency", () => i),
                r.export(a, "calculateOptimalFrequency", () => l),
                r.export(a, "isHighFatigue", () => u);
              var o = e("../core/trainingState.js"),
                s = r.interopDefault(o);
              function i(e, t, a = null) {
                let n = Math.max(0, e),
                  r = Math.max(1, t),
                  o = "",
                  l = "",
                  u = "normal",
                  d = 0,
                  c = n / r;
                if (
                  (c < 0.7
                    ? ((o = "You heal early ‚Üí Add one session per week"),
                      (l = "increase_frequency"),
                      (d = 1),
                      (u = "medium"))
                    : c > 1.3
                      ? ((o = "Recovery lags ‚Üí Insert an extra rest day"),
                        (l = "decrease_frequency"),
                        (d = -1),
                        (u = "high"))
                      : ((o = "Frequency is optimal"),
                        (l = "maintain"),
                        (d = 0),
                        (u = "normal")),
                  a)
                ) {
                  let e = s.default.getVolumeStatus(a);
                  "maximum" === e &&
                    "increase_frequency" === l &&
                    ((o = "At MRV - maintain frequency despite early recovery"),
                    (l = "maintain"),
                    (d = 0)),
                    "under-minimum" === e &&
                      "decrease_frequency" === l &&
                      ((o =
                        "Below MV - consider recovery methods instead of reducing frequency"),
                      (l = "improve_recovery"),
                      (d = 0));
                }
                return {
                  sorenessRecoveryDays: n,
                  currentSessionGap: r,
                  recoveryRatio: Math.round(100 * c) / 100,
                  recommendation: o,
                  action: l,
                  frequencyAdjustment: d,
                  urgency: u,
                  muscle: a,
                };
              }
              function l(e, t = {}) {
                let {
                    availableDays: a = 6,
                    currentVolume: n = null,
                    recoveryCapacity: r = "normal",
                    trainingAge: o = "intermediate",
                  } = t,
                  i = n || s.default.currentWeekSets[e],
                  u = s.default.volumeLandmarks[e],
                  d = {
                    beginner: { min: 2, max: 3 },
                    intermediate: { min: 2, max: 4 },
                    advanced: { min: 3, max: 5 },
                  }[o],
                  c = 2,
                  m = Math.round(
                    (c =
                      i >= u.MAV
                        ? Math.min(4, Math.ceil(i / 6))
                        : i >= u.MEV
                          ? Math.min(3, Math.ceil(i / 8))
                          : Math.max(2, Math.ceil(i / 10))) *
                      { low: 0.8, normal: 1, high: 1.2 }[r],
                  ),
                  h = Math.max(d.min, Math.min(d.max, m, a)),
                  g = Math.ceil(i / h);
                return {
                  muscle: e,
                  recommendedFrequency: h,
                  setsPerSession: g,
                  totalVolume: i,
                  reasoning: [
                    `${i} weekly sets`,
                    `${r} recovery capacity`,
                    `${o} training age`,
                    `${a} available days`,
                  ],
                  alternatives: {
                    conservative: Math.max(2, h - 1),
                    aggressive: Math.min(a, h + 1),
                  },
                };
              }
              function u(e, t, a) {
                let n = t.soreness || 0,
                  r = t.jointAche || 0,
                  o = t.perfChange || 0,
                  s = (t.pump || 0) + (t.disruption || 0),
                  i = !!t.lastLoad && a.repStrengthDrop(e, t.lastLoad);
                return s / (n + r + 2 * (o < 0) || 1) <= 1 || i;
              }
            },
            {
              "../core/trainingState.js": "e7afj",
              "@parcel/transformer-js/src/esmodule-helpers.js": "k3151",
            },
          ],
          "9pPgQ": [
            function (e, t, a, n) {
              var r = e("@parcel/transformer-js/src/esmodule-helpers.js");
              r.defineInteropFlag(a),
                r.export(a, "initFeedbackForm", () => d),
                r.export(a, "addAutoregulationFeatures", () => g),
                r.export(a, "handleFeedbackSubmission", () => c),
                r.export(a, "updateCurrentSetsFromState", () => m),
                r.export(a, "validateRIRInput", () => h);
              var o = e("../core/trainingState.js"),
                s = r.interopDefault(o),
                i = e("./chartManager.js"),
                l = e("../algorithms/volume.js"),
                u = e("../algorithms/effort.js");
              function d() {
                let e =
                  document.getElementById("submitFeedbackBtn") ||
                  document.querySelector("#mevCard button");
                e && e.addEventListener("click", c),
                  document
                    .querySelectorAll('input[name="actualRIR"]')
                    .forEach((e) => {
                      e.addEventListener("input", h);
                    });
                let t = document.getElementById("muscleSelect");
                t && (t.addEventListener("change", m), m());
              }
              function c() {
                let e = (function () {
                  let e = document.getElementById("muscleSelect")?.value,
                    t = parseInt(
                      document.getElementById("currentSets")?.value,
                      10,
                    ),
                    a = parseInt(document.getElementById("mmc")?.value, 10),
                    n = parseInt(document.getElementById("pump")?.value, 10),
                    r = parseInt(document.getElementById("dis")?.value, 10),
                    o = document.querySelector('input[name="perf"]:checked'),
                    s = o ? parseInt(o.value, 10) : 1,
                    i =
                      parseInt(document.getElementById("sore")?.value, 10) || 1,
                    l =
                      parseInt(
                        document.getElementById("jointAche")?.value,
                        10,
                      ) || 0,
                    u =
                      parseInt(
                        document.getElementById("perfChange")?.value,
                        10,
                      ) || 0,
                    d = document.getElementById("actualRIR");
                  return {
                    muscle: e,
                    currentSets: t,
                    stimulus: { mmc: a, pump: n, disruption: r },
                    performance: s,
                    soreness: i,
                    jointAche: l,
                    perfChange: u,
                    actualRIR: d ? parseFloat(d.value) : null,
                    hasIllness:
                      document.getElementById("illness2")?.checked || !1,
                    timestamp: new Date().toISOString(),
                  };
                })();
                if (
                  !(function (e) {
                    let t = [];
                    return (
                      e.muscle || t.push("Please select a muscle group"),
                      (isNaN(e.currentSets) || e.currentSets < 0) &&
                        t.push("Please enter a valid number of sets"),
                      (isNaN(e.stimulus.mmc) ||
                        e.stimulus.mmc < 0 ||
                        e.stimulus.mmc > 3) &&
                        t.push("Mind-muscle connection must be 0-3"),
                      (isNaN(e.stimulus.pump) ||
                        e.stimulus.pump < 0 ||
                        e.stimulus.pump > 3) &&
                        t.push("Pump rating must be 0-3"),
                      (isNaN(e.stimulus.disruption) ||
                        e.stimulus.disruption < 0 ||
                        e.stimulus.disruption > 3) &&
                        t.push("Workload rating must be 0-3"),
                      !(t.length > 0) ||
                        ((function (e) {
                          let t = document.getElementById("mevOut");
                          t &&
                            ((t.innerHTML = `<div class="error-message">\u{274C} ${e}</div>`),
                            (t.className = "result danger active"));
                        })(t.join("\n")),
                        !1)
                    );
                  })(e)
                )
                  return;
                let t = (function (e) {
                  var t, a;
                  let n,
                    r,
                    o = (0, l.scoreStimulus)(e.stimulus),
                    s = (0, l.setProgressionAlgorithm)(
                      e.soreness,
                      e.performance,
                    ),
                    i = (0, l.getVolumeProgression)(e.muscle, {
                      stimulus: e.stimulus,
                      soreness: e.soreness,
                      performance: e.performance,
                      hasIllness: e.hasIllness,
                    }),
                    d = null;
                  return (
                    null !== e.actualRIR &&
                      (d = (0, u.validateEffortLevel)(e.actualRIR)),
                    {
                      stimulus: o,
                      progression: s,
                      volumeProgression: i,
                      rirValidation: d,
                      recommendedAction:
                        ((t = o),
                        (n = (a = s).setChange),
                        (r = a.advice),
                        "reduce_sets" === t.action &&
                          "add_sets" === a.action &&
                          (r +=
                            " (But consider technique - stimulus was high)"),
                        "add_sets" === t.action &&
                          "maintain" === a.action &&
                          (r += " (Stimulus was low - focus on connection)"),
                        {
                          setChange: n,
                          advice: r,
                          primaryReason: "RP Set Progression Algorithm",
                          secondaryFactor: `Stimulus Score: ${t.score}/9`,
                        }),
                    }
                  );
                })(e);
                (function (e, t) {
                  let { muscle: a } = e,
                    { setChange: n } = t.recommendedAction;
                  -99 !== n && s.default.addSets(a, n),
                    "recovery" === t.progression.action &&
                      (s.default.recoverySessionsThisWeek++,
                      "maximum" === t.volumeProgression.volumeStatus &&
                        s.default.totalMusclesNeedingRecovery++),
                    (function (e, t) {
                      let a = `feedback-${e.muscle}-${s.default.weekNo}`,
                        n = {
                          ...e,
                          results: t,
                          weekNo: s.default.weekNo,
                          blockNo: s.default.blockNo,
                        };
                      localStorage.setItem(a, JSON.stringify(n));
                    })(e, t);
                })(e, t),
                  (function (e) {
                    var t;
                    let a = document.getElementById("mevOut");
                    if (!a) return;
                    let {
                        stimulus: n,
                        volumeProgression: r,
                        rirValidation: o,
                      } = e,
                      s = r.headline ?? `${r.muscle} Recommendation`,
                      i = r.notes ?? r.advice ?? "",
                      l = `
    <div class="feedback-results">
      <div class="main-recommendation">
        <h4>${s}</h4>
        <p class="advice">${i}</p>
        <p class="sets-info">
          Current: ${r.currentSets} sets \u{2192} 
          Next week: ${r.projectedSets} sets
          ${0 !== r.setChange ? `(${r.setChange > 0 ? "+" : ""}${r.setChange})` : ""}
        </p>
      </div>
      
      <div class="algorithm-details">
        <div class="stimulus-score">
          <strong>Workload:</strong> ${n.score}/9 
          <span class="stimulus-${n.action}">(${n.action.replace("_", " ")})</span>
        </div>
        <div class="volume-status">
          <strong>Volume Status:</strong> ${r.volumeStatus}
        </div>
        <div class="target-rir">
          <strong>Target RIR:</strong> ${r.targetRIR}
        </div>
      </div>
    </div>
  `;
                    o &&
                      (l += `
      <div class="rir-feedback ${o.urgency}">
        <strong>Effort Check:</strong> ${o.feedback}
        <br><em>${o.recommendation}</em>
      </div>
    `),
                      r.deloadRecommended &&
                        (l += `
      <div class="deload-warning">
        \u{26A0}\u{FE0F} <strong>Deload Recommended</strong> - Consider reducing volume this week
      </div>
    `),
                      (a.innerHTML = l),
                      (a.className = (function (e) {
                        let t = "result active";
                        switch (e) {
                          case "success":
                            return `${t} success`;
                          case "warning":
                            return `${t} warning`;
                          case "danger":
                            return `${t} danger`;
                          default:
                            return t;
                        }
                      })(
                        (t = e).volumeProgression.deloadRecommended
                          ? "warning"
                          : "recovery" === t.progression.action
                            ? "danger"
                            : t.volumeProgression.setChange > 0
                              ? "success"
                              : "info",
                      ));
                  })(t),
                  (0, i.updateChart)(),
                  m();
              }
              function m() {
                let e = document.getElementById("muscleSelect"),
                  t = document.getElementById("currentSets");
                if (!e || !t) return;
                let a = e.value;
                t.value = s.default.currentWeekSets[a] || 0;
              }
              function h(e) {
                let t = e.target,
                  a = parseFloat(t.value),
                  n = s.default.getTargetRIR();
                if (isNaN(a)) return;
                let r = (0, u.validateEffortLevel)(a, n);
                t.classList.remove("rir-good", "rir-warning", "rir-danger"),
                  r.isWithinTolerance
                    ? t.classList.add("rir-good")
                    : "medium" === r.urgency
                      ? t.classList.add("rir-warning")
                      : t.classList.add("rir-danger"),
                  (function (e, t) {
                    let a = e.parentNode.querySelector(".rir-tooltip");
                    a && a.remove();
                    let n = document.createElement("div");
                    (n.className = `rir-tooltip ${t.urgency}`),
                      (n.textContent = t.feedback),
                      Object.assign(n.style, {
                        position: "absolute",
                        bottom: "100%",
                        left: "50%",
                        transform: "translateX(-50%)",
                        padding: "8px 12px",
                        borderRadius: "6px",
                        fontSize: "12px",
                        fontWeight: "600",
                        color: "white",
                        zIndex: "1000",
                        whiteSpace: "nowrap",
                        marginBottom: "5px",
                      });
                    let r = {
                      normal: "#4CAF50",
                      medium: "#ff9800",
                      high: "#f44336",
                    };
                    (n.style.backgroundColor = r[t.urgency] || r.normal),
                      (e.parentNode.style.position = "relative"),
                      e.parentNode.appendChild(n),
                      setTimeout(() => {
                        n.parentNode && n.parentNode.removeChild(n);
                      }, 3e3);
                  })(t, r);
              }
              function g() {
                let e = document.getElementById("mevCard");
                if (!e) return;
                let t = `
    <div class="autoregulation-section">
      <h4>Real-time Autoregulation</h4>
      <div class="input-group">
        <label for="actualRIR">Actual RIR this set:</label>
        <input type="number" id="actualRIR" min="0" max="10" step="0.5" placeholder="e.g. 2.5">
        <div class="helper-text">How many reps could you have done? (Target: ${s.default.getTargetRIR()})</div>
      </div>
      <div class="input-group">
        <label for="setNumber">Set number:</label>
        <input type="number" id="setNumber" min="1" value="1">
      </div>
    </div>
  `,
                  a = e.querySelector("button");
                a && a.insertAdjacentHTML("beforebegin", t);
              }
            },
            {
              "../core/trainingState.js": "e7afj",
              "./chartManager.js": "gBqFM",
              "../algorithms/volume.js": "boGW6",
              "../algorithms/effort.js": "hZYkR",
              "@parcel/transformer-js/src/esmodule-helpers.js": "k3151",
            },
          ],
          hZYkR: [
            function (e, t, a, n) {
              var r = e("@parcel/transformer-js/src/esmodule-helpers.js");
              r.defineInteropFlag(a),
                r.export(a, "calculateTargetRIR", () => l),
                r.export(a, "validateEffortLevel", () => d),
                r.export(a, "getEffortProgression", () => c),
                r.export(a, "getWeeklyEffortSummary", () => p),
                r.export(a, "getAutoregulationAdvice", () => g),
                r.export(a, "getScheduledRIR", () => u),
                r.export(a, "processWeeklyLoadAdjustments", () => m),
                r.export(a, "getLoadProgression", () => h),
                r.export(a, "simulateWeeklyRIRFeedback", () => f);
              var o = e("../core/trainingState.js"),
                s = r.interopDefault(o);
              let i = {
                4: [3, 2, 1, 0],
                5: [3, 2.5, 2, 1, 0],
                6: [3, 2.5, 2, 1.5, 1, 0],
              };
              function l(e = null, t = null, a = 3, n = 0.5) {
                let r = e || s.default.weekNo,
                  o = t || s.default.mesoLen;
                if (r > o)
                  return {
                    targetRIR: a,
                    warning: "Week exceeds mesocycle length",
                    progression: 0,
                  };
                let i = Math.max(
                    n,
                    Math.min(a, a - ((a - n) / (o - 1)) * (r - 1)),
                  ),
                  u = "moderate",
                  d = "";
                return (
                  i >= 2.5
                    ? ((u = "low"),
                      (d = "Focus on form and mind-muscle connection"))
                    : i >= 2
                      ? ((u = "moderate"),
                        (d =
                          "Balanced effort - challenge without excessive fatigue"))
                      : i >= 1
                        ? ((u = "high"),
                          (d = "High effort - monitor recovery closely"))
                        : ((u = "maximum"),
                          (d = "Maximum effort - deload approaching")),
                  {
                    targetRIR: Math.round(2 * i) / 2,
                    intensityLevel: u,
                    advice: d,
                    progression: Math.round(((r - 1) / (o - 1)) * 100),
                    week: r,
                    mesoLength: o,
                  }
                );
              }
              function u(e, t) {
                let a = i[t];
                if (!a) return Math.max(0, 3 - (3 / (t - 1)) * (e - 1));
                let n = Math.min(e - 1, a.length - 1);
                return a[n];
              }
              function d(e, t = null, a = 1) {
                let n = t || s.default.getTargetRIR(),
                  r = Math.abs(e - n),
                  o = r <= a,
                  i = "",
                  l = "",
                  u = "normal";
                if (o)
                  (i = `On target (${e} vs ${n} RIR)`),
                    (l = "Continue current effort level"),
                    (u = "normal");
                else if (e > n) {
                  let t = e - n;
                  (i = `Too easy (${t} RIR above target)`),
                    (l =
                      t > 2
                        ? "Increase weight significantly"
                        : "Increase weight moderately"),
                    (u = t > 2 ? "high" : "medium");
                } else {
                  let t = n - e;
                  (i = `Too hard (${t} RIR below target)`),
                    (l =
                      t > 2
                        ? "Reduce weight significantly"
                        : "Reduce weight slightly"),
                    (u = t > 2 ? "high" : "medium");
                }
                return {
                  actualRIR: e,
                  targetRIR: n,
                  deviation: r,
                  isWithinTolerance: o,
                  feedback: i,
                  recommendation: l,
                  urgency: u,
                };
              }
              function c(e, t) {
                let a = s.default.getTargetRIR(),
                  n = s.default.getVolumeStatus(e),
                  r = "maintain",
                  o = 0,
                  i = "";
                t.actualRIR < t.targetRIR - 1.5
                  ? ((r = "decrease"),
                    (o = 0.5),
                    (i = "Reduce weight to hit target RIR"))
                  : t.actualRIR > t.targetRIR + 1.5
                    ? ((r = "increase"),
                      (o = -0.5),
                      (i = "Increase weight to hit target RIR"))
                    : (i =
                        "maximum" === n
                          ? "Maintain weight - at volume limit"
                          : "Good effort level - continue progression"),
                  "maximum" === n &&
                    "increase" === r &&
                    ((r = "maintain"),
                    (i = "At MRV - avoid adding intensity stress"));
                let l = Math.max(0, a + o);
                return {
                  muscle: e,
                  currentTargetRIR: a,
                  projectedRIR: l,
                  weightRecommendation: r,
                  advice: i,
                  volumeStatus: n,
                };
              }
              function m(e) {
                let t = s.default.weekNo,
                  a = u(t, s.default.mesoLen),
                  n = {},
                  r = 0;
                return (
                  Object.keys(e).forEach((t) => {
                    let o = e[t],
                      s = o.averageRIR || a,
                      i = s - a,
                      l = 0,
                      u = "";
                    0.5 >= Math.abs(i)
                      ? ((l = 2.5), (u = "On target - progressive overload"))
                      : i > 0.5
                        ? i > 2
                          ? ((l = 10), (u = "Too easy - major increase needed"))
                          : i > 1
                            ? ((l = 7.5), (u = "Too easy - moderate increase"))
                            : ((l = 5), (u = "Slightly easy - small increase"))
                        : i < -2
                          ? ((l = -10),
                            (u = "Too hard - major decrease needed"))
                          : i < -1
                            ? ((l = -5), (u = "Too hard - moderate decrease"))
                            : ((l = -2.5),
                              (u = "Slightly hard - small decrease"));
                    let d = o.performanceTrend || 0;
                    d < 0
                      ? ((l -= 2.5), (u += " (performance declining)"))
                      : d > 0 &&
                        i >= 0 &&
                        ((l += 2.5), (u += " (performance improving)")),
                      (l = Math.max(-15, Math.min(15, l))),
                      (n[t] = {
                        currentRIR: s,
                        targetRIR: a,
                        deviation: i,
                        loadAdjustment: l,
                        reason: u,
                        urgency:
                          Math.abs(i) > 1.5
                            ? "high"
                            : Math.abs(i) > 1
                              ? "medium"
                              : "low",
                      }),
                      Math.abs(l) > 2.5 && r++;
                  }),
                  {
                    week: t,
                    targetRIR: a,
                    adjustments: n,
                    summary: {
                      totalMuscles: Object.keys(e).length,
                      musclesAdjusted: r,
                      avgLoadChange:
                        Object.values(n).reduce(
                          (e, t) => e + t.loadAdjustment,
                          0,
                        ) / Object.keys(n).length,
                    },
                  }
                );
              }
              function h(e, t = {}) {
                let a = s.default.weekNo,
                  n = a + 1,
                  r = u(a, s.default.mesoLen),
                  o = u(n, s.default.mesoLen),
                  i = r - o,
                  l = (t.averageRIR || r) - r,
                  d = 0,
                  c = "";
                if (i > 0) {
                  let e = 5 * i;
                  l > 1
                    ? ((d = e + 5),
                      (c = `Increase load ${d.toFixed(1)}% for Week ${n} (RIR ${o}) - currently too easy`))
                    : l < -1
                      ? ((d = 0.5 * e),
                        (c = `Conservative increase ${d.toFixed(1)}% for Week ${n} (RIR ${o}) - struggling with current load`))
                      : ((d = e),
                        (c = `Standard increase ${d.toFixed(1)}% for Week ${n} (RIR ${o})`));
                } else
                  0 === i
                    ? ((d = 2.5),
                      (c = `Small progressive overload ${d.toFixed(1)}% for Week ${n} (RIR ${o})`))
                    : ((d = 0),
                      (c = `Maintain current load for Week ${n} (RIR ${o})`));
                let m = s.default.getVolumeStatus(e);
                return (
                  "maximum" === m &&
                    ((d *= 0.75), (c += " (reduced due to MRV)")),
                  {
                    muscle: e,
                    currentWeek: a,
                    nextWeek: n,
                    currentRIR: r,
                    nextRIR: o,
                    rirDrop: i,
                    loadIncrease: Math.round(10 * d) / 10,
                    recommendation: c,
                    volumeStatus: m,
                  }
                );
              }
              function g(e) {
                let {
                    actualRIR: t,
                    plannedRIR: a,
                    setNumber: n,
                    totalPlannedSets: r,
                    muscle: o,
                  } = e,
                  s = t - a,
                  i = "",
                  l = "continue",
                  u = 0;
                return (
                  n <= Math.ceil(r / 3)
                    ? s > 1.5
                      ? ((i = "Weight too light - increase by 5-10%"),
                        (l = "increase_weight"),
                        (u = 7.5))
                      : s < -1.5
                        ? ((i = "Weight too heavy - decrease by 5-10%"),
                          (l = "decrease_weight"),
                          (u = -7.5))
                        : (i = "Weight appropriate - continue")
                    : n <= Math.ceil((2 * r) / 3)
                      ? s > 2
                        ? ((i = "Still too easy - increase weight"),
                          (l = "increase_weight"),
                          (u = 5))
                        : s < -2
                          ? ((i = "Too fatiguing - consider stopping early"),
                            (l = "consider_stopping"),
                            (u = 0))
                          : (i = "Good progression - continue")
                      : s < -1
                        ? ((i =
                            "Very fatiguing - consider stopping to preserve recovery"),
                          (l = "consider_stopping"))
                        : s > 2
                          ? ((i =
                              "Could push harder - add 1-2 sets if recovering well"),
                            (l = "consider_adding_sets"))
                          : (i = "Appropriate fatigue for final sets"),
                  {
                    setNumber: n,
                    totalPlannedSets: r,
                    actualRIR: t,
                    plannedRIR: a,
                    deviation: s,
                    advice: i,
                    action: l,
                    weightAdjustment: u,
                  }
                );
              }
              function p() {
                let e = s.default.weekNo,
                  t = s.default.mesoLen,
                  a = s.default.getTargetRIR(),
                  n = [];
                return (
                  1 === e
                    ? (n.push("Focus on technique and mind-muscle connection"),
                      n.push("Establish baseline weights for the mesocycle"))
                    : e === t
                      ? (n.push("Peak intensity week - push close to failure"),
                        n.push("Prepare for upcoming deload"))
                      : e > 0.75 * t
                        ? (n.push(
                            "High intensity phase - monitor recovery closely",
                          ),
                          n.push("Focus on performance over volume additions"))
                        : (n.push(
                            "Progressive overload phase - gradually increase demands",
                          ),
                          n.push("Balance volume and intensity progression")),
                  {
                    currentWeek: e,
                    mesoLength: t,
                    targetRIR: a,
                    weeklyAdvice: n,
                    phaseDescription: (function (e, t) {
                      let a = (e / t) * 100;
                      return a <= 25
                        ? "Accumulation Phase - Building foundation"
                        : a <= 60
                          ? "Progression Phase - Steady overload"
                          : a <= 85
                            ? "Intensification Phase - High demands"
                            : "Peak Phase - Maximum effort";
                    })(e, t),
                  }
                );
              }
              function f(e, t) {
                let a = u(t, s.default.mesoLen),
                  n = {};
                return (
                  e.forEach((e) => {
                    let r = s.default.getVolumeStatus(e),
                      o = 0,
                      i = Math.max(
                        0,
                        a +
                          ("maximum" === r
                            ? 1.5 * Math.random() - 0.5
                            : t <= 2
                              ? 1.5 * Math.random() + 0.5
                              : t >= s.default.mesoLen - 1
                                ? 1.5 * Math.random() - 1
                                : 2 * Math.random() - 1),
                      ),
                      l = 0,
                      u = 0,
                      d = 100,
                      c = 1;
                    "maximum" === r
                      ? ((l = Math.floor(3 * Math.random()) + 1),
                        (u = Math.random() > 0.6 ? -1 : 0),
                        (d = 0.95 * s.default.baselineStrength[e]),
                        (c = Math.floor(2 * Math.random()) + 2))
                      : "high" === r
                        ? ((l = Math.floor(2 * Math.random())),
                          (u =
                            Math.random() > 0.8
                              ? -1
                              : Math.random() > 0.5
                                ? 0
                                : 1),
                          (d = 0.98 * s.default.baselineStrength[e]),
                          (c = Math.floor(2 * Math.random()) + 1))
                        : ((l = Math.floor(2 * Math.random())),
                          (u = +(Math.random() > 0.7)),
                          (d = 1.02 * s.default.baselineStrength[e]),
                          (c = Math.floor(2 * Math.random()))),
                      (n[e] = {
                        actualRIR: i,
                        targetRIR: a,
                        averageRIR: Math.round(10 * i) / 10,
                        performanceTrend:
                          t > 1 && Math.random() > 0.7
                            ? Math.random() > 0.5
                              ? 1
                              : -1
                            : 0,
                        sessions: 2,
                        volumeStatus: r,
                        soreness: c,
                        jointAche: l,
                        perfChange: u,
                        lastLoad: Math.round(10 * d) / 10,
                        pump: Math.min(3, Math.floor(3 * Math.random()) + 1),
                        disruption: Math.min(
                          3,
                          Math.floor(3 * Math.random()) + 1,
                        ),
                      });
                  }),
                  n
                );
              }
            },
            {
              "../core/trainingState.js": "e7afj",
              "@parcel/transformer-js/src/esmodule-helpers.js": "k3151",
            },
          ],
          zNaOk: [
            function (e, t, a, n) {
              var r = e("@parcel/transformer-js/src/esmodule-helpers.js");
              function o(e, t = "hypertrophy") {
                let a = parseFloat(e);
                if (isNaN(a) || a <= 0)
                  return {
                    isValid: !1,
                    warning: "Load must be a positive number",
                    recommendation: "Enter a valid load percentage",
                  };
                let n = {
                    hypertrophy: { min: 30, max: 85, optimal: [65, 80] },
                    strength: { min: 70, max: 100, optimal: [85, 95] },
                    power: { min: 30, max: 70, optimal: [40, 60] },
                    endurance: { min: 20, max: 60, optimal: [30, 50] },
                  },
                  r = n[t] || n.hypertrophy,
                  s = !0,
                  i = "",
                  l = "",
                  u = "normal";
                return (
                  a < r.min
                    ? ((s = !1),
                      (i = `Load too light for ${t} (${a}% < ${r.min}%)`),
                      (l = `Increase to ${r.optimal[0]}-${r.optimal[1]}% for optimal ${t} adaptations`),
                      (u = "high"))
                    : a > r.max
                      ? ((s = !1),
                        (i = `Load too heavy for ${t} (${a}% > ${r.max}%)`),
                        (l = `Reduce to ${r.optimal[0]}-${r.optimal[1]}% for safer ${t} training`),
                        (u = "high"))
                      : a < r.optimal[0]
                        ? ((i = `Load is light for ${t} (${a}% < ${r.optimal[0]}%)`),
                          (l = `Consider increasing to ${r.optimal[0]}-${r.optimal[1]}% for better stimulus`),
                          (u = "medium"))
                        : a > r.optimal[1]
                          ? ((i = `Load is heavy for ${t} (${a}% > ${r.optimal[1]}%)`),
                            (l = `Consider reducing to ${r.optimal[0]}-${r.optimal[1]}% for better recovery`),
                            (u = "medium"))
                          : (l = `Good load for ${t} training`),
                  {
                    isValid: s,
                    load: a,
                    context: t,
                    warning: i,
                    recommendation: l,
                    severity: u,
                    range: r,
                    isOptimal: a >= r.optimal[0] && a <= r.optimal[1],
                  }
                );
              }
              function s(e, t, a = !1) {
                let n = parseInt(e, 10);
                if (isNaN(n) || n < 0)
                  return {
                    isValid: !1,
                    warning: "Set count must be 0 or greater",
                    recommendation: "Enter a valid number of sets",
                  };
                let { MV: r = 0, MEV: o, MAV: i, MRV: l } = t,
                  u = !0,
                  d = "",
                  c = "",
                  m = "normal",
                  h = "";
                return (
                  n < r
                    ? ((h = "below-maintenance"),
                      (d = `Below maintenance volume (${n} < ${r})`),
                      (c = "Increase sets for minimal stimulus"),
                      (m = "high"))
                    : n < o
                      ? ((h = "maintenance"),
                        (d = `In maintenance zone (${n} < ${o})`),
                        (c = "Increase sets for growth stimulus"),
                        (m = "medium"))
                      : n <= i
                        ? ((h = "optimal"),
                          (c = `Optimal volume zone (${o}-${i} sets)`))
                        : n <= l
                          ? ((h = "high"),
                            (d = `High volume zone (${n} approaching ${l})`),
                            (c = "Monitor recovery closely"),
                            (m = "medium"))
                          : ((h = "maximum"),
                            a
                              ? ((d = `Overreaching territory (${n} > ${l})`),
                                (c = "Short-term only - deload soon"))
                              : ((u = !1),
                                (d = `Above maximum recoverable volume (${n} > ${l})`),
                                (c = "Reduce sets or plan deload")),
                            (m = "high")),
                  {
                    isValid: u,
                    sets: n,
                    landmarks: t,
                    zone: h,
                    warning: d,
                    recommendation: c,
                    severity: m,
                    percentage: Math.round((n / l) * 100),
                  }
                );
              }
              function i(e, t = "hypertrophy") {
                let a = parseInt(e, 10);
                if (isNaN(a) || a < 1)
                  return {
                    isValid: !1,
                    warning: "Mesocycle must be at least 1 week",
                    recommendation: "Enter a valid mesocycle length",
                  };
                let n = {
                    hypertrophy: { min: 3, max: 6, optimal: 4 },
                    strength: { min: 2, max: 8, optimal: 4 },
                    power: { min: 2, max: 4, optimal: 3 },
                    endurance: { min: 4, max: 12, optimal: 6 },
                  },
                  r = n[t] || n.hypertrophy,
                  o = "",
                  s = "",
                  l = "normal";
                return (
                  a < r.min
                    ? ((o = `Short mesocycle for ${t} (${a} < ${r.min} weeks)`),
                      (s = `Consider ${r.optimal} weeks for better ${t} adaptations`),
                      (l = "medium"))
                    : a > r.max
                      ? ((o = `Long mesocycle for ${t} (${a} > ${r.max} weeks)`),
                        (s = `Consider ${r.optimal} weeks to prevent overreaching`),
                        (l = "medium"))
                      : (s =
                          a === r.optimal
                            ? `Optimal length for ${t} training`
                            : `Good length for ${t} training`),
                  {
                    isValid: !0,
                    weeks: a,
                    goal: t,
                    warning: o,
                    recommendation: s,
                    severity: l,
                    isOptimal: a === r.optimal,
                    range: r,
                  }
                );
              }
              r.defineInteropFlag(a),
                r.export(a, "validateLoad", () => o),
                r.export(a, "validateSets", () => s),
                r.export(a, "validateMesocycleLength", () => i);
            },
            { "@parcel/transformer-js/src/esmodule-helpers.js": "k3151" },
          ],
        },
        ["9ATGT"],
        "9ATGT",
        "parcelRequire66c8",
        {},
        "./",
        0,
      );
    </script>

    <div id="authModal" class="hidden modal">
      <div class="modal-content">
        <h2>Login / Sign-up</h2>
        <form id="authForm" onsubmit="event.preventDefault(); handleSignIn();">
          <input
            id="authEmail"
            type="email"
            placeholder="Email"
            autocomplete="email"
          />
          <input
            id="authPass"
            type="password"
            placeholder="Password"
            autocomplete="current-password"
          />
          <button id="btnLogin">LOGIN</button>
          <button type="button" id="btnSignUp" onclick="handleSignUp()">
            SIGN UP
          </button>
        </form>
      </div>
    </div>
    <style>
      #authModal {
        z-index: 10000;
        background: #000a;
        justify-content: center;
        align-items: center;
        display: flex;
        position: fixed;
        inset: 0;
      }
      #authModal.hidden {
        display: none;
      }
      .modal-content {
        background: #222;
        border-radius: 8px;
        width: 300px;
        padding: 2rem;
      }
      #authForm {
        flex-direction: column;
        gap: 10px;
        display: flex;
      }
      #authForm input,
      #authForm button {
        margin-bottom: 10px;
      }
      .modal-content input,
      .modal-content button {
        width: 100%;
        margin: 6px 0;
        padding: 8px;
      }
    </style>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("authModal").classList.remove("hidden");
      });
    </script>

    <script>
      !(function () {
        function e() {
          if (window.parent && window.parent !== window)
            try {
              let e = document.documentElement.getBoundingClientRect().height;
              window.parent.postMessage({ phxHeight: e }, "*");
            } catch (e) {
              console.debug("Frame messaging error:", e.message);
            }
        }
        window.addEventListener("load", e), setInterval(e, 500);
      })();
    </script>

    <script>
      function hideGuide() {
        document.getElementById("quickStartGuide").style.display = "none";
      }
    </script>

    <script type="module" src="ProgramDesignWorkspace.7bf5fad5.js"></script>
  </body>
</html>
