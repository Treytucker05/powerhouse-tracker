import{c as g,r as a,s as w}from"./persistCycle-BAAp1NU7.js";import{i as R}from"./index-Dz8bHEFc.js";const i="fiveThreeOne_history_v1";function u(){try{return g(i)||[]}catch{return[]}}function M(){try{a(i)}catch{}}function y(e){const t=u();t.push(e);try{w(i,t)}catch{}return t}function b(e,t){const o=Number(e||0),n=Number(t||0);return o<=0||n<=0?0:+(o*n*.0333+o).toFixed(1)}function f(e){return((e==null?void 0:e.liftLabel)||(e==null?void 0:e.lift)||"").toString().trim()||"Unknown"}function h(e){const t=(e==null?void 0:e.mainSets)||[];if(!t.length)return null;const n=t.find(l=>l.amrap)||t[t.length-1],r=Number((n==null?void 0:n.loggedReps)??0),c=Number((n==null?void 0:n.weight)??0);if(!r||!c)return null;const s=+R(c,r).toFixed(1);return{weight:c,reps:r,e1RM:s}}function d(e=u()){const t={};for(const o of e){const n=f(o),r=h(o),c=(r==null?void 0:r.e1RM)??Number((o==null?void 0:o.e1RM)??0);c&&(!t[n]||c>t[n].e1RM)&&(t[n]={e1RM:c,when:o.when,day:o.day,weight:(r==null?void 0:r.weight)??null,reps:(r==null?void 0:r.reps)??null})}return t}function F(e=u()){const t={};for(const o of e){const n=f(o),r=h(o);if(!r)continue;const c=Math.round(r.weight);t[n]||(t[n]={});const s=t[n][c];(!s||r.reps>s.reps)&&(t[n][c]={reps:r.reps,when:o.when,e1RM:r.e1RM})}return t}export{h as a,y as b,d as c,F as d,b as e,M as f,u as g,f as l};
//# sourceMappingURL=pr-CoDTDLSf.js.map
