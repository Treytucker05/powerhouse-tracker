import{r as d,j as e,aa as P,z as R,ab as E,T,l as M}from"./ui-vendor-BLoy3R85.js";import{D as p,w as O,x as z,z as v,S as y,B as D,F as W,G as _,H as w,I as F}from"./index-Dz8bHEFc.js";import"./react-vendor-DoC2WAmd.js";import"./data-vendor-CWegSrCC.js";import"./chart-vendor-DbvXzfx8.js";import"./router-vendor-CDc5MEim.js";const h="ph_531_wizard_v1";function B(){try{const r=localStorage.getItem(h);return r?JSON.parse(r):null}catch{return null}}function V(r){try{localStorage.setItem(h,JSON.stringify(r))}catch{}}function G(){try{localStorage.removeItem(h)}catch{}}function S(r,l){if(l===null||typeof l!="object")return l;const n=Array.isArray(r)?[...r]:{...r};for(const i of Object.keys(l)){const t=r&&typeof r=="object"?r[i]:void 0,s=l[i];n[i]=t&&typeof t=="object"&&!Array.isArray(t)&&s&&typeof s=="object"&&!Array.isArray(s)?S(t,s):s}return n}function m(r){return r&&typeof r=="object"&&!Array.isArray(r)}function f(r,l){const n=m(r)?r:{},i=Array.isArray(n)?[...n]:{...n};for(const t of Object.keys(l||{})){const s=l[t],o=i[t];o==null?i[t]=m(s)?f({},s):s:m(o)&&m(s)&&(i[t]=f(o,s))}return i}function Q(){const[r,l]=d.useState(()=>B()??p),n=d.useMemo(()=>O(r),[r]),i=d.useMemo(()=>z(r),[r]),[t,s]=d.useState(()=>v(r)||y.PROGRAM_FUNDAMENTALS);d.useEffect(()=>{V(r)},[r]),d.useEffect(()=>{n.find(x=>x.id===t)||s(v(r)||y.PROGRAM_FUNDAMENTALS)},[n,t,r]);const o=D(t),j=o==null?void 0:o.component,A=a=>{l(x=>S(x,a))},c=W(t,r),u=_(t,r),b=c?w(c,r):!1;d.useMemo(()=>F(r),[r]);const N=()=>s(y.REVIEW_EXPORT),k=a=>{switch(a){case"complete":return e.jsx(M,{className:"w-4 h-4 text-green-500"});case"error":return e.jsx(T,{className:"w-4 h-4 text-yellow-500"});case"incomplete":default:return e.jsx(E,{className:"w-4 h-4 text-gray-500"})}};return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100",children:[e.jsx("div",{className:"border-b border-gray-800 bg-gray-950/70 sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"5/3/1 Program Builder"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Seven steps from inputs → full program preview/export."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:N,className:"px-3 py-1 rounded border border-gray-700 hover:border-green-500",title:"Jump to Program Preview",children:"Preview"}),e.jsx("button",{onClick:()=>l(p),className:"px-3 py-1 rounded border border-gray-700 hover:border-yellow-500",title:"Reset to defaults",children:"Reset"}),e.jsx("button",{onClick:()=>G(),className:"px-3 py-1 rounded border border-gray-700 hover:border-red-500",title:"Clear saved draft",children:"Clear Draft"})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("aside",{className:"lg:col-span-3",children:e.jsx("nav",{className:"bg-gray-800/50 border border-gray-800 rounded-lg p-3",children:e.jsx("ol",{className:"space-y-1",children:n.map((a,x)=>{const C=a.id===t,I=i[a.id]||"incomplete",g=w(a.id,r);return e.jsx("li",{children:e.jsxs("button",{onClick:()=>g&&s(a.id),disabled:!g,className:`w-full text-left px-3 py-2 rounded transition ${C?"bg-gray-700 border border-red-500 text-white":g?"hover:bg-gray-800 border border-transparent":"opacity-50 cursor-not-allowed border border-transparent"}`,children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:a.group||"Step"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium",children:[x+1,". ",a.title]}),k(I)]}),e.jsx("div",{className:"text-gray-400 text-xs",children:a.description})]})},a.id)})})})}),e.jsxs("main",{className:"lg:col-span-9 space-y-4",children:[e.jsxs("div",{className:"bg-gray-800/50 border border-gray-800 rounded-lg p-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:o==null?void 0:o.title}),e.jsx("p",{className:"text-gray-400 mb-4",children:o==null?void 0:o.description}),e.jsxs("div",{className:"mb-4 bg-gray-900/50 border border-gray-700 rounded p-3 flex flex-wrap items-center justify-between gap-2",children:[e.jsx("div",{className:"text-sm text-gray-300",children:"Quick setup: apply Wendler‑recommended defaults (TM% 90, rounding 5 lb/2.5 kg, 4‑day split, Option 1, +5/+10)."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>{l(a=>f(a||{},p))},className:"inline-flex items-center gap-2 px-3 py-1 border border-blue-500 rounded hover:bg-blue-600/10",title:"Fill in missing fields with sensible defaults",children:[e.jsx(P,{className:"w-4 h-4"}),"Apply Defaults (Safe)"]}),e.jsxs("button",{onClick:()=>{window.confirm("Reset the entire wizard to defaults? This will clear current entries.")&&l(p)},className:"inline-flex items-center gap-2 px-3 py-1 border border-red-500 rounded hover:bg-red-600/10",title:"WARNING: Clears the current config",children:[e.jsx(R,{className:"w-4 h-4"}),"Reset All"]})]})]}),e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"text-gray-400",children:"Loading step…"}),children:j?e.jsx(j,{data:r,updateData:A}):e.jsx("div",{children:"Step not found."})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{disabled:!u,onClick:()=>s(u),className:`px-4 py-2 rounded border ${u?"border-gray-700 hover:border-gray-500":"border-gray-800 text-gray-600 cursor-not-allowed"}`,children:"← Back"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:N,className:"px-4 py-2 rounded border border-gray-700 hover:border-green-500",title:"Jump to Program Preview",children:"Preview"}),e.jsx("button",{disabled:!c||!b,onClick:()=>s(c),className:`px-4 py-2 rounded border ${c&&b?"border-red-500 hover:bg-red-600/10":"border-gray-800 text-gray-600 cursor-not-allowed"}`,title:b?"":"Complete current step to proceed",children:"Next →"})]})]})]})]})]})}export{Q as default};
//# sourceMappingURL=ProgramWizard531-DW5E4ALY.js.map
