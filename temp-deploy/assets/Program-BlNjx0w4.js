import{r as k,j as e,I as _e,l as ge,h as Rr,e as Mr,k as Fs,v as es,w as go,x as fo,T as ke,c as Ds,i as De,S as Et,Z as Be,y as _t,z as ii,E as yo,F as Tr,n as Je,G as bo,o as ni,m as vo,D as jo,J as No,K as wo,N as So,B as ko,W as Co,A as qt,O as Po,Q as Wi,V as Ro,Y as Ar,_ as Mo,$ as Gi,a0 as To,p as Ao,R as Eo}from"./ui-vendor-BLoy3R85.js";import{L as Lt,u as _o,e as qo}from"./router-vendor-CDc5MEim.js";import{h as is,r as ri,t as Bs,p as Is,i as Lo,d as $i,l as Oo,y as $s,j as Fo,k as ai,m as rs,M as Do}from"./index-Dz8bHEFc.js";import{_ as Bo}from"./chart-vendor-DbvXzfx8.js";import Ui from"./Step3ScheduleWarmup-Cy86rXR8.js";import"./react-vendor-DoC2WAmd.js";import"./data-vendor-CWegSrCC.js";import"./StepStatusPill-BCaGj-cD.js";let nt=class{constructor(){this.percentageSchemes={option1:{week1:{sets:[5,5,5],percentages:[65,75,85],amrap:!0},week2:{sets:[3,3,3],percentages:[70,80,90],amrap:!0},week3:{sets:[5,3,1],percentages:[75,85,95],amrap:!0},week4:{sets:[5,5,5],percentages:[40,50,60],amrap:!1}},option2:{week1:{sets:[5,5,5],percentages:[75,80,85],amrap:!0},week2:{sets:[3,3,3],percentages:[80,85,90],amrap:!0},week3:{sets:[5,3,1],percentages:[75,85,95],amrap:!0},week4:{sets:[5,5,5],percentages:[40,50,60],amrap:!1}}},this.assistanceTemplates={bbb:{name:"Boring But Big",description:"Same lift 5x10 after main work",loads:{beginner:30,intermediate:40,advanced:50}},triumvirate:{name:"Triumvirate",description:"3 exercises total per day"},jackshit:{name:"I'm Not Doing Jack Shit",description:"Main lift only"},periodization_bible:{name:"Periodization Bible",description:"3 categories x 5x10-20 each"},bodyweight:{name:"Bodyweight Template",description:"≥75 reps per exercise",targetReps:75}},this.scheduleTemplates={four_day:{name:"4 Days/Week (Standard)",description:"One main lift per day",pattern:["press","deadlift","bench","squat"],deload:!0},three_day:{name:"3 Days/Week (Rolling)",description:"6-week rolling cycle",pattern:"rolling",deload:"week_5"},two_day:{name:"2 Days/Week",description:"Paired lifts",pattern:[["squat","bench"],["deadlift","press"]],deload:!1}}}calculateEst1RM(t,i){return i===1?t:Math.round(t*(1+i/30))}calculateTrainingMax(t,i=5){const n=t*.9;return Math.round(n/i)*i}calculateAllTrainingMaxes(t,i=5){const n={};for(const[r,l]of Object.entries(t))l&&(n[r]=this.calculateTrainingMax(l,i));return n}generateMainWork(t,i,n,r="option1",l=5){const a=this.percentageSchemes[r][`week${n}`],c=[];for(let o=0;o<a.sets.length;o++){const h=a.percentages[o],m=Math.round(i*(h/100)/l)*l,u=o===a.sets.length-1;c.push({sets:1,reps:a.sets[o],weight:m,percentage:h,amrap:a.amrap&&u,notes:a.amrap&&u?`${a.sets[o]}+ reps (AMRAP)`:`${a.sets[o]} reps`})}return c}generateAssistanceWork(t,i,n,r="intermediate"){const l=this.assistanceTemplates[n];if(!l||n==="jackshit")return[];if(n==="bbb"){const a=l.loads[r],c=Math.round(i*(a/100)/5)*5;return[{exercise:t,sets:5,reps:10,load:c,notes:`${a}% of Training Max`}]}return[]}generateCycle(t,i={}){const{schedule:n="four_day",percentageOption:r="option1",assistanceTemplate:l="bbb",assistanceLevel:a="intermediate",roundTo:c=5,includeWarmup:o=!0}=i,h=this.scheduleTemplates[n],m=[];for(let u=1;u<=4;u++){const b={week:u,name:u===4?"Deload Week":`Week ${u}`,description:u===4?"Recovery and form focus":this.getWeekDescription(u,r),days:[]};n==="four_day"&&h.pattern.forEach((C,A)=>{if(t[C]){const q=this.generateMainWork(C,t[C],u,r,c),g=this.generateAssistanceWork(C,t[C],l,a);b.days.push({day:A+1,focus:C,mainWork:q,assistanceWork:g})}}),m.push(b)}return{program:"5/3/1",schedule:h.name,percentageOption:r,assistanceTemplate:this.assistanceTemplates[l].name,weeks:m,progressionNotes:this.getProgressionNotes()}}getWeekDescription(t,i){const n=this.percentageSchemes[i][`week${t}`],r=n.percentages.join("%, ")+"%";return`${n.sets.join(", ")} reps at ${r} + AMRAP final set`}getProgressionNotes(){return["Add 5 lbs to upper body TM after successful cycle","Add 10 lbs to lower body TM after successful cycle","Successful cycle = getting required reps on all AMRAP sets","If you miss reps, repeat cycle with same weights","Deload week is mandatory - do not skip","Track all AMRAP sets for progression decisions"]}validateMaxes(t){const i=[];return["squat","bench","deadlift","press"].forEach(r=>{(!t[r]||t[r]<=0)&&i.push(`${r.replace("_"," ")} max is required`)}),i}};function Yi({data:s,updateData:t}){const{roundingIncrement:i}=is(),[n,r]=k.useState(s.testingMethod||"estimate"),[l,a]=k.useState(s.oneRMs||{squat:"",bench:"",deadlift:"",overhead_press:""}),[c,o]=k.useState(s.repTests||{squat:{weight:"",reps:""},bench:{weight:"",reps:""},deadlift:{weight:"",reps:""},overhead_press:{weight:"",reps:""}}),[h,m]=k.useState(s.trainingMaxes||{}),u={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",overhead_press:"Overhead Press"},b=(d,x)=>{if(!d||!x||x<1)return 0;const f=parseFloat(d),M=parseInt(x);return M===1?f:Math.round(f*M*.0333+f)},C=d=>d?ri(d*.9,i):0,A=(d,x)=>{const f={...l,[d]:x};a(f);const M={};Object.keys(f).forEach(v=>{f[v]&&(M[v]=C(parseFloat(f[v])))}),m(M),t({testingMethod:n,oneRMs:f,repTests:c,trainingMaxes:M})},q=(d,x,f)=>{const M={...c,[d]:{...c[d],[x]:f}};o(M);const v={...l},j={};Object.keys(M).forEach(P=>{const w=M[P];if(w.weight&&w.reps){const T=b(w.weight,w.reps);v[P]=T.toString(),j[P]=C(T)}}),a(v),m(j),t({testingMethod:n,oneRMs:v,repTests:M,trainingMaxes:j})},g=()=>Object.values(h).every(d=>d>0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 1: Establish One-Rep Maxes and Training Max"}),e.jsx("p",{className:"text-gray-400",children:"Determine your current 1RM for each lift and calculate Training Max (90% of 1RM)."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"5/3/1 Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Start too light:"})," Training Max = 90% of 1RM"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Leave your ego at the door:"})," Conservative TMs enable long-term progress"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"You should get 5+ reps"})," with your Training Max"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Testing Method"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{onClick:()=>r("known"),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n==="known"?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400 mr-2"}),e.jsx("span",{className:"text-white font-medium",children:"Known 1RM"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"I know my current 1RM for each lift"})]}),e.jsxs("div",{onClick:()=>r("estimate"),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n==="estimate"?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Rr,{className:"w-5 h-5 text-blue-400 mr-2"}),e.jsx("span",{className:"text-white font-medium",children:"Estimate from Rep Test"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Calculate 1RM using Wendler's formula"})]})]})]}),n==="known"&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Enter Your Current 1RMs"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(u).map(([d,x])=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300",children:[x," 1RM (lbs)"]}),e.jsx("input",{type:"number",value:l[d],onChange:f=>A(d,f.target.value),placeholder:"e.g., 315",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:border-red-500 focus:ring-red-500"})]},d))})]}),n==="estimate"&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Rep Test Calculator"}),e.jsx("div",{className:"mb-4 p-3 bg-blue-900/20 border border-blue-600 rounded-lg",children:e.jsxs("p",{className:"text-blue-200 text-sm",children:[e.jsx("strong",{children:"Wendler's Formula:"})," Estimated 1RM = Weight × Reps × 0.0333 + Weight"]})}),e.jsx("div",{className:"space-y-6",children:Object.entries(u).map(([d,x])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-white font-medium mb-3",children:x}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Weight (lbs)"}),e.jsx("input",{type:"number",value:c[d].weight,onChange:f=>q(d,"weight",f.target.value),placeholder:"e.g., 275",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:border-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Reps"}),e.jsx("input",{type:"number",value:c[d].reps,onChange:f=>q(d,"reps",f.target.value),placeholder:"e.g., 5",min:"1",max:"20",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:border-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Estimated 1RM"}),e.jsx("div",{className:"px-3 py-2 bg-gray-600 rounded-md text-white font-medium",children:c[d].weight&&c[d].reps?`${b(c[d].weight,c[d].reps)} lbs`:"---"})]})]})]},d))})]}),Object.keys(h).length>0&&e.jsxs("div",{className:"bg-green-900/20 border border-green-600 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Your Training Maxes (90% of 1RM)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(h).map(([d,x])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-green-400 font-medium",children:u[d]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[x," lbs"]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Training Max"})]},d))}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-600 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Mr,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("strong",{children:"Validation:"})," You should be able to perform 5+ reps with your Training Max. If not, reduce the TM until you can get at least 5 strong reps."]})]})})]}),g()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Step 1 Complete! Training Maxes calculated for all lifts."})]})})]})}const Io=nt??nt,Ki=({programData:s,setProgramData:t,data:i,updateData:n})=>{var b,C,A,q,g,d;const r=new Io,l=s??i??{},a=(l==null?void 0:l.schedule)??{},c=x=>{switch(x){case"4day":return"four_day";case"3day":return"three_day";case"2day":return"two_day";case"1day":return"one_day";default:return}},o=x=>{switch(x){case"four_day":return"4day";case"three_day":return"3day";case"two_day":return"2day";case"one_day":return"1day";default:return"4day"}},h=c(a.frequency)??l.schedule,m=x=>{const f=o(x);if(typeof n=="function")n({schedule:{...a,frequency:f}});else if(typeof t=="function")try{t(M=>({...M,schedule:{...(M==null?void 0:M.schedule)??{},frequency:f}}))}catch{t({...l,schedule:{...a,frequency:f}})}},u=[{key:"four_day",icon:"4️⃣",title:"4 Days Per Week",subtitle:"Standard 5/3/1 Schedule",description:"One main lift per day with full assistance work",timeCommitment:"60-90 minutes per session",pattern:"Day 1: OHP • Day 2: Deadlift • Day 3: Bench • Day 4: Squat",pros:["Original 5/3/1 schedule","Optimal for strength gains","Full recovery between lifts","Complete assistance work"],cons:["Requires 4 gym days","Longer total weekly time"],recommended:"Best for strength goals and those with time"},{key:"three_day",icon:"3️⃣",title:"3 Days Per Week",subtitle:"Rolling 6-Week Cycle",description:"Rolling pattern over 6 weeks instead of 4",timeCommitment:"75-105 minutes per session",pattern:"Week 1: OHP, DL, Bench • Week 2: Squat, OHP, DL • etc.",pros:["Only 3 gym days needed","Good for busy schedules","Still hits all lifts regularly"],cons:["More complex planning","Longer cycles","Less frequent lift practice"],recommended:"Good for busy schedules with consistency"},{key:"two_day",icon:"2️⃣",title:"2 Days Per Week",subtitle:"Paired Lifts",description:"Two lifts per session, minimal assistance",timeCommitment:"90-120 minutes per session",pattern:"Day 1: Squat + Bench • Day 2: Deadlift + OHP",pros:["Minimal time commitment","Good for maintenance","Efficient sessions"],cons:["Longer sessions","Limited assistance work","Slower progression"],recommended:"For maintenance phases or very busy periods"},{key:"one_day",icon:"1️⃣",title:"1 Day Per Week",subtitle:"Temporary/Emergency",description:"Alternating lift pairs, bare minimum",timeCommitment:"60-90 minutes per session",pattern:"Week 1: Squat + Bench • Week 2: Deadlift + OHP",pros:["Better than nothing","Maintains some strength","Very low time commitment"],cons:["Very slow progression","Minimal volume","Not sustainable long-term"],recommended:"Emergency use only - travel, illness, etc."}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Choose Your Training Schedule"}),e.jsx("p",{className:"text-gray-300",children:"Select the schedule that fits your availability and goals"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map(x=>e.jsxs("div",{onClick:()=>m(x.key),className:`
                            bg-gray-800 rounded-lg p-6 border-2 cursor-pointer transition-all duration-200 hover:scale-[1.02]
                            ${h===x.key?"border-red-500 bg-red-900/20":"border-gray-700 hover:border-gray-600"}
                        `,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:x.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:x.title}),e.jsx("p",{className:"text-sm text-gray-400",children:x.subtitle})]})]}),h===x.key&&e.jsx(ge,{className:"w-6 h-6 text-red-500"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:x.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Fs,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-blue-300 text-sm font-medium",children:x.timeCommitment})]}),e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(es,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-yellow-300 text-sm font-medium",children:"Pattern"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:x.pattern})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"text-green-400 text-sm font-medium mb-2",children:"Pros"}),e.jsx("ul",{className:"space-y-1",children:x.pros.map((f,M)=>e.jsxs("li",{className:"text-green-300 text-xs flex items-start gap-1",children:[e.jsx("span",{className:"text-green-400 mt-0.5",children:"•"}),f]},M))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"text-red-400 text-sm font-medium mb-2",children:"Cons"}),e.jsx("ul",{className:"space-y-1",children:x.cons.map((f,M)=>e.jsxs("li",{className:"text-red-300 text-xs flex items-start gap-1",children:[e.jsx("span",{className:"text-red-400 mt-0.5",children:"•"}),f]},M))})]})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Best for:"})," ",x.recommended]})})]},x.key))}),h&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4",children:["Selected Schedule: ",((C=(b=r==null?void 0:r.scheduleTemplates)==null?void 0:b[h])==null?void 0:C.name)??"Custom"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:(A=u.find(x=>x.key===h))==null?void 0:A.icon}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Schedule Type"}),e.jsx("p",{className:"text-white font-medium",children:((g=(q=r==null?void 0:r.scheduleTemplates)==null?void 0:q[h])==null?void 0:g.name)??"Custom"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"⏱️"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Time Per Session"}),e.jsx("p",{className:"text-white font-medium",children:(d=u.find(x=>x.key===h))==null?void 0:d.timeCommitment})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"📅"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Weekly Commitment"}),e.jsx("p",{className:"text-white font-medium",children:String(h).replace("_"," ").replace("day"," days")})]})]})]}),e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:[e.jsx("h5",{className:"text-yellow-400 font-medium mb-2",children:"📋 Schedule Guidelines"}),e.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Choose based on your realistic availability, not ideal goals"}),e.jsx("li",{children:"• 4-day schedule is optimal for strength gains and muscle building"}),e.jsx("li",{children:"• Lower frequency schedules work for maintenance or busy periods"}),e.jsx("li",{children:"• Consistency matters more than perfect schedule choice"}),e.jsx("li",{children:"• You can change schedules between cycles if needed"})]})]})]})};function Qi({data:s,updateData:t}){const[i,n]=k.useState(s.coreLifts||{squat:"back_squat",bench:"bench_press",deadlift:"conventional_deadlift",overhead_press:"military_press"}),[r,l]=k.useState(s.customLifts||{}),[a,c]=k.useState(s.trainingFrequency||""),[o,h]=k.useState(s.schedulePattern||""),[m,u]=k.useState({barbell:!1,plates:!1,bench:!1,squat_rack:!1,dumbbells:!1,cables:!1,machines:!1,kettlebells:!1,bands:!1,suspension:!1,pullup_bar:!1,dip_station:!1,rings:!1,...s.equipmentAccess||{}}),[b,C]=k.useState(s.equipmentProfile||""),[A,q]=k.useState(s.injuryLimitations||{back:!1,shoulders:!1,knees:!1,other:""}),g={squat:{name:"Squat Movement",options:{back_squat:"Back Squat (Default)",front_squat:"Front Squat",custom:"Custom Squat Variation"}},bench:{name:"Bench Movement",options:{bench_press:"Bench Press (Default - No alternatives recommended)",custom:"Custom Bench Variation"}},deadlift:{name:"Deadlift Movement",options:{conventional_deadlift:"Conventional Deadlift (Default)",trap_bar_deadlift:"Trap Bar Deadlift",custom:"Custom Deadlift Variation"}},overhead_press:{name:"Overhead Press Movement",options:{military_press:"Standing Military Press (Default)",push_press:"Push Press",jerk:"Jerk",custom:"Custom Press Variation"}}},d={"4_day":{name:"4-Day Week (Recommended)",description:"One core lift per day",scheduleOptions:["Mon/Tue/Thu/Fri","Sun/Mon/Wed/Fri"],cycle:"Standard 4-week cycle (3 work weeks + 1 deload)",bestFor:"Most lifters with time for 4 sessions/week",timeCommitment:"45-90 minutes per session"},"3_day":{name:"3-Day Week (Rolling)",description:"3 workouts per week, rotating through lifts",scheduleOptions:["Mon/Wed/Fri","Tue/Thu/Sat"],cycle:"Rotate four lifts over 5 weeks, deload week 5",bestFor:"Better recovery, more rest days",timeCommitment:"60-90 minutes per session"},"2_day":{name:"2-Day Week",description:"Two lifts per session or alternating weeks",scheduleOptions:["Variant A: Two lifts per session (SQ+BP, DL+OHP)","Variant B: Alternating weeks (Week1: SQ/BP, Week2: DL/OHP)"],cycle:"Usually skip deload unless needed",bestFor:"Very busy schedules, in-season athletes",timeCommitment:"60-120 minutes per session",warning:!0},"1_day":{name:"1-Day Week (Emergency Only)",description:"Extreme time constraints only",scheduleOptions:["Week1: SQ+BP, Week2: DL+OHP"],cycle:"Skip deload unless needed",bestFor:"Extreme time constraints only",timeCommitment:"90+ minutes per session",warning:!0}},x=(y,N)=>{const O={...i,[y]:N};n(O),T({coreLifts:O})},f=(y,N)=>{const O={...r,[y]:N};l(O),T({customLifts:O})},M=y=>{c(y),h(""),T({trainingFrequency:y,schedulePattern:""})},v=y=>{h(y),T({schedulePattern:y})},j=(y,N)=>{const O={...m,[y]:N};u(O),T({equipmentAccess:O})},P=y=>{let N={};switch(y){case"full":N=Object.keys(m).reduce((O,L)=>({...O,[L]:!0}),{});break;case"home_basic":N={...m,barbell:!0,plates:!0,bench:!0,squat_rack:!0,dumbbells:!0,bands:!0};break;case"minimal":N={...m,barbell:!0,plates:!0,pullup_bar:!0};break;case"bodyweight":N={...m,pullup_bar:!0,dip_station:!0,rings:!0},Object.keys(N).forEach(O=>{["pullup_bar","dip_station","rings"].includes(O)||(N[O]=!1)});break;default:return}u(N),C(y),T({equipmentAccess:N,equipmentProfile:y})},w=(y,N)=>{const O={...A,[y]:N};q(O),T({injuryLimitations:O})},T=y=>{t({coreLifts:i,customLifts:r,trainingFrequency:a,schedulePattern:o,equipmentAccess:m,injuryLimitations:A,...y})},p=()=>m.barbell&&m.squat_rack&&m.bench&&m.plates,R=()=>{const y=[];return m.barbell||y.push("Barbell required for 5/3/1 system"),m.squat_rack||y.push("Squat rack/power rack needed for safe squatting"),m.bench||y.push("Bench required for bench press"),m.plates||y.push("Weight plates needed for progression"),y},_=()=>{const y=[];return A.back&&y.push("Consider modifications for deadlifts and squats"),A.shoulders&&y.push("May need to modify overhead press and bench press"),A.knees&&y.push("Consider squat depth limitations or alternatives"),A.other&&y.push("Consult with healthcare provider about modifications"),y},W=()=>{const y=Object.values(i).every(V=>V!==""),N=Object.entries(i).every(([V,Z])=>Z==="custom"?r[V]&&r[V].trim()!=="":!0);return y&&N&&a!==""&&o!==""};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 2: Choose Core Lifts and Weekly Training Frequency"}),e.jsx("p",{className:"text-gray-400",children:"Select your four core lifts and determine your weekly training schedule."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Core Lift Selection"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Four mandatory movements:"})," Squat, Bench, Deadlift, Overhead Press"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Stick to basics:"})," Wendler recommends minimal substitutions"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Master the movement:"})," Technical proficiency is key"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg space-y-6 border border-gray-600",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Equipment Access & Profiles"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Selected equipment determines available assistance exercises and variations. Expand availability responsibly—more options can add unnecessary decision fatigue."}),e.jsx("p",{className:"text-[11px] text-gray-400",children:"Toggle individual items or choose a profile below. Adjustments instantly update the sample assistance filter preview."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(go,{className:"w-4 h-4 text-gray-300"}),"Quick Profiles"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[{id:"full",title:"Full Gym",desc:"All equipment available"},{id:"home_basic",title:"Home Gym Basic",desc:"Barbell, rack, bench, DBs, bands"},{id:"minimal",title:"Minimal Setup",desc:"Barbell + bodyweight only"},{id:"bodyweight",title:"Bodyweight Only",desc:"Rings / bar / dips"}].map(y=>{const N=b===y.id;return e.jsxs("button",{onClick:()=>P(y.id),className:`text-left p-3 rounded border transition bg-gray-800/50 hover:bg-gray-800 ${N?"border-red-500 ring-2 ring-red-600":"border-gray-600"}`,children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:y.title}),e.jsx("div",{className:"text-[11px] text-gray-400 mt-1 leading-snug",children:y.desc}),N&&e.jsxs("div",{className:"mt-1 text-[10px] text-green-400 flex items-center gap-1",children:[e.jsx(ge,{className:"w-3 h-3"})," Active"]})]},y.id)})})]}),e.jsx("div",{className:"space-y-5",children:[{label:"Essential",note:"Core barbell work requirements",items:[["barbell","Barbell"],["plates","Plates"],["bench","Bench"],["squat_rack","Squat Rack"]]},{label:"Assistance",note:"Expands accessory & hypertrophy options",items:[["dumbbells","Dumbbells"],["cables","Cables"],["machines","Selectorized Machines"]]},{label:"Specialty",note:"Variation & conditioning tools",items:[["kettlebells","Kettlebells"],["bands","Bands"],["suspension","Suspension Trainer"]]},{label:"Bodyweight",note:"Calisthenics apparatus",items:[["pullup_bar","Pull-Up Bar"],["dip_station","Dip Station"],["rings","Rings"]]}].map(y=>e.jsxs("div",{className:"bg-gray-800/50 border border-gray-600 rounded p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium text-sm",children:y.label}),e.jsx("div",{className:"text-[11px] text-gray-400",children:y.note})]}),y.label==="Essential"&&!p()&&e.jsx("span",{className:"text-[10px] text-red-400",children:"Incomplete"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:y.items.map(([N,O])=>e.jsxs("label",{className:`flex items-center gap-2 px-2 py-1 rounded border text-xs cursor-pointer select-none ${m[N]?"bg-red-600/10 border-red-500 text-white":"bg-gray-900/40 border-gray-600 text-gray-300 hover:bg-gray-900/70"}`,children:[e.jsx("input",{type:"checkbox",className:"hidden",checked:!!m[N],onChange:L=>j(N,L.target.checked)}),e.jsx("span",{className:"w-2.5 h-2.5 rounded-full border ${equipmentAccess[key] ? 'border-red-400 bg-red-500' : 'border-gray-500'}"}),O]},N))})]},y.label))}),e.jsxs("div",{className:"bg-gray-800/70 border border-gray-600 rounded p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fo,{className:"w-4 h-4 text-gray-300"}),e.jsx("div",{className:"text-white font-medium text-sm",children:"Assistance Availability Preview"})]}),e.jsx("p",{className:"text-[11px] text-gray-400",children:"Demonstrates how equipment toggles unlock / restrict common assistance exercises."}),e.jsx(Vo,{equipmentAccess:m})]}),!p()&&e.jsx("div",{className:"p-3 bg-red-900/20 border border-red-600 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-red-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-red-300 font-medium mb-1",children:"Essential Equipment Warnings"}),e.jsx("ul",{className:"text-red-200 text-sm space-y-1",children:R().map((y,N)=>e.jsxs("li",{children:["• ",y]},N))})]})]})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Injury Limitations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{key:"back",name:"Lower Back Issues"},{key:"shoulders",name:"Shoulder Problems"},{key:"knees",name:"Knee Problems"}].map(({key:y,name:N})=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:y,checked:A[y],onChange:O=>w(y,O.target.checked),className:"w-4 h-4 text-yellow-500 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500"}),e.jsx("label",{htmlFor:y,className:"text-gray-300 text-sm",children:N})]},y))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"other_injury",className:"block text-sm font-medium text-gray-300 mb-1",children:"Other limitations or injuries"}),e.jsx("input",{type:"text",id:"other_injury",value:A.other,onChange:y=>w("other",y.target.value),placeholder:"Describe any other concerns...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:border-yellow-500"})]}),_().length>0&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-600 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-yellow-300 font-medium mb-1",children:"Modification Recommendations"}),e.jsx("ul",{className:"text-yellow-200 text-sm space-y-1",children:_().map((y,N)=>e.jsxs("li",{children:["• ",y]},N))})]})]})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Select Your Core Lifts"}),e.jsx("div",{className:"space-y-6",children:Object.entries(g).map(([y,N])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-white font-medium mb-3",children:N.name}),e.jsx("div",{className:"space-y-2",children:Object.entries(N.options).map(([O,L])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:`${y}_${O}`,name:y,value:O,checked:i[y]===O,onChange:V=>x(y,V.target.value),className:"w-4 h-4 text-red-500 bg-gray-700 border-gray-600 focus:ring-red-500"}),e.jsx("label",{htmlFor:`${y}_${O}`,className:"text-gray-300 text-sm",children:L})]},O))}),i[y]==="custom"&&e.jsx("div",{className:"mt-3",children:e.jsx("input",{type:"text",value:r[y]||"",onChange:O=>f(y,O.target.value),placeholder:`Enter custom ${N.name.toLowerCase()}...`,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:border-red-500"})})]},y))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Training Frequency"}),e.jsx("div",{className:"space-y-4",children:Object.entries(d).map(([y,N])=>e.jsx("div",{onClick:()=>M(y),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${a===y?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(es,{className:"w-5 h-5 text-blue-400 mr-2"}),e.jsx("span",{className:"text-white font-medium",children:N.name}),N.warning&&e.jsx(ke,{className:"w-4 h-4 text-yellow-400 ml-2"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:N.description}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Cycle:"})," ",N.cycle]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Best for:"})," ",N.bestFor]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fs,{className:"w-3 h-3 mr-1"}),N.timeCommitment]})]})]})})},y))})]}),a&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Schedule Pattern"}),e.jsx("div",{className:"space-y-2",children:d[a].scheduleOptions.map((y,N)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:`schedule_${N}`,name:"schedule",value:y,checked:o===y,onChange:O=>v(O.target.value),className:"w-4 h-4 text-red-500 bg-gray-700 border-gray-600 focus:ring-red-500"}),e.jsx("label",{htmlFor:`schedule_${N}`,className:"text-gray-300 text-sm",children:y})]},N))}),d[a].warning&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-600 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("strong",{children:"Warning:"})," This frequency is suboptimal for most lifters. Consider if you can manage more training days for better results."]})]})})]}),W()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Step 2 Complete! Core lifts and training frequency selected."})]})})]})}function Vo({equipmentAccess:s}){const i=[{name:"Chin Ups",need:["pullup_bar"],cat:"Pull"},{name:"Dips",need:["dip_station"],cat:"Push"},{name:"Ring Rows",need:["rings"],cat:"Pull"},{name:"DB Row",need:["dumbbells"],cat:"Pull"},{name:"DB Incline Press",need:["dumbbells","bench"],cat:"Push"},{name:"Face Pull",need:["cables"],cat:"Rear Delt"},{name:"Leg Extension",need:["machines"],cat:"Quad"},{name:"Hamstring Curl",need:["machines"],cat:"Posterior"},{name:"Kettlebell Swing",need:["kettlebells"],cat:"Posterior"},{name:"Band Pull-Apart",need:["bands"],cat:"Upper Back"},{name:"Suspension Fallouts",need:["suspension"],cat:"Core"}].map(n=>{const r=n.need.every(l=>s[l]);return{...n,available:r}});return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:i.map(n=>e.jsxs("div",{className:`text-[11px] px-2 py-1 rounded border flex items-center justify-between ${n.available?"border-green-600 bg-green-900/20 text-green-200":"border-gray-600 bg-gray-900/40 text-gray-400"}`,children:[e.jsx("span",{children:n.name}),e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] tracking-wide ${n.available?"bg-green-700/40 text-green-200":"bg-gray-700/40 text-gray-400"}`,children:n.available?"UNLOCKED":"LOCKED"})]},n.name))})}function Xi({data:s,updateData:t}){const{roundingIncrement:i}=is(),[n,r]=k.useState(s.loadingOption||1),[l,a]=k.useState(s.perLiftOptions||{squat:1,bench:1,deadlift:1,press:1}),[c,o]=k.useState(s.usePerLiftOptions||!1),[h,m]=k.useState(s.deadliftStyle||"dead_stop"),[u,b]=k.useState(s.cyclePreview||3),[C,A]=k.useState(s.trainingMaxes||{}),[q,g]=k.useState({}),d={1:{name:"Option 1 (Recommended)",description:"Standard progression for most lifters",weeks:{1:{sets:[{percent:65,reps:5},{percent:75,reps:5},{percent:85,reps:"5+"}]},2:{sets:[{percent:70,reps:3},{percent:80,reps:3},{percent:90,reps:"3+"}]},3:{sets:[{percent:75,reps:5},{percent:85,reps:3},{percent:95,reps:"1+"}]},4:{sets:[{percent:40,reps:5},{percent:50,reps:5},{percent:60,reps:5}]}},characteristics:"Moderate intensity, good for building base",bestFor:"Beginners to intermediate, establishing routine"},2:{name:"Option 2 (Higher Intensity)",description:"More aggressive progression",weeks:{1:{sets:[{percent:75,reps:5},{percent:80,reps:5},{percent:85,reps:"5+"}]},2:{sets:[{percent:80,reps:3},{percent:85,reps:3},{percent:90,reps:"3+"}]},3:{sets:[{percent:85,reps:5},{percent:90,reps:3},{percent:95,reps:"1+"}]},4:{sets:[{percent:40,reps:5},{percent:50,reps:5},{percent:60,reps:5}]}},characteristics:"Higher intensity, faster strength gains",bestFor:"Experienced lifters, competition prep"}},x={dead_stop:{name:"Dead Stop",description:"Full reset between reps",pros:["More technically demanding","Builds starting strength","Traditional powerlifting style"],cons:["More time between reps","Requires more setup"],technique:"Lower bar to floor, pause, reset grip/position, lift"},touch_and_go:{name:"Touch and Go",description:"Continuous reps with brief floor contact",pros:["Faster pace","Can be safer if tightness maintained","Good for volume"],cons:["Requires constant tension","Less starting strength focus"],technique:"Light touch to floor, maintain position, immediate lift"}},f={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",press:"Overhead Press"},M={"5+":{min:5,good:8,excellent:10,description:"Week 1 - Volume focus"},"3+":{min:3,good:5,excellent:6,description:"Week 2 - Intensity bridge"},"1+":{min:1,good:3,excellent:4,description:"Week 3 - Peak intensity"}},v=(N,O)=>!N||N===0?0:Bs(Is(N,O,i)),j=(N,O)=>{const L=d[O],V={};return Object.entries(L.weeks).forEach(([Z,pe])=>{V[Z]=pe.sets.map(je=>({...je,weight:v(N,je.percent)}))}),V},P=(N,O,L=3)=>{const V=[];let Z=N;const pe=O==="bench"||O==="press"?5:10;for(let je=1;je<=L;je++){je>1&&(Z+=pe);const Le=c?l[O]:n,H=j(Z,Le);V.push({cycle:je,tm:Z,weights:H,increment:je===1?0:pe})}return V};k.useEffect(()=>{if(Object.keys(C).length>0){const N={};Object.entries(C).forEach(([O,L])=>{N[O]=P(L,O,u)}),g(N)}},[C,n,l,c,u]),k.useEffect(()=>{s.trainingMaxes&&Object.keys(s.trainingMaxes).length>0&&A(s.trainingMaxes)},[s.trainingMaxes]);const w=N=>{if(r(N),!c){const O={};Object.keys(l).forEach(L=>{O[L]=N}),a(O)}W({loadingOption:N})},T=(N,O)=>{const L={...l,[N]:O};a(L),W({perLiftOptions:L})},p=N=>{o(N),W({usePerLiftOptions:N})},R=N=>{m(N),W({deadliftStyle:N})},_=N=>{b(N),W({cyclePreview:N})},W=N=>{t({loadingOption:n,perLiftOptions:l,usePerLiftOptions:c,deadliftStyle:h,cyclePreview:u,trainingMaxes:C,...N})},y=()=>Object.keys(C).length>0&&h!=="";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 4: Implement the 5/3/1 Cycle Structure"}),e.jsx("p",{className:"text-gray-400",children:"Configure your percentage scheme, cycle structure, and performance targets."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"5/3/1 Core Principles"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Progressive Intensity:"})," Week 1 (Volume) → Week 2 (Bridge) → Week 3 (Peak)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"AMRAP Philosophy:"})," Beat rep PRs, not weight PRs"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Submaximal Training:"})," All percentages based on 90% Training Max"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Planned Recovery:"})," Deload every 4th week"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Select Loading Option"}),e.jsx("div",{className:"space-y-4",children:Object.entries(d).map(([N,O])=>e.jsxs("div",{onClick:()=>w(parseInt(N)),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n===parseInt(N)?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-blue-400 mr-2"}),e.jsx("span",{className:"text-white font-medium",children:O.name})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:O.description}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Characteristics:"})," ",O.characteristics]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Best for:"})," ",O.bestFor]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-600",children:[e.jsx("th",{className:"text-left text-gray-300 py-2",children:"Week"}),e.jsx("th",{className:"text-center text-gray-300 py-2",children:"Set 1"}),e.jsx("th",{className:"text-center text-gray-300 py-2",children:"Set 2"}),e.jsx("th",{className:"text-center text-gray-300 py-2",children:"Set 3"})]})}),e.jsx("tbody",{children:Object.entries(O.weeks).map(([L,V])=>e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsxs("td",{className:"py-2 text-gray-300",children:["Week ",L," ",L==="4"&&"(Deload)"]}),V.sets.map((Z,pe)=>e.jsxs("td",{className:"text-center py-2 text-white",children:[Z.percent,"% × ",Z.reps]},pe))]},L))})]})})]},N))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Advanced: Per-Lift Loading Options"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"per_lift_options",checked:c,onChange:N=>p(N.target.checked),className:"w-4 h-4 text-red-500 bg-gray-800 border-gray-600 rounded focus:ring-red-500"}),e.jsx("label",{htmlFor:"per_lift_options",className:"text-gray-300 text-sm",children:"Use different options per lift"})]})]}),c&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(f).map(([N,O])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-white font-medium mb-3",children:O}),e.jsx("div",{className:"space-y-2",children:Object.entries(d).map(([L,V])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:`${N}_option_${L}`,name:`${N}_loading`,value:L,checked:l[N]===parseInt(L),onChange:Z=>T(N,parseInt(Z.target.value)),className:"w-4 h-4 text-red-500 bg-gray-700 border-gray-600 focus:ring-red-500"}),e.jsx("label",{htmlFor:`${N}_option_${L}`,className:"text-gray-300 text-sm",children:V.name})]},L))})]},N))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Deadlift Rep Style"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(x).map(([N,O])=>e.jsxs("div",{onClick:()=>R(N),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${h===N?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(De,{className:"w-5 h-5 text-blue-400 mr-2"}),e.jsx("span",{className:"text-white font-medium",children:O.name})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:O.description}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-green-400 font-medium",children:"Pros:"}),e.jsx("ul",{className:"text-gray-300 ml-2",children:O.pros.map((L,V)=>e.jsxs("li",{children:["• ",L]},V))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-medium",children:"Cons:"}),e.jsx("ul",{className:"text-gray-300 ml-2",children:O.cons.map((L,V)=>e.jsxs("li",{children:["• ",L]},V))})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-600",children:[e.jsx("span",{className:"text-blue-400 font-medium",children:"Technique:"}),e.jsx("p",{className:"text-gray-300",children:O.technique})]})]})]},N))})]}),e.jsxs("div",{className:"bg-purple-900/20 border border-purple-600 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"AMRAP Set Guidelines"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(M).map(([N,O])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsxs("div",{className:"text-purple-400 font-medium mb-2",children:[N," Set"]}),e.jsx("div",{className:"text-gray-300 text-sm mb-3",children:O.description}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-red-400",children:"Minimum:"}),e.jsxs("span",{className:"text-white",children:[O.min," reps"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-yellow-400",children:"Good:"}),e.jsxs("span",{className:"text-white",children:[O.good," reps"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-green-400",children:"Excellent:"}),e.jsxs("span",{className:"text-white",children:[O.excellent,"+ reps"]})]})]})]},N))}),e.jsx("div",{className:"mt-4 p-3 bg-purple-900/20 border border-purple-600 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Mr,{className:"w-5 h-5 text-purple-400 mt-0.5"}),e.jsxs("div",{className:"text-purple-200 text-sm",children:[e.jsx("strong",{children:"Stop Criteria:"})," End the set when bar speed slows significantly or form begins to break down. Never go to absolute failure or attempt questionable reps."]})]})})]}),Object.keys(q).length>0&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Cycle Preview"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:u,onChange:N=>_(parseInt(N.target.value)),className:"bg-gray-800 border border-gray-600 text-white text-sm rounded px-2 py-1",children:[e.jsx("option",{value:2,children:"2 Cycles"}),e.jsx("option",{value:3,children:"3 Cycles"}),e.jsx("option",{value:4,children:"4 Cycles"}),e.jsx("option",{value:5,children:"5 Cycles"})]})]})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(q).map(([N,O])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-white font-medium mb-3",children:f[N]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-600",children:[e.jsx("th",{className:"text-left text-gray-300 py-2",children:"Cycle"}),e.jsx("th",{className:"text-center text-gray-300 py-2",children:"TM"}),e.jsx("th",{className:"text-center text-gray-300 py-2",children:"Week 1 (85%)"}),e.jsx("th",{className:"text-center text-gray-300 py-2",children:"Week 2 (90%)"}),e.jsx("th",{className:"text-center text-gray-300 py-2",children:"Week 3 (95%)"})]})}),e.jsx("tbody",{children:O.map(L=>e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsxs("td",{className:"py-2 text-gray-300",children:[L.cycle,L.increment>0&&e.jsxs("span",{className:"text-green-400 text-xs ml-1",children:["(+",L.increment,")"]})]}),e.jsx("td",{className:"text-center py-2 text-white font-medium",children:L.tm}),e.jsx("td",{className:"text-center py-2 text-white",children:L.weights[1][2].weight}),e.jsx("td",{className:"text-center py-2 text-white",children:L.weights[2][2].weight}),e.jsx("td",{className:"text-center py-2 text-white",children:L.weights[3][2].weight})]},L.cycle))})]})})]},N))})]}),y()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Step 4 Complete! Cycle structure and loading options configured."})]})})]})}function Ji({data:s,updateData:t}){const{roundingIncrement:i}=is(),[n,r]=k.useState(s.executionStrategy||""),[l,a]=k.useState(s.repTargets||{conservative:8,moderate:10,aggressive:12}),[c,o]=k.useState(s.badDayProtocol||"minimum_reps"),[h,m]=k.useState(s.restPeriods||{between_sets:3,before_amrap:5}),[u,b]=k.useState(s.formCues||{squat:[],bench:[],deadlift:[],press:[]}),[C,A]=k.useState(s.trainingMaxes||{}),[q,g]=k.useState(s.loadingOption||1),[d,x]=k.useState({}),f={conservative:{name:"Conservative Approach",description:"Focus on perfect form and controlled progression",repTarget:"8-10 reps on 5+ set",characteristics:["Stop 2-3 reps short of failure","Prioritize form over rep count","Better for beginners or technique focus","Sustainable long-term approach"],rpeTarget:"7-8 RPE on AMRAP set",bestFor:"Beginners, form development, injury recovery"},moderate:{name:"Moderate Approach (Recommended)",description:"Balanced aggression with smart stopping point",repTarget:"10-12 reps on 5+ set",characteristics:["Push until bar speed slows noticeably","Stop when form begins to degrade","Good balance of intensity and safety","Most sustainable for long-term progress"],rpeTarget:"8-9 RPE on AMRAP set",bestFor:"Most lifters, standard progression"},aggressive:{name:"Aggressive Approach",description:"Push harder for maximum rep PRs",repTarget:"12+ reps on 5+ set",characteristics:["Push close to technical failure","Accept some form breakdown","Higher fatigue and recovery demands","Risk/reward approach"],rpeTarget:"9-9.5 RPE on AMRAP set",bestFor:"Experienced lifters, short-term peaks"}},M={minimum_reps:{name:"Minimum Reps Only",description:'Do prescribed reps, skip the "+"',protocol:"Complete 65%×5, 75%×5, 85%×5 (no AMRAP)",philosophy:"Live to fight another day",when:"Low energy, poor sleep, high stress"},reduced_intensity:{name:"Reduced Intensity",description:"Drop all percentages by 10%",protocol:"Complete 55%×5, 65%×5, 75%×5+",philosophy:"Maintain movement patterns with less stress",when:"Feeling weak but not terrible"},skip_session:{name:"Skip Session",description:"Rest completely and return next day",protocol:"Full rest, resume normal schedule",philosophy:"Recovery is part of training",when:"Illness, extreme fatigue, injury risk"}},v={squat:["Big breath and brace before descent","Knees track over toes","Chest up, eyes forward","Drive through heels","Hip hinge to initiate","Maintain neutral spine","Full depth below parallel","Drive floor apart with feet"],bench:["Retract and depress shoulder blades","Arch back, feet firmly planted","Bar path over mid-chest","Control the descent","Pause briefly at chest","Drive through legs","Press bar back over shoulders","Maintain tight core"],deadlift:["Bar over mid-foot","Neutral spine throughout","Shoulders over the bar","Big breath and brace","Leg drive to start","Hips and shoulders rise together","Finish with hips, not back","Control the descent"],press:["Feet shoulder-width apart","Grip just outside shoulders","Big breath and brace core","Bar starts at shoulder level","Press straight up","Push head through at top","Lock out overhead","Control the descent"]},j={excellent:{min:12,color:"green",message:"Excellent! TM is well-calibrated"},good:{min:10,color:"blue",message:"Good performance, progressing well"},acceptable:{min:8,color:"yellow",message:"Acceptable, monitor next week"},concerning:{min:6,color:"orange",message:"Low reps, consider TM adjustment"},poor:{min:0,color:"red",message:"Very low reps, TM likely too high"}},P=(N,O)=>(O===1?[{percent:65,reps:5},{percent:75,reps:5},{percent:85,reps:"5+"}]:[{percent:75,reps:5},{percent:80,reps:5},{percent:85,reps:"5+"}]).map(V=>({...V,weight:Bs(Is(N,V.percent,i))}));k.useEffect(()=>{if(Object.keys(C).length>0){const N={};Object.entries(C).forEach(([O,L])=>{N[O]=P(L,q)}),x(N)}},[C,q]),k.useEffect(()=>{s.trainingMaxes&&A(s.trainingMaxes),s.loadingOption&&g(s.loadingOption)},[s.trainingMaxes,s.loadingOption]);const w=N=>{r(N),_({executionStrategy:N})},T=N=>{o(N),_({badDayProtocol:N})},p=(N,O)=>{const L={...h,[N]:O};m(L),_({restPeriods:L})},R=(N,O)=>{const L=u[N]||[],V=L.includes(O)?L.filter(pe=>pe!==O):[...L,O],Z={...u,[N]:V};b(Z),_({formCues:Z})},_=N=>{t({executionStrategy:n,repTargets:l,badDayProtocol:c,restPeriods:h,formCues:u,trainingMaxes:C,loadingOption:q,...N})},W=()=>n!==""&&c!=="",y={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",press:"Overhead Press"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:'Step 5: Week 1 – "3×5" Week Execution'}),e.jsx("p",{className:"text-gray-400",children:"Configure your approach to the volume-focused first week of each cycle."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Week 1 Focus: Volume"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Goal:"})," Set rep PRs on the 85% AMRAP set"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Intensity:"})," Manageable weights, focus on bar speed"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Volume:"})," Highest rep counts of the cycle"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Technique:"})," Perfect time to reinforce movement patterns"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Choose Your Execution Strategy"}),e.jsx("div",{className:"space-y-4",children:Object.entries(f).map(([N,O])=>e.jsxs("div",{onClick:()=>w(N),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n===N?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(De,{className:"w-5 h-5 text-blue-400 mr-2"}),e.jsx("span",{className:"text-white font-medium",children:O.name})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:O.description}),e.jsxs("div",{className:"text-sm text-green-400 mb-2",children:[e.jsx("strong",{children:"Target:"})," ",O.repTarget]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"RPE:"})," ",O.rpeTarget]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Best for:"})," ",O.bestFor]})]})]})}),e.jsx("div",{className:"space-y-1",children:O.characteristics.map((L,V)=>e.jsxs("div",{className:"text-gray-300 text-sm flex items-center",children:[e.jsx("div",{className:"w-1 h-1 bg-gray-500 rounded-full mr-2"}),L]},V))})]},N))})]}),Object.keys(d).length>0&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Week 1 Working Weights"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(d).map(([N,O])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-white font-medium mb-3",children:y[N]}),e.jsx("div",{className:"space-y-2",children:O.map((L,V)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-300",children:["Set ",V+1," (",L.percent,"%)"]}),e.jsxs("span",{className:"text-white font-medium",children:[L.weight," lbs × ",L.reps,String(L.reps).includes("+")&&e.jsx("span",{className:"text-red-400 ml-1",children:"AMRAP"})]})]},V))})]},N))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Rest Period Guidelines"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Between Sets 1 & 2 (minutes)"}),e.jsxs("select",{value:h.between_sets,onChange:N=>p("between_sets",parseInt(N.target.value)),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-md px-3 py-2 focus:border-red-500",children:[e.jsx("option",{value:2,children:"2 minutes"}),e.jsx("option",{value:3,children:"3 minutes"}),e.jsx("option",{value:4,children:"4 minutes"}),e.jsx("option",{value:5,children:"5 minutes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Before AMRAP Set (minutes)"}),e.jsxs("select",{value:h.before_amrap,onChange:N=>p("before_amrap",parseInt(N.target.value)),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-md px-3 py-2 focus:border-red-500",children:[e.jsx("option",{value:3,children:"3 minutes"}),e.jsx("option",{value:4,children:"4 minutes"}),e.jsx("option",{value:5,children:"5 minutes"}),e.jsx("option",{value:6,children:"6 minutes"}),e.jsx("option",{value:7,children:"7 minutes"})]})]})]}),e.jsxs("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Fs,{className:"w-4 h-4 text-blue-400 mr-2"}),e.jsx("span",{className:"text-blue-300 font-medium",children:"Rest Guidelines"})]}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"• First two sets: Moderate rest"}),e.jsx("li",{children:"• AMRAP set: Full recovery"}),e.jsx("li",{children:"• Adjust based on conditioning"}),e.jsx("li",{children:"• Quality over speed"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Bad Day Protocol"}),e.jsx("div",{className:"space-y-3",children:Object.entries(M).map(([N,O])=>e.jsxs("div",{onClick:()=>T(N),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${c===N?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mr-2"}),e.jsx("span",{className:"text-white font-medium",children:O.name})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:O.description}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Protocol:"})," ",O.protocol]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Philosophy:"})," ",O.philosophy]}),e.jsxs("div",{children:[e.jsx("strong",{children:"When to use:"})," ",O.when]})]})]},N))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Performance Indicators (85% AMRAP Set)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(j).map(([N,O])=>e.jsxs("div",{className:`bg-${O.color}-900/20 border border-${O.color}-600 p-4 rounded-lg`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Ds,{className:`w-4 h-4 text-${O.color}-400 mr-2`}),e.jsx("span",{className:`text-${O.color}-300 font-medium capitalize`,children:N})]}),e.jsx("div",{className:`text-${O.color}-200 text-sm mb-2`,children:O.min===0?"5 or fewer reps":`${O.min}+ reps`}),e.jsx("div",{className:`text-${O.color}-200 text-xs`,children:O.message})]},N))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Key Form Cues to Focus On"}),e.jsx("div",{className:"space-y-6",children:Object.entries(y).map(([N,O])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-white font-medium mb-3",children:O}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:v[N].map((L,V)=>{var Z;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`${N}_cue_${V}`,checked:((Z=u[N])==null?void 0:Z.includes(L))||!1,onChange:()=>R(N,L),className:"w-4 h-4 text-red-500 bg-gray-700 border-gray-600 rounded focus:ring-red-500"}),e.jsx("label",{htmlFor:`${N}_cue_${V}`,className:"text-gray-300 text-sm",children:L})]},V)})})]},N))})]}),W()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Step 5 Complete! Week 1 execution strategy configured."})]})})]})}function Zi({data:s={},updateData:t}){const{roundingIncrement:i}=is(),[n,r]=k.useState((s==null?void 0:s.week2Results)||{}),[l,a]=k.useState((s==null?void 0:s.currentSession)||null),c=(s==null?void 0:s.trainingMaxes)||{},o=(s==null?void 0:s.loadingOption)||1,h=(s==null?void 0:s.schedule)||{liftOrder:["press","deadlift","bench","squat"]},m=o===1?[70,80,90]:[80,85,90],u=[3,3,3],b=(M,v)=>M?Bs(Is(M,v,i)):0,C={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",press:"Overhead Press"},A=(M,v)=>{const j={...n,[M]:{...n[M],amrapReps:parseInt(v)||0,completed:!0,date:new Date().toISOString().split("T")[0]}};r(j),g({week2Results:j})},q=(M,v)=>{const j={...n,[M]:{...n[M],notes:v}};r(j),g({week2Results:j})},g=M=>{t&&t({week2Results:n||{},currentSession:l||null,...M})},d=(M,v)=>!M||!v?0:Math.round(M*v*.0333+M),x=()=>{const M=(h==null?void 0:h.liftOrder)||[];return M.length>0&&M.every(v=>{var j;return(j=n[v])==null?void 0:j.completed})},f=(M,v)=>{var w;const P=((w=((s==null?void 0:s.week1Results)||{})[M])==null?void 0:w.amrapReps)||0;return v>P};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:'Step 6: Week 2 – "5/3/1" Week Execution'}),e.jsx("p",{className:"text-gray-400",children:"Higher intensity week with 3-rep sets. Focus on explosive movement and push the AMRAP set."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Week 2 Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Intensity focus:"})," Higher percentages with lower reps"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"AMRAP target:"})," Aim for 5+ reps on the 90% set"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Bar speed:"})," Keep all reps explosive and controlled"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Recovery:"})," Longer rest between sets (3-5 minutes)"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(De,{className:"w-5 h-5 text-red-400 mr-2"}),"Week 2 Loading (Option ",o,")"]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:m.map((M,v)=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[M,"%"]}),e.jsxs("div",{className:"text-gray-400",children:[u[v],v===2?"+":""," reps"]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Set ",v+1]})]},v))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(es,{className:"w-5 h-5 text-red-400 mr-2"}),"Week 2 Workout Sessions"]}),e.jsx("div",{className:"space-y-4",children:((h==null?void 0:h.liftOrder)||[]).map((M,v)=>{var R,_,W;const j=c[M]||0,P=(R=n[M])==null?void 0:R.completed,w=((_=n[M])==null?void 0:_.amrapReps)||0,T=b(j,m[2]),p=d(T,w);return e.jsxs("div",{className:`border rounded-lg p-4 ${P?"border-green-500 bg-green-900/10":"border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h5",{className:"text-lg font-medium text-white flex items-center",children:[P&&e.jsx(ge,{className:"w-5 h-5 text-green-400 mr-2"}),"Day ",v+1,": ",C[M]]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["TM: ",j," lbs"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"text-sm font-medium text-gray-300 mb-2",children:"Warm-up Sets:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[b(j,40)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"5 reps"})]}),e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[b(j,50)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"5 reps"})]}),e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[b(j,60)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"3 reps"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"text-sm font-medium text-gray-300 mb-2",children:"Working Sets:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:m.map((y,N)=>e.jsx("div",{className:`p-3 rounded ${N===2?"bg-red-900/30 border border-red-600":"bg-gray-800"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-white",children:[b(j,y)," lbs"]}),e.jsxs("div",{className:"text-gray-400",children:[y,"% × ",u[N],N===2?"+":""]}),N===2&&e.jsx("div",{className:"text-xs text-red-400 mt-1",children:"AMRAP SET"})]})},N))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"AMRAP Reps Achieved"}),e.jsx("input",{type:"number",min:"0",max:"20",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:w||"",onChange:y=>A(M,y.target.value),placeholder:"Enter reps completed"}),w>0&&e.jsx("div",{className:"mt-2 text-sm",children:e.jsxs("div",{className:`${f(M,w)?"text-green-400":"text-gray-400"}`,children:[f(M,w)&&e.jsx("span",{className:"text-green-400",children:"🎉 PR! "}),"Estimated 1RM: ",p," lbs"]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Notes"}),e.jsx("input",{type:"text",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:((W=n[M])==null?void 0:W.notes)||"",onChange:y=>q(M,y.target.value),placeholder:"Form cues, RPE, etc."})]})]})]},M)})})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Be,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-300 font-medium mb-2",children:"Week 2 Performance Guidelines"}),e.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Minimum target:"})," 3 reps on AMRAP set (meeting the base requirement)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Good performance:"})," 5+ reps on AMRAP set"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Excellent performance:"})," 7+ reps (indicates room for TM increase)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Stop when:"})," Bar speed slows significantly or form breaks down"]})]})]})]})}),x()&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Week 2 Complete! Ready to move to Week 3 – the heaviest week of the cycle."})]}),e.jsx("div",{className:"mt-2 text-sm text-green-200",children:"All AMRAP sets logged. Review your performance and prepare for the intensity of Week 3."})]})]})}function en({data:s={},updateData:t}){const{roundingIncrement:i}=is(),[n,r]=k.useState((s==null?void 0:s.week3Results)||{}),l=(s==null?void 0:s.trainingMaxes)||{},a=(s==null?void 0:s.loadingOption)||1,c=(s==null?void 0:s.schedule)||{liftOrder:["press","deadlift","bench","squat"]},o=(s==null?void 0:s.week2Results)||{},h=a===1?[75,85,95]:[85,90,95],m=[5,3,1],u={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",press:"Overhead Press"},b=(f,M)=>f?Bs(Is(f,M,i)):0,C=f=>{t&&t({week3Results:n||{},...f})},A=(f,M)=>{const v=Math.max(0,parseInt(M)||0),j={...n,[f]:{...n[f],amrapReps:v,completed:!0,date:new Date().toISOString().split("T")[0]}};r(j),C({week3Results:j})},q=(f,M)=>{const v={...n,[f]:{...n[f],notes:M}};r(v),C({week3Results:v})},g=(f,M)=>Lo(f,M),d=(f,M)=>{var w;const v=b(l[f]||0,90),j=((w=o==null?void 0:o[f])==null?void 0:w.amrapReps)||0,P=g(v,j);return M>(P||0)},x=()=>{const f=Array.isArray(c==null?void 0:c.liftOrder)?c.liftOrder:[];return f.length===0?!1:f.every(M=>{var v;return(v=n==null?void 0:n[M])==null?void 0:v.completed})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:'Step 7: Week 3 – "1+" Week Execution'}),e.jsx("p",{className:"text-gray-400",children:"Peak intensity week. Execute strong singles and push the final AMRAP set intelligently."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Week 3 Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Intensity:"})," Heaviest week of the cycle"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Last set:"})," 95% for 1+ reps — quality over quantity"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Rest:"})," Take longer rests (3–6 min) before the AMRAP"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Mindset:"})," Solid single, then push for extra reps if bar speed allows"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(De,{className:"w-5 h-5 text-red-400 mr-2"}),"Week 3 Loading (Option ",a,")"]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:h.map((f,M)=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[f,"%"]}),e.jsxs("div",{className:"text-gray-400",children:[m[M],M===2?"+":""," reps"]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Set ",M+1]})]},M))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(es,{className:"w-5 h-5 text-red-400 mr-2"}),"Week 3 Workout Sessions"]}),e.jsx("div",{className:"space-y-4",children:((c==null?void 0:c.liftOrder)||[]).map((f,M)=>{var R,_,W;const v=l[f]||0,j=(R=n[f])==null?void 0:R.completed,P=((_=n[f])==null?void 0:_.amrapReps)||0,w=b(v,h[2]),T=g(w,P),p=P>0&&d(f,T);return e.jsxs("div",{className:`border rounded-lg p-4 ${j?"border-green-500 bg-green-900/10":"border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h5",{className:"text-lg font-medium text-white flex items-center",children:[j&&e.jsx(ge,{className:"w-5 h-5 text-green-400 mr-2"}),"Day ",M+1,": ",u[f]]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["TM: ",v," lbs"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"text-sm font-medium text-gray-300 mb-2",children:"Warm-up Sets:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[b(v,40)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"5 reps"})]}),e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[b(v,50)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"5 reps"})]}),e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[b(v,60)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"3 reps"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"text-sm font-medium text-gray-300 mb-2",children:"Working Sets:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:h.map((y,N)=>e.jsx("div",{className:`p-3 rounded ${N===2?"bg-red-900/30 border border-red-600":"bg-gray-800"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-white",children:[b(v,y)," lbs"]}),e.jsxs("div",{className:"text-gray-400",children:[y,"% × ",m[N],N===2?"+":""]}),N===2&&e.jsx("div",{className:"text-xs text-red-400 mt-1",children:"AMRAP SET"})]})},N))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"AMRAP Reps Achieved"}),e.jsx("input",{type:"number",min:"0",max:"20",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:P||"",onChange:y=>A(f,y.target.value),placeholder:"Enter reps completed"}),P>0&&e.jsx("div",{className:"mt-2 text-sm",children:e.jsxs("div",{className:`${d(f,T)?"text-green-400":"text-gray-400"}`,children:[p&&e.jsxs("span",{className:"inline-flex items-center text-green-400",children:[e.jsx(_t,{className:"w-4 h-4 mr-1"})," PR! "]}),"Estimated 1RM: ",T," lbs"]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Notes"}),e.jsx("input",{type:"text",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:((W=n[f])==null?void 0:W.notes)||"",onChange:y=>q(f,y.target.value),placeholder:"Form cues, RPE, bar speed, etc."})]})]})]},f)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-300 font-medium mb-2",children:"Safety Guidelines"}),e.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Treat the first rep like a meet single: tight brace, perfect setup"}),e.jsx("li",{children:"• Stop the AMRAP when bar speed drops sharply or technique degrades"}),e.jsx("li",{children:"• Rest 3–6 minutes before the last set"}),e.jsx("li",{children:"• Use spotters/safeties as needed"})]})]})]})}),e.jsx("div",{className:"bg-purple-900/20 border border-purple-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Be,{className:"w-5 h-5 text-purple-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"Mental Prep"}),e.jsxs("ul",{className:"text-purple-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Visualize a clean single before the set"}),e.jsx("li",{children:"• Use a consistent cue checklist"}),e.jsx("li",{children:"• Commit to bar speed; don’t chase ugly reps"})]})]})]})})]}),x()&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Week 3 Complete! Deload next or begin next cycle as planned."})]}),e.jsx("div",{className:"mt-2 text-sm text-green-200",children:"All AMRAP sets logged. Review e1RMs to guide TM adjustments."})]})]})}function sn({data:s={},updateData:t}){const{roundingIncrement:i}=is(),[n,r]=k.useState((s==null?void 0:s.deloadResults)||{}),[l,a]=k.useState((s==null?void 0:s.recoveryMetrics)||{}),[c,o]=k.useState((s==null?void 0:s.assistanceReduction)||!0),h=(s==null?void 0:s.trainingMaxes)||{},m=(s==null?void 0:s.schedule)||{liftOrder:["press","deadlift","bench","squat"]},u=[40,50,60],b=[5,5,5],C=(v,j)=>v?Bs(Is(v,j,i)):0,A={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",press:"Overhead Press"},q=v=>{const j={...n,[v]:{...n[v],completed:!0,date:new Date().toISOString().split("T")[0]}};r(j),x({deloadResults:j})},g=(v,j)=>{const P={...l,[v]:j};a(P),x({recoveryMetrics:P})},d=(v,j)=>{const P={...n,[v]:{...n[v],notes:j}};r(P),x({deloadResults:P})},x=v=>{t&&t({deloadResults:n||{},recoveryMetrics:l||{},assistanceReduction:c,...v})},f=()=>{const v=(m==null?void 0:m.liftOrder)||[];return v.length>0&&v.every(j=>{var P;return(P=n[j])==null?void 0:P.completed})},M=()=>{const v=l,j=parseInt(v.sleep)||0,P=parseInt(v.soreness)||5,w=parseInt(v.motivation)||5;let T="good",p="Recovery on track",R="text-green-400";return j<6||P>7||w<4?(T="poor",p="Consider extending deload or reducing next cycle TM",R="text-red-400"):(j<7||P>5||w<6)&&(T="moderate",p="Monitor recovery closely next cycle",R="text-yellow-400"),{status:T,message:p,color:R}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 8: Week 4 – Deload Week"}),e.jsx("p",{className:"text-gray-400",children:"Recovery and regeneration week. Focus on movement quality, not intensity. Under-do rather than overdo."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Deload Week Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Recovery focus:"})," Allow your body and mind to recover from 3 weeks of progression"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Movement quality:"})," Perfect your technique with lighter loads"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Under-do principle:"})," Resist the urge to add weight or extra reps"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Holistic recovery:"})," Prioritize sleep, nutrition, and stress management"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(ii,{className:"w-5 h-5 text-blue-400 mr-2"}),"Deload Loading - Light and Easy"]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:u.map((v,j)=>e.jsxs("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-300",children:[v,"%"]}),e.jsxs("div",{className:"text-blue-200",children:[b[j]," reps"]}),e.jsxs("div",{className:"text-sm text-blue-400 mt-1",children:["Set ",j+1]})]},j))}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"NO AMRAP SETS - Prescribed reps only"})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(yo,{className:"w-5 h-5 text-yellow-400 mr-2"}),"Assistance Work Protocol"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"assistanceReduction",checked:c,onChange:v=>{o(v.target.checked),x({assistanceReduction:v.target.checked})},className:"w-4 h-4 text-red-600 bg-gray-800 border-gray-600 rounded focus:ring-red-500"}),e.jsx("label",{htmlFor:"assistanceReduction",className:"text-white",children:"Reduce assistance work during deload (Recommended)"})]}),c&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-3 rounded",children:e.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Volume:"})," 50% of normal assistance volume"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Intensity:"})," Reduce weights by 10-15%"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Focus:"})," Movement quality and blood flow"]})]})})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Tr,{className:"w-5 h-5 text-red-400 mr-2"}),"Recovery Monitoring"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Average Sleep (hours/night)"}),e.jsx("input",{type:"number",min:"4",max:"12",step:"0.5",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:l.sleep||"",onChange:v=>g("sleep",v.target.value),placeholder:"7.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Soreness Level (1-10)"}),e.jsx("input",{type:"number",min:"1",max:"10",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:l.soreness||"",onChange:v=>g("soreness",v.target.value),placeholder:"3"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"1 = No soreness, 10 = Extremely sore"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Motivation Level (1-10)"}),e.jsx("input",{type:"number",min:"1",max:"10",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:l.motivation||"",onChange:v=>g("motivation",v.target.value),placeholder:"8"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"1 = No motivation, 10 = Highly motivated"})]})]}),(l.sleep||l.soreness||l.motivation)&&e.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded",children:e.jsxs("div",{className:`text-sm font-medium ${M().color}`,children:["Recovery Status: ",M().message]})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(es,{className:"w-5 h-5 text-blue-400 mr-2"}),"Deload Workout Sessions"]}),e.jsx("div",{className:"space-y-4",children:((m==null?void 0:m.liftOrder)||[]).map((v,j)=>{var T,p;const P=h[v]||0,w=(T=n[v])==null?void 0:T.completed;return e.jsxs("div",{className:`border rounded-lg p-4 ${w?"border-green-500 bg-green-900/10":"border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h5",{className:"text-lg font-medium text-white flex items-center",children:[w&&e.jsx(ge,{className:"w-5 h-5 text-green-400 mr-2"}),"Day ",j+1,": ",A[v]]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["TM: ",P," lbs"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"text-sm font-medium text-gray-300 mb-2",children:"Warm-up Sets:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[C(P,40)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"5 reps"})]}),e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[C(P,50)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"5 reps"})]}),e.jsxs("div",{className:"bg-gray-800 p-2 rounded text-center",children:[e.jsxs("div",{className:"text-white",children:[C(P,60)," lbs"]}),e.jsx("div",{className:"text-gray-400",children:"3 reps"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"text-sm font-medium text-gray-300 mb-2",children:"Deload Sets:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.map((R,_)=>e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-3 rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-300",children:[C(P,R)," lbs"]}),e.jsxs("div",{className:"text-blue-200",children:[R,"% × ",b[_]]})]})},_))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx("button",{onClick:()=>q(v),disabled:w,className:`w-full px-4 py-2 rounded font-medium ${w?"bg-green-600 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:w?"Session Complete":"Mark Complete"})}),e.jsx("div",{children:e.jsx("input",{type:"text",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:((p=n[v])==null?void 0:p.notes)||"",onChange:R=>d(v,R.target.value),placeholder:"How did you feel? Movement quality?"})})]})]},v)})})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-300 font-medium mb-2",children:"Deload Week Critical Rules"}),e.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"NO AMRAP sets:"})," Stick to prescribed reps only - resist the urge to test"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"NO extra weight:"})," Do not add weight even if it feels easy"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Focus on form:"})," Use this time to perfect technique and timing"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Listen to your body:"})," This is recovery time, not testing time"]})]})]})]})}),f()&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Deload Week Complete! Ready to begin next cycle with increased training maxes."})]}),e.jsx("div",{className:"mt-2 text-sm text-green-200",children:"Recovery week finished. Time to progress your training maxes and start the next 4-week cycle."})]})]})}function tn({data:s={},updateData:t}){const{roundingIncrement:i}=is(),[n,r]=k.useState((s==null?void 0:s.newTrainingMaxes)||{}),[l,a]=k.useState((s==null?void 0:s.progressionDecisions)||{}),[c,o]=k.useState((s==null?void 0:s.cyclePerformance)||{}),[h,m]=k.useState(!1),u=(s==null?void 0:s.trainingMaxes)||{},b=(s==null?void 0:s.week3Results)||{},C=(s==null?void 0:s.schedule)||{liftOrder:["press","deadlift","bench","squat"]},A={press:5,bench:5,squat:10,deadlift:10},q=w=>ri(w,i),g=(w,T)=>{if(!w)return 0;const p=A[T]||5;return q(w+p)},d={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",press:"Overhead Press"},x=w=>["press","bench"].includes(w)?"Upper Body":"Lower Body",f=w=>{const T=b[w];if(!T||!T.amrapReps)return{recommendation:"standard",reason:"No Week 3 data available"};const p=T.amrapReps;return p>=5?{recommendation:"increase",reason:`Excellent performance (${p} reps at 95%)`,color:"text-green-400"}:p>=3?{recommendation:"standard",reason:`Good performance (${p} reps at 95%)`,color:"text-blue-400"}:p>=1?{recommendation:"conservative",reason:`Minimum performance (${p} rep at 95%)`,color:"text-yellow-400"}:{recommendation:"reduce",reason:"Failed to achieve minimum at 95%",color:"text-red-400"}},M=(w,T)=>{const p={...n,[w]:q(parseInt(T)||0)};r(p),j({newTrainingMaxes:p})},v=(w,T)=>{const p=u[w]||0;let R;switch(T){case"increase":R=q(p+A[w]*1.5);break;case"standard":R=g(p,w);break;case"conservative":R=q(p+A[w]*.5);break;case"maintain":R=p;break;case"reduce":R=q(p*.9);break;default:R=g(p,w)}const _={...l,[w]:T},W={...n,[w]:R};a(_),r(W),j({progressionDecisions:_,newTrainingMaxes:W})};k.useEffect(()=>{const w={};((C==null?void 0:C.liftOrder)||[]).forEach(T=>{!n[T]&&u[T]?w[T]=g(u[T],T):n[T]&&(w[T]=n[T])}),Object.keys(w).length>0&&r(T=>({...T,...w}))},[u,C==null?void 0:C.liftOrder]);const j=w=>{t&&t({newTrainingMaxes:n||{},progressionDecisions:l||{},cyclePerformance:c||{},nextCycleReady:h,...w})},P=()=>{const w=(C==null?void 0:C.liftOrder)||[];return w.length>0&&w.every(T=>n[T]&&n[T]>0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 9: Cycle Progression – Increase Training Max"}),e.jsx("p",{className:"text-gray-400",children:"Analyze your cycle performance and set new training maxes for the next 4-week cycle."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Progression Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Slow and steady:"})," Small, consistent increases build long-term strength"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Performance-based:"})," Week 3 AMRAP results guide progression decisions"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Conservative approach:"})," Better to progress too slowly than too quickly"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Individual lifts:"})," Each lift progresses independently based on performance"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Rr,{className:"w-5 h-5 text-green-400 mr-2"}),"Standard Increment Rules"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-green-300 font-medium mb-2",children:"Upper Body Lifts"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Overhead Press:"}),e.jsx("span",{className:"text-white",children:"+5 lbs"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Bench Press:"}),e.jsx("span",{className:"text-white",children:"+5 lbs"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"text-green-300 font-medium mb-2",children:"Lower Body Lifts"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Squat:"}),e.jsx("span",{className:"text-white",children:"+10 lbs"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Deadlift:"}),e.jsx("span",{className:"text-white",children:"+10 lbs"})]})]})]})]}),e.jsx("div",{className:"mt-3 text-sm text-gray-400 text-center",children:"All weights automatically rounded to nearest 5 lbs"})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 text-red-400 mr-2"}),"Training Max Progression"]}),e.jsx("div",{className:"space-y-4",children:((C==null?void 0:C.liftOrder)||[]).map((w,T)=>{const p=u[w]||0,R=n[w]||g(p,w),_=f(w),W=A[w];return e.jsxs("div",{className:"border border-gray-600 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h5",{className:"text-lg font-medium text-white",children:d[w]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[x(w)," (+",W," lbs standard)"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 items-center",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Current TM"}),e.jsxs("div",{className:"text-xl font-bold text-white",children:[p," lbs"]})]}),e.jsx("div",{className:"text-center",children:e.jsx(bo,{className:"w-6 h-6 text-gray-400 mx-auto"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"New TM"}),e.jsx("input",{type:"number",min:"0",step:"5",className:"w-20 bg-gray-800 border border-gray-600 text-white text-xl font-bold text-center px-2 py-1 rounded focus:border-red-500 focus:outline-none",value:R||"",onChange:y=>M(w,y.target.value)})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-gray-800 rounded",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-300",children:"Week 3 Performance: "}),e.jsx("span",{className:_.color,children:_.reason})]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[{key:"increase",label:"+1.5x",color:"bg-green-600 hover:bg-green-700"},{key:"standard",label:"Standard",color:"bg-blue-600 hover:bg-blue-700"},{key:"conservative",label:"+0.5x",color:"bg-yellow-600 hover:bg-yellow-700"},{key:"maintain",label:"Maintain",color:"bg-gray-600 hover:bg-gray-700"},{key:"reduce",label:"Reduce",color:"bg-red-600 hover:bg-red-700"}].map(y=>e.jsx("button",{onClick:()=>v(w,y.key),className:`px-3 py-2 rounded text-white text-sm font-medium ${y.color} ${l[w]===y.key?"ring-2 ring-white":""}`,children:y.label},y.key))})]},w)})})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-300 font-medium mb-2",children:"Progression Decision Guidelines"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-yellow-200 text-sm",children:[e.jsx("div",{children:e.jsxs("ul",{className:"space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"+1.5x:"})," 5+ reps at 95% (excellent performance)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Standard:"})," 3-4 reps at 95% (good performance)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"+0.5x:"})," 1-2 reps at 95% (minimum performance)"]})]})}),e.jsx("div",{children:e.jsxs("ul",{className:"space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Maintain:"})," Technique focus cycle"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Reduce:"})," Failed 95% or missed sessions"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Remember:"})," Conservative progression builds long-term strength"]})]})})]})]})]})}),P()&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(ni,{className:"w-5 h-5 text-green-400 mr-2"}),"Next Cycle Preview"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:((C==null?void 0:C.liftOrder)||[]).map(w=>e.jsxs("div",{className:"bg-gray-800 p-3 rounded text-center",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:d[w]}),e.jsxs("div",{className:"text-lg font-bold text-green-400",children:[n[w]," lbs"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Week 1 top set: ",Math.ceil(n[w]*.85/5)*5," lbs"]})]},w))})]}),P()&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Training Max Progression Complete! Ready to begin your next 4-week cycle."})]}),e.jsx("div",{className:"mt-2 text-sm text-green-200",children:"New training maxes set based on performance. Continue building strength systematically."})]})]})}function nn({data:s={},updateData:t}){const{roundingIncrement:i}=is(),[n,r]=k.useState((s==null?void 0:s.stallAnalysis)||{}),[l,a]=k.useState((s==null?void 0:s.resetDecisions)||{}),[c,o]=k.useState((s==null?void 0:s.resetTrainingMaxes)||{}),[h,m]=k.useState((s==null?void 0:s.stallHistory)||{}),u=(s==null?void 0:s.trainingMaxes)||{},b=(s==null?void 0:s.week3Results)||{};s!=null&&s.previousCycles;const C=(s==null?void 0:s.schedule)||{liftOrder:["overhead_press","deadlift","bench","squat"]},A={first_reset:90,second_reset:85,third_reset:80},q=T=>ri(T,i),g=(T,p="first_reset")=>{if(!T)return 0;const R=A[p];return q(T*(R/100))},d={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",overhead_press:"Overhead Press"},x=T=>{var _;const p=b[T];if(u[T],!p||p.amrapReps===void 0)return{isStalled:!1,reason:"No performance data available",severity:"none",color:"text-gray-400"};const R=p.amrapReps;if(R===0)return{isStalled:!0,reason:"Failed to complete minimum rep at 95%",severity:"critical",recommendation:"Immediate reset required",color:"text-red-400"};if(R===1){const W=((_=h[T])==null?void 0:_.consecutiveMinimums)||0;return W>=1?{isStalled:!0,reason:`Multiple cycles at minimum (${W+1} cycles)`,severity:"moderate",recommendation:"Consider reset to rebuild",color:"text-yellow-400"}:{isStalled:!1,reason:"Single minimum performance - monitor next cycle",severity:"warning",recommendation:"Continue with conservative progression",color:"text-yellow-400"}}else return{isStalled:!1,reason:`Good performance (${R} reps at 95%)`,severity:"none",recommendation:"Continue normal progression",color:"text-green-400"}},f=(T,p)=>{const R=u[T]||0,_=g(R,p),W={...l,[T]:p},y={...c,[T]:_};a(W),o(y),j({resetDecisions:W,resetTrainingMaxes:y})},M=(T,p)=>{const R=q(parseInt(p)||0),_={...c,[T]:R};o(_),j({resetTrainingMaxes:_})},v=T=>{const p={...l,[T]:"no_reset"};a(p),j({resetDecisions:p})},j=T=>{t&&t({stallAnalysis:n||{},resetDecisions:l||{},resetTrainingMaxes:c||{},stallHistory:h||{},...T})},P=()=>{const T=(C==null?void 0:C.liftOrder)||[];return T.length>0&&T.every(p=>l[p]!==void 0)},w=()=>Object.values(l).filter(T=>T!=="no_reset"&&T!==void 0).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 10: Stalling and Reset Rules"}),e.jsx("p",{className:"text-gray-400",children:"Identify stalled lifts and implement strategic resets to break through plateaus and continue progress."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Reset Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Strategic tool:"})," Resets aren't failures - they're planned steps back to jump forward"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Break plateaus:"})," Lower training max allows volume and technique work"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Rebuild momentum:"})," Success breeds success - get back to hitting rep PRs"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Individual approach:"})," Each lift resets independently based on performance"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(De,{className:"w-5 h-5 text-yellow-400 mr-2"}),"When to Reset - Official Guidelines"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-900/20 border border-red-600 p-4 rounded",children:[e.jsx("h5",{className:"text-red-300 font-medium mb-2",children:"Immediate Reset"}),e.jsxs("ul",{className:"text-red-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Failed 95% (0 reps)"}),e.jsx("li",{children:"• Missed multiple sessions"}),e.jsx("li",{children:"• Form breakdown at 95%"})]})]}),e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded",children:[e.jsx("h5",{className:"text-yellow-300 font-medium mb-2",children:"Consider Reset"}),e.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1",children:[e.jsx("li",{children:"• 2+ cycles at 1 rep minimum"}),e.jsx("li",{children:"• Consistently grinding reps"}),e.jsx("li",{children:"• Loss of bar speed"})]})]}),e.jsxs("div",{className:"bg-green-900/20 border border-green-600 p-4 rounded",children:[e.jsx("h5",{className:"text-green-300 font-medium mb-2",children:"Continue Progress"}),e.jsxs("ul",{className:"text-green-200 text-sm space-y-1",children:[e.jsx("li",{children:"• 3+ reps at 95%"}),e.jsx("li",{children:"• Good bar speed"}),e.jsx("li",{children:"• Consistent performance"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(ii,{className:"w-5 h-5 text-blue-400 mr-2"}),"Reset Percentage Options"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-800 p-4 rounded text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-300",children:"90%"}),e.jsx("div",{className:"text-blue-200 text-sm",children:"First Reset"}),e.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Most common"})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-300",children:"85%"}),e.jsx("div",{className:"text-yellow-200 text-sm",children:"Second Reset"}),e.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Multiple stalls"})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-300",children:"80%"}),e.jsx("div",{className:"text-red-200 text-sm",children:"Third Reset"}),e.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Rare/injury"})]})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(vo,{className:"w-5 h-5 text-red-400 mr-2"}),"Lift Analysis and Reset Decisions"]}),e.jsx("div",{className:"space-y-4",children:((C==null?void 0:C.liftOrder)||[]).map(T=>{const p=u[T]||0,R=x(T),_=l[T],W=c[T]||g(p,"first_reset");return e.jsxs("div",{className:`border rounded-lg p-4 ${R.isStalled?"border-red-500 bg-red-900/10":"border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h5",{className:"text-lg font-medium text-white",children:d[T]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Current TM: ",p," lbs"]})]}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-800 rounded",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-300 text-sm",children:"Analysis: "}),e.jsx("span",{className:`text-sm ${R.color}`,children:R.reason})]}),R.isStalled&&e.jsx(ke,{className:"w-5 h-5 text-red-400"})]}),R.recommendation&&e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Recommendation: ",R.recommendation]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:[e.jsx("button",{onClick:()=>f(T,"first_reset"),className:`px-3 py-2 rounded text-white text-sm font-medium bg-blue-600 hover:bg-blue-700 ${_==="first_reset"?"ring-2 ring-white":""}`,children:"90% Reset"}),e.jsx("button",{onClick:()=>f(T,"second_reset"),className:`px-3 py-2 rounded text-white text-sm font-medium bg-yellow-600 hover:bg-yellow-700 ${_==="second_reset"?"ring-2 ring-white":""}`,children:"85% Reset"}),e.jsx("button",{onClick:()=>f(T,"third_reset"),className:`px-3 py-2 rounded text-white text-sm font-medium bg-red-600 hover:bg-red-700 ${_==="third_reset"?"ring-2 ring-white":""}`,children:"80% Reset"}),e.jsx("button",{onClick:()=>v(T),className:`px-3 py-2 rounded text-white text-sm font-medium bg-green-600 hover:bg-green-700 ${_==="no_reset"?"ring-2 ring-white":""}`,children:"No Reset"})]}),_&&_!=="no_reset"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 bg-blue-900/20 border border-blue-600 rounded",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-300 mb-2",children:"New Training Max"}),e.jsx("input",{type:"number",min:"0",step:"5",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded focus:border-red-500 focus:outline-none",value:W||"",onChange:y=>M(T,y.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"text-sm text-blue-200",children:[e.jsxs("div",{children:["Original: ",p," lbs"]}),e.jsxs("div",{children:["Reduction: ",p?Math.round((p-W)/p*100):0,"%"]})]})})]})]},T)})})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ni,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-300 font-medium mb-2",children:"Reset Strategy - What to Expect"}),e.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"First 2-3 weeks:"})," Weights will feel very easy - this is intentional"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Volume opportunity:"})," Use lighter loads to perfect technique and add assistance work"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Rebuild confidence:"})," Hit rep PRs again and regain momentum"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Progressive return:"})," You'll surpass your previous best within 2-3 cycles"]})]})]})]})}),w()>0&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Reset Summary"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("span",{className:"font-medium",children:w()})," lift(s) scheduled for reset. This will help break through plateaus and rebuild momentum."]})]}),P()&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Stall Analysis Complete! Reset decisions made for all lifts."})]}),e.jsx("div",{className:"mt-2 text-sm text-green-200",children:w()===0?"No resets needed - continue with normal progression.":"Strategic resets will help break plateaus and rebuild momentum."})]})]})}function rn({data:s,updateData:t}){const[i,n]=k.useState(s.bbbConfig||{}),[r,l]=k.useState(s.bbbPairings||{}),[a,c]=k.useState(s.bbbIntensity||"beginner"),[o,h]=k.useState(s.bbbAdditionalAssistance||[]),m={beginner:{percentage:50,label:"Beginner (50% TM)",description:"Start here - manageable volume"},intermediate:{percentage:60,label:"Intermediate (60% TM)",description:"Moderate challenge"},advanced:{percentage:70,label:"Advanced (70% TM)",description:"Very challenging - high volume"}},u=k.useMemo(()=>({same:{squat:"squat",bench:"bench",deadlift:"deadlift",overhead_press:"overhead_press"},opposite:{squat:"deadlift",bench:"overhead_press",deadlift:"squat",overhead_press:"bench"}}),[]),b=[{name:"Abs/Core Work",sets:"2-3",reps:"25-50",category:"core"},{name:"Upper Back",sets:"2-3",reps:"25-50",category:"upper_back",examples:"Face pulls, band pull-aparts"},{name:"Rear Delts",sets:"2-3",reps:"25-50",category:"rear_delts",examples:"Reverse flyes, face pulls"},{name:"Tricep Work",sets:"2-3",reps:"25-50",category:"triceps",examples:"Pushdowns, overhead extensions"},{name:"Bicep Work",sets:"2-3",reps:"25-50",category:"biceps",examples:"Curls, hammer curls"},{name:"Calves",sets:"2-3",reps:"25-50",category:"calves",examples:"Calf raises"}],C={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",overhead_press:"Overhead Press"},A=s.trainingMaxes||{},q=(j,P)=>{const w={...r,[j]:P};l(w),f({bbbPairings:w})},g=j=>{c(j),f({bbbIntensity:j})},d=j=>{const P=o.some(T=>T.name===j.name);let w;P?w=o.filter(T=>T.name!==j.name):w=[...o,j],h(w),f({bbbAdditionalAssistance:w})},x=j=>{const P=A[j]||0,w=m[a].percentage;return Math.round(P*w/100/5)*5},f=j=>{n({...i,...j}),t({bbbConfig:{...i,...j},bbbPairings:r,bbbIntensity:a,bbbAdditionalAssistance:o,...j})},M=()=>Object.keys(r).length===4&&a,v=()=>{const j=m[a].percentage;return j>=70?{level:"Very High",color:"text-red-400",warning:!0}:j>=60?{level:"Moderate",color:"text-yellow-400",warning:!1}:{level:"Manageable",color:"text-green-400",warning:!1}};return k.useEffect(()=>{(!r||Object.keys(r).length===0)&&l(u.same)},[r,u]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:'Step 12: "Boring But Big" (BBB) Template'}),e.jsx("p",{className:"text-gray-400",children:"High-volume assistance template featuring 5×10 sets to build muscle and work capacity."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Boring But Big Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"High volume:"})," 5 sets × 10 reps for significant muscle building"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Submaximal loads:"})," 50-70% intensity allows volume completion"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Simple progression:"})," Increase TM percentage over cycles"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Minimal extras:"})," BBB volume replaces most assistance work"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ds,{className:"w-6 h-6 text-red-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"BBB Intensity Level"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:Object.entries(m).map(([j,P])=>e.jsx("div",{onClick:()=>g(j),className:`p-4 rounded border-2 cursor-pointer transition-colors ${a===j?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:`font-medium ${a===j?"text-red-300":"text-white"}`,children:P.label}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:P.description})]})},j))}),e.jsx("div",{className:"bg-gray-800 p-3 rounded",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Expected Volume Level:"}),e.jsx("span",{className:`font-medium ${v().color}`,children:v().level})]})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(De,{className:"w-6 h-6 text-red-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"BBB Exercise Pairings"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(C).map(([j,P])=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-white font-medium",children:[P," Main Work"]}),e.jsx("span",{className:"text-gray-400",children:"5/3/1 Sets"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsx("span",{className:"text-gray-300",children:"BBB Work:"}),e.jsx("select",{value:r[j]||j,onChange:w=>q(j,w.target.value),className:"px-3 py-1 bg-gray-700 border border-gray-600 text-white rounded focus:border-red-500 focus:outline-none",children:Object.entries(C).map(([w,T])=>e.jsx("option",{value:w,children:T},w))})]}),A[r[j]||j]&&e.jsxs("div",{className:"text-sm text-gray-400",children:["BBB Weight: ",e.jsxs("span",{className:"text-red-400 font-medium",children:[x(r[j]||j)," lbs"]})," (5 sets × 10 reps)"]})]},j))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[e.jsx("span",{className:"text-gray-300 text-sm mb-2 block",children:"Quick Presets:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{l(u.same),f({bbbPairings:u.same})},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"All Same Lifts"}),e.jsx("button",{onClick:()=>{l(u.opposite),f({bbbPairings:u.opposite})},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"All Opposite Lifts"})]})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Additional Assistance (2-3 exercises max)"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"BBB provides significant volume. Add only 25-50 total reps of these movements."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:b.map(j=>{const P=o.some(w=>w.name===j.name);return e.jsx("div",{onClick:()=>d(j),className:`p-3 rounded border cursor-pointer transition-colors ${P?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:`font-medium text-sm ${P?"text-red-300":"text-white"}`,children:j.name}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[j.sets," sets × ",j.reps," reps"]}),j.examples&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.examples})]}),e.jsx("div",{className:`w-4 h-4 rounded border ${P?"bg-red-500 border-red-500":"border-gray-400"}`,children:P&&e.jsx(ge,{className:"w-full h-full text-white"})})]})},j.name)})})]}),v().warning&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("strong",{children:"High Volume Warning:"})," 70% BBB is extremely challenging. Ensure excellent recovery (sleep, nutrition) and consider starting with lower intensity."]})]})}),o.length>3&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("strong",{children:"Volume Warning:"})," You've selected ",o.length," additional exercises. BBB already provides high volume - consider limiting to 2-3 exercises maximum."]})]})}),M()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-300 font-medium",children:["Step 12 Complete! BBB template configured with ",m[a].percentage,"% intensity and ",o.length," additional exercises."]})]})})]})}function an({data:s={},updateData:t}){const[i,n]=k.useState(s.assistanceWork||{}),[r,l]=k.useState(s.customExercises||[]),[a,c]=k.useState(!1),[o,h]=k.useState({name:"",targetLift:"",category:""}),m={squat:[{name:"Good Mornings",description:"Posterior chain strength",priority:1},{name:"Lunges",description:"Unilateral leg strength",priority:2},{name:"Step-ups",description:"Single-leg power",priority:3},{name:"Leg Press",description:"High-volume quad work",priority:4},{name:"Leg Curls",description:"Hamstring isolation",priority:5}],bench:[{name:"Dips",description:"Tricep and chest strength",priority:1},{name:"DB Bench Press",description:"Stabilizer recruitment",priority:2},{name:"Push-ups",description:"Bodyweight volume",priority:3},{name:"Close-Grip Bench",description:"Tricep focus",priority:4},{name:"DB Rows",description:"Upper back balance",priority:5}],deadlift:[{name:"Good Mornings",description:"Hip hinge pattern",priority:1},{name:"Glute-Ham Raises",description:"Posterior chain",priority:2},{name:"Romanian Deadlifts",description:"Hamstring strength",priority:3},{name:"Rack Pulls",description:"Top-end strength",priority:4},{name:"Kroc Rows",description:"Single-arm pulling",priority:5}],overhead_press:[{name:"Dips",description:"Tricep strength",priority:1},{name:"Push Press",description:"Explosive overhead",priority:2},{name:"DB Shoulder Press",description:"Stabilizer work",priority:3},{name:"Chin-ups",description:"Lat strength",priority:4},{name:"Face Pulls",description:"Rear delt health",priority:5}]},u={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",overhead_press:"Overhead Press"},b=(d,x=r)=>{n(d),l(x),t==null||t({assistanceWork:d,customExercises:x})},C=(d,x)=>{const f=i[d]||[],M=f.some(j=>j.name===x.name);let v;M?v=f.filter(j=>j.name!==x.name):v=[...f,x],b({...i,[d]:v})},A=()=>{if(o.name&&o.targetLift){const d={...o,priority:6,custom:!0},x=i[o.targetLift]||[],f={...i,[o.targetLift]:[...x,d]},M=[...r,d];b(f,M),h({name:"",targetLift:"",category:""}),c(!1)}},q=()=>Object.keys(i).length>0&&Object.values(i).some(d=>(d||[]).length>0),g=()=>Object.values(i).reduce((d,x)=>d+(x||[]).length,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 11: Assistance Work Philosophy and Guidelines"}),e.jsx("p",{className:"text-gray-400",children:"Select assistance exercises to support your main lifts. Focus on compound movements that address weak points."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Assistance Work Principles"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Main lifts first:"})," Assistance never interferes with 5/3/1 performance"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Training economy:"})," Focus on compound, high-value movements"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Address weaknesses:"})," Choose exercises that target your limiting factors"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Progressive overload:"})," Track and progress assistance work systematically"]})]})]})]})}),e.jsx("div",{className:"bg-purple-900/20 border border-purple-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(De,{className:"w-5 h-5 text-purple-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"Kroc Rows Specification"}),e.jsxs("div",{className:"text-purple-200 text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Definition:"})," High-rep single-arm dumbbell rows"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Protocol:"})," 1 hard set × 20-40 reps per arm"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Weight:"})," Heavy enough to challenge in target rep range"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rest:"})," 2-3 minutes between arms"]})]})]})]})}),e.jsx("div",{className:"space-y-6",children:Object.entries(m).map(([d,x])=>e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(jo,{className:"w-6 h-6 text-red-400"}),e.jsxs("h4",{className:"text-lg font-medium text-white",children:[u[d]," Assistance"]}),e.jsxs("span",{className:"text-sm text-gray-400",children:["(",(i[d]||[]).length," selected)"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map(f=>{const M=(i[d]||[]).some(v=>v.name===f.name);return e.jsx("div",{onClick:()=>C(d,f),className:`p-4 rounded border-2 cursor-pointer transition-colors ${M?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:`font-medium ${M?"text-red-300":"text-white"}`,children:f.name}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:f.description}),e.jsxs("span",{className:"text-xs text-gray-500 mt-2 block",children:["Priority #",f.priority]})]}),e.jsx("div",{className:`w-5 h-5 rounded border-2 ${M?"bg-red-500 border-red-500":"border-gray-400"}`,children:M&&e.jsx(ge,{className:"w-full h-full text-white"})})]})},f.name)})}),e.jsxs("button",{onClick:()=>{h({...o,targetLift:d}),c(!0)},className:"mt-3 flex items-center space-x-2 text-blue-400 hover:text-blue-300 text-sm",children:[e.jsx(No,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Custom Exercise"})]})]},d))}),a&&e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg border border-blue-500",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Add Custom Exercise"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Exercise Name"}),e.jsx("input",{type:"text",value:o.name,onChange:d=>h({...o,name:d.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 text-white rounded focus:border-red-500 focus:outline-none",placeholder:"e.g., Bulgarian Split Squats"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Main Lift"}),e.jsxs("select",{value:o.targetLift,onChange:d=>h({...o,targetLift:d.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 text-white rounded focus:border-red-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select target lift"}),Object.entries(u).map(([d,x])=>e.jsx("option",{value:d,children:x},d))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category/Description"}),e.jsx("input",{type:"text",value:o.category,onChange:d=>h({...o,category:d.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 text-white rounded focus:border-red-500 focus:outline-none",placeholder:"e.g., Unilateral quad strength"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:A,disabled:!o.name||!o.targetLift,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Add Exercise"}),e.jsx("button",{onClick:()=>{c(!1),h({name:"",targetLift:"",category:""})},className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"})]})]})]}),g()>0&&e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Selection Summary"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(i).map(([d,x])=>(x||[]).length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-red-400 font-medium mb-2",children:u[d]}),e.jsx("ul",{className:"text-sm text-gray-300 space-y-1",children:(x||[]).map((f,M)=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:f.name}),f.custom&&e.jsx("span",{className:"text-blue-400 text-xs",children:"Custom"})]},M))})]},d))})]}),g()>15&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("strong",{children:"High Exercise Volume Warning:"})," You've selected ",g()," assistance exercises. Consider focusing on 2-3 key exercises per main lift for better recovery and progression."]})]})}),q()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-300 font-medium",children:["Step 11 Complete! Selected ",g()," assistance exercises across your main lifts."]})]})})]})}function on({data:s,updateData:t}){const[i,n]=k.useState(s.triumvirateConfig||{}),[r,l]=k.useState(s.triumvirateCustom||{}),[a,c]=k.useState(null),o={press:{mainLift:"overhead_press",supplemental:{name:"Dips",sets:5,reps:"15 or to failure",category:"tricep_chest"},assistance:{name:"Chin-ups",sets:5,reps:10,category:"lat_strength"}},deadlift:{mainLift:"deadlift",supplemental:{name:"Good Mornings",sets:5,reps:10,category:"posterior_chain"},assistance:{name:"Hanging Leg Raises",sets:5,reps:15,category:"core"}},bench:{mainLift:"bench",supplemental:{name:"DB Rows",sets:5,reps:10,category:"upper_back"},assistance:{name:"Dips",sets:5,reps:15,category:"tricep_chest"}},squat:{mainLift:"squat",supplemental:{name:"Leg Curls",sets:5,reps:10,category:"hamstring"},assistance:{name:"Leg Raises",sets:5,reps:15,category:"core"}}},h={tricep_chest:[{name:"Dips",reps:"15 or failure"},{name:"Close-Grip Bench",reps:"8-12"},{name:"Push-ups",reps:"15-25"},{name:"Tricep Extensions",reps:"10-15"}],lat_strength:[{name:"Chin-ups",reps:"8-12"},{name:"Pull-ups",reps:"8-12"},{name:"Lat Pulldowns",reps:"10-15"},{name:"Assisted Chin-ups",reps:"8-12"}],posterior_chain:[{name:"Good Mornings",reps:"8-12"},{name:"Romanian Deadlifts",reps:"8-12"},{name:"Back Extensions",reps:"12-20"},{name:"Glute-Ham Raises",reps:"8-15"}],upper_back:[{name:"DB Rows",reps:"8-12"},{name:"Barbell Rows",reps:"8-12"},{name:"Cable Rows",reps:"10-15"},{name:"T-Bar Rows",reps:"8-12"}],hamstring:[{name:"Leg Curls",reps:"10-15"},{name:"Romanian Deadlifts",reps:"8-12"},{name:"Glute-Ham Raises",reps:"8-15"},{name:"Stiff-Leg Deadlifts",reps:"10-15"}],core:[{name:"Hanging Leg Raises",reps:"10-20"},{name:"Leg Raises",reps:"15-25"},{name:"Planks",reps:"30-60 sec"},{name:"Ab Wheel",reps:"8-15"}]},m={overhead_press:"Overhead Press",deadlift:"Deadlift",bench:"Bench Press",squat:"Squat"},u={press:"Press Day",deadlift:"Deadlift Day",bench:"Bench Day",squat:"Squat Day"};k.useEffect(()=>{Object.keys(i).length===0&&(n(o),A({triumvirateConfig:o}))},[]);const b=(d,x,f)=>{const M={...i,[d]:{...i[d],[x]:{...f,sets:5,category:f.category||i[d][x].category}}};n(M),A({triumvirateConfig:M})},C=()=>{n(o),l({}),A({triumvirateConfig:o,triumvirateCustom:{}})},A=d=>{t({triumvirateConfig:i,triumvirateCustom:r,...d})},q=()=>Object.keys(i).length===4&&Object.values(i).every(d=>d.supplemental&&d.assistance),g=d=>d.toLowerCase().includes("dip")?"Add weight when all sets completed with bodyweight":d.toLowerCase().includes("chin")||d.toLowerCase().includes("pull")?"Add weight or reps when all sets completed":"Add weight when all sets/reps completed";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:'Step 13: "Triumvirate" Template'}),e.jsx("p",{className:"text-gray-400",children:"Simple 3-exercise template: one main lift, one supplemental exercise, one assistance exercise per day."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Triumvirate Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Rule of Three:"})," Exactly 3 exercises per session - no more, no less"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Simple progression:"})," Add weight when all sets completed successfully"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Quality focus:"})," Perfect form over heavy weight on assistance"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Time efficient:"})," Complete workouts in 45-60 minutes"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wo,{className:"w-6 h-6 text-red-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"Standard Triumvirate Template"})]}),e.jsx("button",{onClick:C,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Reset to Standard"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(i).map(([d,x])=>{var f,M;return e.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"text-white font-medium",children:u[d]}),e.jsx("button",{onClick:()=>c(a===d?null:d),className:"text-blue-400 hover:text-blue-300",children:e.jsx(So,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"pb-2 border-b border-gray-700",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-red-400 font-medium",children:"Main Lift:"}),e.jsx("span",{className:"text-white",children:m[x.mainLift]})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"5/3/1 Protocol"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"text-yellow-400 font-medium",children:"Supplemental:"}),a===d?e.jsx("select",{value:x.supplemental.name,onChange:v=>{const j=h[x.supplemental.category].find(P=>P.name===v.target.value);b(d,"supplemental",j)},className:"text-sm px-2 py-1 bg-gray-700 border border-gray-600 text-white rounded focus:border-red-500",children:(f=h[x.supplemental.category])==null?void 0:f.map(v=>e.jsx("option",{value:v.name,children:v.name},v.name))}):e.jsx("span",{className:"text-white",children:x.supplemental.name})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[x.supplemental.sets," sets × ",x.supplemental.reps]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"text-green-400 font-medium",children:"Assistance:"}),a===d?e.jsx("select",{value:x.assistance.name,onChange:v=>{const j=h[x.assistance.category].find(P=>P.name===v.target.value);b(d,"assistance",j)},className:"text-sm px-2 py-1 bg-gray-700 border border-gray-600 text-white rounded focus:border-red-500",children:(M=h[x.assistance.category])==null?void 0:M.map(v=>e.jsx("option",{value:v.name,children:v.name},v.name))}):e.jsx("span",{className:"text-white",children:x.assistance.name})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[x.assistance.sets," sets × ",x.assistance.reps]})]})]}),a!==d&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:e.jsxs("div",{className:"text-xs text-blue-300",children:[e.jsx(_t,{className:"w-3 h-3 inline mr-1"}),g(x.supplemental.name)]})})]},d)})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(De,{className:"w-6 h-6 text-red-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"Progression Rules"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[e.jsx("h5",{className:"text-yellow-400 font-medium mb-2",children:"Supplemental Exercises"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Complete all prescribed sets and reps"}),e.jsx("li",{children:"• Add weight when successful"}),e.jsx("li",{children:"• Focus on strict form"}),e.jsx("li",{children:"• Rest 2-3 minutes between sets"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[e.jsx("h5",{className:"text-green-400 font-medium mb-2",children:"Assistance Exercises"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Bodyweight exercises: add reps or weight"}),e.jsx("li",{children:"• Weighted exercises: add weight gradually"}),e.jsx("li",{children:"• Don't train to failure"}),e.jsx("li",{children:"• Rest 1-2 minutes between sets"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Exercise Categories & Alternatives"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h).map(([d,x])=>e.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[e.jsx("h5",{className:"text-red-400 font-medium mb-2 capitalize",children:d.replace("_"," ")}),e.jsx("ul",{className:"text-gray-300 text-sm space-y-1",children:x.map((f,M)=>e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:f.name}),e.jsxs("span",{className:"text-gray-400 ml-2",children:["(",f.reps,")"]})]},M))})]},d))})]}),e.jsx("div",{className:"bg-green-900/20 border border-green-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_t,{className:"w-5 h-5 text-green-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-green-300 font-medium mb-2",children:"Why Triumvirate Works"}),e.jsxs("ul",{className:"text-green-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Simplicity:"})," Easy to follow and track progress"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Balance:"})," Covers all movement patterns efficiently"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Sustainability:"})," Low volume prevents burnout"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Proven:"})," Jim Wendler's personal favorite for consistency"]})]})]})]})}),a&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("strong",{children:"Customization Note:"})," The standard Triumvirate is carefully balanced. Only modify exercises if you have specific equipment limitations or injuries."]})]})}),q()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Step 13 Complete! Triumvirate template configured with 3 exercises per day."})]})})]})}function ln({data:s,updateData:t}){const[i,n]=k.useState(s.bibleConfig||{}),[r,l]=k.useState(s.bibleExercises||{}),[a,c]=k.useState(s.bibleVolumeLevel||"moderate"),[o,h]=k.useState(s.bibleExperience||"intermediate"),m={moderate:{label:"Moderate Volume",description:"Good starting point for most lifters",exerciseCount:"5-6 exercises per session",totalSets:"15-20 sets",timeEstimate:"60-75 minutes"},high:{label:"High Volume",description:"For experienced lifters with good recovery",exerciseCount:"6-7 exercises per session",totalSets:"20-25 sets",timeEstimate:"75-90 minutes"},extreme:{label:"Extreme Volume",description:"Maximum work capacity development",exerciseCount:"7-8 exercises per session",totalSets:"25-30 sets",timeEstimate:"90+ minutes"}},u={push_vertical:{name:"Vertical Push",exercises:[{name:"DB Shoulder Press",sets:"5×10-15",intensity:"moderate"},{name:"Push Press",sets:"3×8-12",intensity:"high"},{name:"Pike Push-ups",sets:"3×8-15",intensity:"bodyweight"},{name:"Landmine Press",sets:"4×10-12",intensity:"moderate"}]},push_horizontal:{name:"Horizontal Push",exercises:[{name:"DB Bench Press",sets:"5×10-15",intensity:"moderate"},{name:"Incline DB Press",sets:"4×10-12",intensity:"moderate"},{name:"Push-ups",sets:"3×15-25",intensity:"bodyweight"},{name:"Dips",sets:"3×10-20",intensity:"bodyweight"}]},pull_vertical:{name:"Vertical Pull",exercises:[{name:"Chin-ups",sets:"5×8-12",intensity:"bodyweight"},{name:"Lat Pulldowns",sets:"4×10-15",intensity:"moderate"},{name:"Pull-ups",sets:"4×6-10",intensity:"bodyweight"},{name:"Cable Pulldowns",sets:"3×12-15",intensity:"light"}]},pull_horizontal:{name:"Horizontal Pull",exercises:[{name:"DB Rows",sets:"5×10-15",intensity:"moderate"},{name:"Barbell Rows",sets:"4×8-12",intensity:"moderate"},{name:"Cable Rows",sets:"4×12-15",intensity:"moderate"},{name:"Kroc Rows",sets:"2×20-40",intensity:"high"}]},squat_pattern:{name:"Squat Pattern",exercises:[{name:"Goblet Squats",sets:"3×15-20",intensity:"light"},{name:"Bulgarian Split Squats",sets:"3×10-15",intensity:"moderate"},{name:"Leg Press",sets:"4×15-20",intensity:"moderate"},{name:"Lunges",sets:"3×12-16",intensity:"moderate"}]},hinge_pattern:{name:"Hip Hinge Pattern",exercises:[{name:"Romanian Deadlifts",sets:"4×10-12",intensity:"moderate"},{name:"Good Mornings",sets:"3×10-15",intensity:"moderate"},{name:"Glute-Ham Raises",sets:"3×8-15",intensity:"bodyweight"},{name:"Back Extensions",sets:"3×15-20",intensity:"light"}]},core:{name:"Core/Abs",exercises:[{name:"Hanging Leg Raises",sets:"3×10-20",intensity:"bodyweight"},{name:"Planks",sets:"3×30-60s",intensity:"bodyweight"},{name:"Ab Wheel",sets:"3×8-15",intensity:"bodyweight"},{name:"Russian Twists",sets:"3×20-30",intensity:"light"}]},isolation:{name:"Isolation Work",exercises:[{name:"Bicep Curls",sets:"2×15-20",intensity:"light"},{name:"Tricep Extensions",sets:"2×15-20",intensity:"light"},{name:"Lateral Raises",sets:"2×15-20",intensity:"light"},{name:"Face Pulls",sets:"2×15-20",intensity:"light"}]}},b={press:["push_vertical","pull_horizontal","core","isolation"],deadlift:["hinge_pattern","pull_vertical","squat_pattern","core"],bench:["push_horizontal","pull_horizontal","core","isolation"],squat:["squat_pattern","hinge_pattern","pull_vertical","core"]},C={press:"Press Day",deadlift:"Deadlift Day",bench:"Bench Day",squat:"Squat Day"},A=(j,P,w)=>{const T=r[j]||{},p=T[P]||[],R=p.some(W=>W.name===w.name);let _;if(R)_=p.filter(W=>W.name!==w.name);else{const W=q();if(p.length<W)_=[...p,w];else return}d({bibleExercises:{...r,[j]:{...T,[P]:_}}})},q=()=>{switch(a){case"moderate":return 2;case"high":return 3;case"extreme":return 4;default:return 2}},g=()=>{switch(a){case"moderate":return 1;case"high":return 1.3;case"extreme":return 1.6;default:return 1}},d=j=>{j.bibleExercises&&l(j.bibleExercises),t({bibleConfig:i,bibleExercises:j.bibleExercises??r,bibleVolumeLevel:a,bibleExperience:o,...j})},x=j=>{const P=r[j]||{};return Object.values(P).reduce((w,T)=>w+T.length,0)},f=j=>{const P=r[j]||{};let w=5;return Object.values(P).forEach(T=>{T.forEach(p=>{const R=(p.sets||"").split("×")[0]||"0",_=parseInt(R,10)||0;w+=_*g()})}),Math.round(w)},M=()=>Object.keys(C).every(P=>x(P)>=4),v=()=>{const j=Object.keys(C).reduce((P,w)=>P+f(w),0)/4;return j>25?{level:"extreme",message:"Requires exceptional recovery capacity"}:j>20?{level:"high",message:"Requires good recovery protocols"}:{level:"moderate",message:"Manageable for most lifters"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:'Step 14: "Periodization Bible" Template'}),e.jsx("p",{className:"text-gray-400",children:"High-volume template for advanced lifters focused on maximum work capacity development."})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Periodization Bible Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"High volume approach:"})," 5-8 exercises per session for maximum adaptation"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Movement patterns:"})," Cover all fundamental human movements systematically"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Work capacity:"})," Build ability to handle increasingly larger training loads"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Advanced recovery:"})," Requires excellent nutrition, sleep, and stress management"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Je,{className:"w-6 h-6 text-red-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"Volume Level"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:Object.entries(m).map(([j,P])=>e.jsxs("div",{onClick:()=>c(j),className:`p-4 rounded border-2 cursor-pointer transition-colors ${a===j?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsx("h5",{className:`font-medium mb-2 ${a===j?"text-red-300":"text-white"}`,children:P.label}),e.jsxs("div",{className:"text-sm text-gray-400 space-y-1",children:[e.jsx("p",{children:P.description}),e.jsx("p",{children:P.exerciseCount}),e.jsx("p",{children:P.totalSets}),e.jsx("p",{className:"text-blue-400",children:P.timeEstimate})]})]},j))}),e.jsx("div",{className:`p-3 rounded border ${v().level==="extreme"?"border-red-500 bg-red-900/20":v().level==="high"?"border-yellow-500 bg-yellow-900/20":"border-green-500 bg-green-900/20"}`,children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Recovery Requirement: "}),e.jsx("span",{className:v().level==="extreme"?"text-red-300":v().level==="high"?"text-yellow-300":"text-green-300",children:v().message})]})})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(C).map(([j,P])=>e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ko,{className:"w-6 h-6 text-red-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:P})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[x(j)," exercises • ",f(j)," total sets"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-800 p-3 rounded border-l-4 border-red-500",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-red-400 font-medium",children:"Main Lift: 5/3/1 Protocol"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"3 working sets + warm-up"})]})}),b[j].map(w=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[e.jsxs("h5",{className:"text-white font-medium mb-3",children:[u[w].name,e.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(Select up to ",q(),")"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:u[w].exercises.map(T=>{var W,y,N,O;const p=(y=(W=r[j])==null?void 0:W[w])==null?void 0:y.some(L=>L.name===T.name),_=(((O=(N=r[j])==null?void 0:N[w])==null?void 0:O.length)||0)<q();return e.jsx("div",{onClick:()=>(p||_)&&A(j,w,T),className:`p-3 rounded border cursor-pointer transition-colors text-sm ${p?"border-red-500 bg-red-900/20 text-red-300":_?"border-gray-600 bg-gray-700 hover:border-gray-500 text-white":"border-gray-600 bg-gray-700 opacity-50 cursor-not-allowed text-gray-500"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:T.name}),e.jsx("div",{className:"text-xs text-gray-400",children:T.sets})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${T.intensity==="high"?"bg-red-600 text-white":T.intensity==="moderate"?"bg-yellow-600 text-white":T.intensity==="light"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:T.intensity})]})},T.name)})})]},w))]})]},j))}),Object.keys(r).length>0&&e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"Weekly Volume Summary"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(C).map(([j,P])=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-400 font-medium",children:P}),e.jsxs("div",{className:"text-sm text-gray-300",children:[x(j)," exercises"]}),e.jsxs("div",{className:"text-sm text-gray-300",children:[f(j)," sets"]})]},j))})]}),a==="extreme"&&e.jsx("div",{className:"bg-red-900/20 border border-red-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-red-400 mt-0.5"}),e.jsxs("div",{className:"text-red-200 text-sm",children:[e.jsx("strong",{children:"Extreme Volume Warning:"})," This volume level requires exceptional recovery capacity. Ensure 8+ hours sleep, optimal nutrition, and minimal life stress before attempting."]})]})}),Object.keys(r).some(j=>f(j)>25)&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("strong",{children:"High Volume Alert:"})," Some days exceed 25 total sets. Monitor recovery carefully and be prepared to reduce volume if needed."]})]})}),M()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-300 font-medium",children:["Step 14 Complete! Periodization Bible template configured with ",a," volume level."]})]})})]})}function cn({data:s,updateData:t}){const[i,n]=k.useState(s.bodyweightConfig||{selectedExercises:{squat:[],bench:[],deadlift:[],overhead_press:[]},progressionMethod:"volume",repScheme:"standard",frequency:"daily"}),[r,l]=k.useState(s.customExercises||{}),a={squat:[{name:"Bodyweight Squats",difficulty:"beginner",category:"squat_pattern"},{name:"Jump Squats",difficulty:"intermediate",category:"power"},{name:"Single-Leg Squats (Pistol)",difficulty:"advanced",category:"unilateral"},{name:"Bulgarian Split Squats",difficulty:"intermediate",category:"unilateral"},{name:"Walking Lunges",difficulty:"beginner",category:"unilateral"},{name:"Reverse Lunges",difficulty:"beginner",category:"unilateral"},{name:"Lateral Lunges",difficulty:"intermediate",category:"unilateral"},{name:"Cossack Squats",difficulty:"advanced",category:"mobility"}],bench:[{name:"Push-ups",difficulty:"beginner",category:"push"},{name:"Incline Push-ups",difficulty:"beginner",category:"push"},{name:"Decline Push-ups",difficulty:"intermediate",category:"push"},{name:"Diamond Push-ups",difficulty:"intermediate",category:"tricep_focus"},{name:"Wide-Grip Push-ups",difficulty:"beginner",category:"chest_focus"},{name:"One-Arm Push-ups",difficulty:"advanced",category:"unilateral"},{name:"Handstand Push-ups",difficulty:"advanced",category:"overhead"},{name:"Archer Push-ups",difficulty:"advanced",category:"unilateral"}],deadlift:[{name:"Single-Leg Deadlifts",difficulty:"intermediate",category:"hip_hinge"},{name:"Good Mornings (bodyweight)",difficulty:"beginner",category:"hip_hinge"},{name:"Glute Bridges",difficulty:"beginner",category:"glute_activation"},{name:"Single-Leg Glute Bridges",difficulty:"intermediate",category:"unilateral"},{name:"Jump Squats",difficulty:"intermediate",category:"power"},{name:"Broad Jumps",difficulty:"intermediate",category:"power"},{name:"Wall Sits",difficulty:"beginner",category:"isometric"}],overhead_press:[{name:"Pike Push-ups",difficulty:"intermediate",category:"overhead"},{name:"Handstand Push-ups",difficulty:"advanced",category:"overhead"},{name:"Dips (chair/bench)",difficulty:"intermediate",category:"tricep_focus"},{name:"Pull-ups",difficulty:"intermediate",category:"pull"},{name:"Chin-ups",difficulty:"beginner",category:"pull"},{name:"Assisted Pull-ups",difficulty:"beginner",category:"pull"},{name:"Inverted Rows",difficulty:"beginner",category:"pull"},{name:"Face Pulls (resistance band)",difficulty:"beginner",category:"rear_delt"}]},c=[{name:"Planks",difficulty:"beginner",category:"core"},{name:"Side Planks",difficulty:"beginner",category:"core"},{name:"Mountain Climbers",difficulty:"intermediate",category:"core"},{name:"Dead Bug",difficulty:"beginner",category:"core"},{name:"Bird Dog",difficulty:"beginner",category:"core"},{name:"Hollow Body Hold",difficulty:"intermediate",category:"core"}],o={volume:{name:"Volume Progression",description:"Increase total reps per session",example:"Week 1: 50 push-ups → Week 2: 60 push-ups"},difficulty:{name:"Difficulty Progression",description:"Progress to harder variations",example:"Push-ups → Decline Push-ups → One-Arm Push-ups"},density:{name:"Density Progression",description:"Same work in less time",example:"Complete 100 reps in 15 min → 100 reps in 12 min"},load:{name:"Load Progression",description:"Add weight via vest or backpack",example:"Bodyweight → +10lbs vest → +20lbs vest"}},h={standard:{name:"Standard Sets",description:"Traditional set/rep scheme",example:"3 sets × 15 reps"},cluster:{name:"Cluster Sets",description:"Break large numbers into smaller sets",example:"100 total reps = 10 sets × 10 reps"},time_based:{name:"Time-Based",description:"Work for time rather than reps",example:"3 sets × 30 seconds work"}},m=(d,x)=>{const f=i.selectedExercises[d]||[],M=f.some(j=>j.name===x.name);let v;M?v=f.filter(j=>j.name!==x.name):v=[...f,x],n(j=>({...j,selectedExercises:{...j.selectedExercises,[d]:v}})),C({bodyweightConfig:{...i,selectedExercises:{...i.selectedExercises,[d]:v}}})},u=d=>{n(x=>({...x,progressionMethod:d})),C({bodyweightConfig:{...i,progressionMethod:d}})},b=d=>{n(x=>({...x,repScheme:d})),C({bodyweightConfig:{...i,repScheme:d}})},C=d=>{t({bodyweightConfig:d.bodyweightConfig||i,customExercises:r,...d})},A=()=>Object.values(i.selectedExercises).some(x=>x.length>0)&&i.progressionMethod&&i.repScheme,q={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",overhead_press:"Overhead Press"},g=d=>{switch(d){case"beginner":return"text-green-400 bg-green-900/20 border-green-600";case"intermediate":return"text-yellow-400 bg-yellow-900/20 border-yellow-600";case"advanced":return"text-red-400 bg-red-900/20 border-red-600";default:return"text-gray-400 bg-gray-900/20 border-gray-600"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:'Step 15: "Bodyweight" Template'}),e.jsx("p",{className:"text-gray-400",children:"Equipment-free assistance work using bodyweight movements for when you can't access weights"})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Bodyweight Training Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Perfect for travel, home workouts, or minimal equipment scenarios"}),e.jsx("li",{children:"• Focus on movement quality and progressive overload through volume or difficulty"}),e.jsx("li",{children:"• Use multiple progression methods to continue advancing"}),e.jsx("li",{children:"• Can supplement or replace traditional assistance work"})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Je,{className:"w-5 h-5 mr-2 text-red-400"}),"Progression Method"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(o).map(([d,x])=>e.jsxs("div",{onClick:()=>u(d),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${i.progressionMethod===d?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsx("h5",{className:"text-white font-medium mb-1",children:x.name}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:x.description}),e.jsx("p",{className:"text-gray-500 text-xs italic",children:x.example})]},d))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Fs,{className:"w-5 h-5 mr-2 text-red-400"}),"Rep Scheme"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(h).map(([d,x])=>e.jsxs("div",{onClick:()=>b(d),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${i.repScheme===d?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsx("h5",{className:"text-white font-medium mb-1",children:x.name}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:x.description}),e.jsx("p",{className:"text-gray-500 text-xs italic",children:x.example})]},d))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Co,{className:"w-5 h-5 mr-2 text-red-400"}),"Exercise Selection by Main Lift"]}),Object.entries(a).map(([d,x])=>{var f;return e.jsxs("div",{className:"mb-6 last:mb-0",children:[e.jsxs("h5",{className:"text-white font-medium mb-3 flex items-center",children:[q[d]," Assistance",e.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",((f=i.selectedExercises[d])==null?void 0:f.length)||0," selected)"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:x.map((M,v)=>{var P;const j=(P=i.selectedExercises[d])==null?void 0:P.some(w=>w.name===M.name);return e.jsxs("div",{onClick:()=>m(d,M),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${j?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-white text-sm font-medium",children:M.name}),j&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]}),e.jsx("div",{className:`text-xs px-2 py-1 rounded border ${g(M.difficulty)}`,children:M.difficulty})]},v)})})]},d)})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Be,{className:"w-5 h-5 mr-2 text-red-400"}),"Core Exercise Recommendations"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"These core exercises complement any bodyweight program and should be included 2-3 times per week."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:c.map((d,x)=>e.jsxs("div",{className:"p-3 rounded-lg bg-gray-800 border border-gray-600",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("span",{className:"text-white text-sm font-medium",children:d.name})}),e.jsx("div",{className:`text-xs px-2 py-1 rounded border ${g(d.difficulty)}`,children:d.difficulty})]},x))})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("h5",{className:"font-medium mb-1",children:"Implementation Guidelines"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"• Perform bodyweight work AFTER your main 5/3/1 lift"}),e.jsx("li",{children:"• Start with easier variations and progress systematically"}),e.jsx("li",{children:"• Quality over quantity - perfect form is essential"}),e.jsx("li",{children:"• Track your progression just like weighted exercises"}),e.jsx("li",{children:"• Can be done daily with proper volume management"})]})]})]})}),A()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-300 font-medium",children:["Step 15 Complete! Bodyweight template configured with ",Object.values(i.selectedExercises).flat().length," exercises selected."]})]})})]})}function dn({data:s,updateData:t}){var C,A,q;const[i,n]=k.useState(s.jackShitConfig||{sessionDuration:"20-30",conditioningReplacement:!1,conditioningType:"low_impact",conditioningDuration:15,focusAreas:[],additionalNotes:""}),r={"15-20":{name:"15-20 Minutes",description:"Ultra-quick sessions",suitableFor:"Extreme time constraints"},"20-30":{name:"20-30 Minutes",description:"Standard Jack Shit duration",suitableFor:"Most lifters with time constraints"},"30-40":{name:"30-40 Minutes",description:"Extended sessions with conditioning",suitableFor:"When including conditioning work"}},l={low_impact:{name:"Low Impact Conditioning",exercises:["Walking","Light cycling","Swimming","Rowing (easy pace)"],intensity:"Easy conversational pace",duration:"20-40 minutes"},high_impact:{name:"High Impact Conditioning",exercises:["Hill sprints","Prowler pushes","Kettlebell swings","Bike intervals"],intensity:"High intensity intervals",duration:"15-20 minutes"},none:{name:"No Conditioning",exercises:["Pure 5/3/1 main work only"],intensity:"Focus solely on strength",duration:"15-25 minutes"}},a=[{id:"time_constraints",name:"Time Constraints",description:"Very busy periods in life",icon:Fs},{id:"recovery_issues",name:"Recovery Issues",description:"Overtrained or highly stressed",icon:ke},{id:"simplicity",name:"Simplicity Focus",description:"Want to focus solely on main lifts",icon:De},{id:"experiment",name:"Strength Experiment",description:"Test gains from basics alone",icon:qt}],c=g=>{n(d=>({...d,sessionDuration:g})),u({jackShitConfig:{...i,sessionDuration:g}})},o=g=>{n(d=>({...d,conditioningType:g,conditioningReplacement:g!=="none"})),u({jackShitConfig:{...i,conditioningType:g,conditioningReplacement:g!=="none"}})},h=g=>{const d=i.focusAreas||[],x=d.includes(g);let f;x?f=d.filter(M=>M!==g):f=[...d,g],n(M=>({...M,focusAreas:f})),u({jackShitConfig:{...i,focusAreas:f}})},m=g=>{n(d=>({...d,conditioningDuration:g})),u({jackShitConfig:{...i,conditioningDuration:g}})},u=g=>{t({jackShitConfig:g.jackShitConfig||i,...g})},b=()=>{var g;return i.sessionDuration&&i.conditioningType&&(((g=i.focusAreas)==null?void 0:g.length)||0)>0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:'Step 16: "Jack Shit" Template'}),e.jsx("p",{className:"text-gray-400",children:"The ultimate minimalist approach - just 5/3/1 main work with zero assistance exercises"})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Jack Shit Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Pure focus on the four main lifts - nothing else"}),e.jsx("li",{children:"• Perfect for time-constrained periods or recovery phases"}),e.jsx("li",{children:"• Tests what strength gains come from basics alone"}),e.jsx("li",{children:"• Sessions typically last 20-30 minutes maximum"}),e.jsx("li",{children:"• Can optionally replace assistance with brief conditioning"})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(De,{className:"w-5 h-5 mr-2 text-red-400"}),"Why Are You Using Jack Shit?"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Select your primary reasons for choosing this minimalist approach"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(g=>{const d=g.icon,x=(i.focusAreas||[]).includes(g.id);return e.jsx("div",{onClick:()=>h(g.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${x?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(d,{className:`w-5 h-5 ${x?"text-red-400":"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-white font-medium",children:g.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:g.description})]}),x&&e.jsx(ge,{className:"w-5 h-5 text-red-400 ml-auto"})]})},g.id)})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Po,{className:"w-5 h-5 mr-2 text-red-400"}),"Target Session Duration"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(r).map(([g,d])=>e.jsxs("div",{onClick:()=>c(g),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${i.sessionDuration===g?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsx("h5",{className:"text-white font-medium mb-1",children:d.name}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:d.description}),e.jsx("p",{className:"text-gray-500 text-xs italic",children:d.suitableFor})]},g))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Be,{className:"w-5 h-5 mr-2 text-red-400"}),"Optional Conditioning Integration"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Since there's no assistance work, you can optionally add brief conditioning"}),e.jsx("div",{className:"space-y-4",children:Object.entries(l).map(([g,d])=>e.jsxs("div",{onClick:()=>o(g),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${i.conditioningType===g?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"text-white font-medium",children:d.name}),i.conditioningType===g&&e.jsx(ge,{className:"w-5 h-5 text-red-400"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Exercises:"}),e.jsx("p",{className:"text-gray-300",children:d.exercises.join(", ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Intensity:"}),e.jsx("p",{className:"text-gray-300",children:d.intensity})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Duration:"}),e.jsx("p",{className:"text-gray-300",children:d.duration})]})]})]},g))}),i.conditioningType!=="none"&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Conditioning Duration (minutes)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"range",min:"10",max:"30",value:i.conditioningDuration,onChange:g=>m(parseInt(g.target.value)),className:"flex-1 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"}),e.jsx("span",{className:"text-white font-medium w-12 text-center",children:i.conditioningDuration})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[e.jsx("span",{children:"10 min"}),e.jsx("span",{children:"30 min"})]})]})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Jack Shit Implementation Guidelines"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Session Structure:"}),e.jsx("p",{children:"Warm-up → 5/3/1 main lift → Optional conditioning → Done"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"When to Use:"}),e.jsx("p",{children:"Busy periods, recovery phases, or when testing strength from basics alone"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"What NOT to Do:"}),e.jsx("p",{children:"Don't add assistance exercises - that defeats the purpose of Jack Shit"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Duration Guidelines:"}),e.jsx("p",{children:"Can be used for 3-6 week blocks or indefinitely if meeting goals"})]})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Sample Jack Shit Session"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-900/20 border border-red-600 rounded-full flex items-center justify-center text-red-400 font-medium text-xs",children:"1"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Warm-up:"}),e.jsx("span",{className:"text-gray-400 ml-2",children:"5-8 minutes mobility + specific warm-up sets"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-900/20 border border-red-600 rounded-full flex items-center justify-center text-red-400 font-medium text-xs",children:"2"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Main Work:"}),e.jsx("span",{className:"text-gray-400 ml-2",children:"5/3/1 sets for one main lift (8-12 minutes)"})]})]}),i.conditioningType!=="none"&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-900/20 border border-red-600 rounded-full flex items-center justify-center text-red-400 font-medium text-xs",children:"3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Conditioning:"}),e.jsxs("span",{className:"text-gray-400 ml-2",children:[i.conditioningDuration," minutes ",(C=l[i.conditioningType])==null?void 0:C.name.toLowerCase()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-900/20 border border-green-600 rounded-full flex items-center justify-center text-green-400 font-medium text-xs",children:"✓"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Total Time:"}),e.jsx("span",{className:"text-gray-400 ml-2",children:(A=r[i.sessionDuration])==null?void 0:A.name})]})]})]})]}),b()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-300 font-medium",children:["Step 16 Complete! Jack Shit template configured for ",(q=r[i.sessionDuration])==null?void 0:q.name," sessions",i.conditioningType!=="none"&&` with ${i.conditioningDuration}-minute conditioning`,"."]})]})})]})}function mn({data:s,updateData:t}){var f,M;const[i,n]=k.useState(s.conditioningConfig||{frequency:2,primaryMethod:"prowler",highIntensity:{enabled:!0,duration:15,exercises:[]},lowIntensity:{enabled:!0,duration:30,exercises:[]}}),[r,l]=k.useState(s.recoveryConfig||{sleep:{targetHours:8,priority:"high"},nutrition:{proteinFocus:!0,calorieGoal:"maintenance",hydration:!0},stressManagement:{techniques:[],priority:"medium"},softTissue:{methods:[],frequency:3}});k.useEffect(()=>{n(v=>{const j=(v==null?void 0:v.highIntensity)??{enabled:!0,duration:15,exercises:[]},P=(v==null?void 0:v.lowIntensity)??{enabled:!0,duration:30,exercises:[]},w=Math.max(2,Number((v==null?void 0:v.frequency)??2)),T=(v==null?void 0:v.primaryMethod)||"prowler",p={...v,highIntensity:j,lowIntensity:P,frequency:w,primaryMethod:T};return JSON.stringify(p)!==JSON.stringify(v)&&d({conditioningConfig:p}),p}),l(v=>{const j=(v==null?void 0:v.sleep)??{targetHours:8,priority:"high"},P=(v==null?void 0:v.stressManagement)??{techniques:[],priority:"medium"},w=(v==null?void 0:v.softTissue)??{methods:[],frequency:3},T=(v==null?void 0:v.nutrition)??{proteinFocus:!0,calorieGoal:"maintenance",hydration:!0},p={...v,sleep:j,stressManagement:P,softTissue:w,nutrition:T};return JSON.stringify(p)!==JSON.stringify(v)&&d({recoveryConfig:p}),p})},[]);const a={prowler:{name:"Prowler/Sled Work",description:"Primary conditioning method recommended by Wendler",equipment:"Prowler sled or weight sled",exercises:["Prowler pushes","Prowler pulls","Sled drags","Farmers walks with sled"],intensity:"Variable - can be high or low intensity"},hill_sprints:{name:"Hill Sprints",description:"Minimal equipment alternative for high intensity",equipment:"Hill or incline (6-15% grade)",exercises:["Sprint uphill","Walk down recovery","Tempo runs uphill"],intensity:"High intensity intervals"},bike_intervals:{name:"Bike Intervals",description:"Bike-based high intensity work",equipment:"Stationary bike or road bike",exercises:["Tabata intervals","Sprint intervals","Threshold intervals"],intensity:"High intensity intervals"},rowing:{name:"Rowing",description:"Full-body conditioning option",equipment:"Rowing machine",exercises:["500m intervals","2k time trial","Steady state rowing"],intensity:"Variable intensity"}},c=["Prowler pushes (15-20 minutes)","Hill sprints (10-15 minutes)","Bike intervals (15-20 minutes)","Rower intervals (15-20 minutes)","Kettlebell swings (15 minutes)","Burpees (10-15 minutes)","Mountain climbers (10 minutes)","Battle ropes (15 minutes)"],o=["Walking (30-60 minutes)","Light cycling (30-45 minutes)","Swimming (30-40 minutes)","Easy rowing (30-40 minutes)","Yoga flow (30-45 minutes)","Tai chi (30 minutes)","Light hiking (45-60 minutes)","Stretching routine (20-30 minutes)"],h=[{name:"Deep breathing exercises",description:"5-10 minutes daily"},{name:"Meditation",description:"10-20 minutes daily"},{name:"Journaling",description:"10 minutes before bed"},{name:"Time management",description:"Planning and prioritization"},{name:"Work-life boundaries",description:"Clear separation of work/personal time"},{name:"Social support",description:"Regular contact with friends/family"}],m=[{name:"Foam rolling",description:"10-15 minutes post-workout"},{name:"Massage therapy",description:"Weekly or bi-weekly sessions"},{name:"Stretching routine",description:"15-20 minutes daily"},{name:"Lacrosse ball work",description:"Target specific tight spots"},{name:"Mobility drills",description:"10 minutes pre-workout"},{name:"Sauna/heat therapy",description:"15-20 minutes post-workout"}],u=v=>{const j={...i,primaryMethod:v};n(j),d({conditioningConfig:j})},b=v=>{const j={...i,frequency:v};n(j),d({conditioningConfig:j})},C=v=>{var R;const j=((R=i.highIntensity)==null?void 0:R.exercises)||[],w=j.includes(v)?j.filter(_=>_!==v):[...j,v],T=i.highIntensity||{enabled:!0,duration:15,exercises:[]},p={...i,highIntensity:{...T,exercises:w}};n(p),d({conditioningConfig:p})},A=v=>{var R;const j=((R=i.lowIntensity)==null?void 0:R.exercises)||[],w=j.includes(v)?j.filter(_=>_!==v):[...j,v],T=i.lowIntensity||{enabled:!0,duration:30,exercises:[]},p={...i,lowIntensity:{...T,exercises:w}};n(p),d({conditioningConfig:p})},q=v=>{var p;const j=((p=r.stressManagement)==null?void 0:p.techniques)||[],w=j.includes(v)?j.filter(R=>R!==v):[...j,v],T={...r,stressManagement:{...r.stressManagement,techniques:w}};l(T),d({recoveryConfig:T})},g=v=>{var p;const j=((p=r.softTissue)==null?void 0:p.methods)||[],w=j.includes(v)?j.filter(R=>R!==v):[...j,v],T={...r,softTissue:{...r.softTissue,methods:w}};l(T),d({recoveryConfig:T})},d=v=>{t({conditioningConfig:i,recoveryConfig:r,...v})},x=()=>{var _,W,y,N,O;const v=(((_=i.highIntensity)==null?void 0:_.exercises)||[]).length,j=(((W=i.lowIntensity)==null?void 0:W.exercises)||[]).length,P=Number(i.frequency)>=2&&!!i.primaryMethod&&(v>0||j>0),w=Number(((y=r.sleep)==null?void 0:y.targetHours)??0),T=(((N=r.stressManagement)==null?void 0:N.techniques)||[]).length,p=(((O=r.softTissue)==null?void 0:O.methods)||[]).length,R=w>=7&&T>0&&p>0;return P&&R};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 17: Conditioning and Recovery Integration"}),e.jsx("p",{className:"text-gray-400",children:"Essential conditioning work and recovery protocols to support your 5/3/1 training"})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Conditioning & Recovery Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Conditioning minimum: 2× per week to maintain work capacity"}),e.jsx("li",{children:"• Prowler/sled work is the gold standard for 5/3/1 conditioning"}),e.jsx("li",{children:"• Recovery is not optional - it's where adaptation happens"}),e.jsx("li",{children:"• Sleep is the most important recovery tool you have"}),e.jsx("li",{children:"• Manage life stress to optimize training adaptations"})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(qt,{className:"w-5 h-5 mr-2 text-red-400"}),"Conditioning Protocol"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-white font-medium mb-3",children:"Weekly Conditioning Frequency (Minimum 2×)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"range",min:"2",max:"6",value:i.frequency,onChange:v=>b(parseInt(v.target.value)),className:"flex-1 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"}),e.jsxs("span",{className:"text-white font-medium w-12 text-center",children:[i.frequency,"×"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[e.jsx("span",{children:"2× (minimum)"}),e.jsx("span",{children:"6× (high volume)"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"text-white font-medium mb-3",children:"Primary Conditioning Method"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(a).map(([v,j])=>e.jsxs("div",{onClick:()=>u(v),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${i.primaryMethod===v?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsx("h6",{className:"text-white font-medium mb-1",children:j.name}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:j.description}),e.jsxs("p",{className:"text-gray-500 text-xs",children:["Equipment: ",j.equipment]})]},v))})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Be,{className:"w-5 h-5 mr-2 text-red-400"}),"High Intensity Conditioning (15-20 minutes)"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Select high-intensity conditioning exercises for maximum time efficiency"}),i.highIntensity&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:c.map((v,j)=>{var w;const P=(((w=i.highIntensity)==null?void 0:w.exercises)??[]).includes(v);return e.jsx("div",{onClick:()=>C(v),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${P?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white text-sm",children:v}),P&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]})},j)})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Tr,{className:"w-5 h-5 mr-2 text-red-400"}),"Low Intensity Conditioning (20-40 minutes)"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Select low-intensity activities for active recovery and aerobic base building"}),i.lowIntensity&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.map((v,j)=>{var w;const P=(((w=i.lowIntensity)==null?void 0:w.exercises)??[]).includes(v);return e.jsx("div",{onClick:()=>A(v),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${P?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white text-sm",children:v}),P&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]})},j)})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Wi,{className:"w-5 h-5 mr-2 text-red-400"}),"Recovery Protocols"]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h5",{className:"text-white font-medium mb-3 flex items-center",children:[e.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Sleep (Most Important!)"]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsx("label",{className:"text-gray-400",children:"Target Hours:"}),e.jsx("input",{type:"range",min:"6",max:"10",value:((f=r.sleep)==null?void 0:f.targetHours)??8,onChange:v=>{const j={...r,sleep:{...r.sleep,targetHours:parseInt(v.target.value)}};l(j),d({recoveryConfig:j})},className:"flex-1 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"}),e.jsxs("span",{className:"text-white font-medium w-12 text-center",children:[((M=r.sleep)==null?void 0:M.targetHours)??8,"h"]})]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Recommendation: 7-9 hours nightly for optimal recovery"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h5",{className:"text-white font-medium mb-3 flex items-center",children:[e.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Nutrition Focus"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg border border-gray-600",children:[e.jsx("h6",{className:"text-white font-medium mb-1",children:"Protein Priority"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"0.8-1.2g per lb bodyweight"})]}),e.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg border border-gray-600",children:[e.jsx("h6",{className:"text-white font-medium mb-1",children:"Adequate Calories"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Support training demands"})]}),e.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg border border-gray-600",children:[e.jsx("h6",{className:"text-white font-medium mb-1",children:"Hydration"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Half bodyweight in ounces daily"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Ar,{className:"w-5 h-5 mr-2 text-red-400"}),"Stress Management Techniques"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Select techniques to manage life stress and optimize recovery"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((v,j)=>{var w;const P=(((w=r.stressManagement)==null?void 0:w.techniques)||[]).includes(v.name);return e.jsxs("div",{onClick:()=>q(v.name),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${P?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h6",{className:"text-white font-medium",children:v.name}),P&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:v.description})]},j)})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(qt,{className:"w-5 h-5 mr-2 text-red-400"}),"Soft Tissue Maintenance"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Select methods for maintaining tissue quality and mobility"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map((v,j)=>{var w;const P=(((w=r.softTissue)==null?void 0:w.methods)||[]).includes(v.name);return e.jsxs("div",{onClick:()=>g(v.name),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${P?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h6",{className:"text-white font-medium",children:v.name}),P&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:v.description})]},j)})})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Critical Recovery Guidelines"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"• Sleep is non-negotiable - prioritize 7-9 hours nightly"}),e.jsx("li",{children:"• Conditioning supports strength training, not the other way around"}),e.jsx("li",{children:"• Life stress directly impacts training recovery - manage it actively"}),e.jsx("li",{children:"• Consistency beats intensity for long-term conditioning gains"}),e.jsx("li",{children:"• If you can only do one thing, choose sleep over everything else"})]})]})]})}),x()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-300 font-medium",children:["Step 17 Complete! Conditioning and recovery protocols configured for ",i.frequency,"× weekly conditioning with ",r.sleep.targetHours," hours target sleep."]})]})})]})}function hn({data:s,updateData:t}){var A,q,g,d,x,f,M,v,j;const[i,n]=k.useState(s.customizationConfig||{primaryGoal:"",repRecordTracking:{enabled:!0,prDetection:!0,e1rmCalculation:!0,historicalData:!0},autoRegulation:{enabled:!1,rpeIntegration:!1,biofeedback:!1,flexibleProgression:!1},specialization:{enabled:!1,weakLiftFocus:"",pauseTraining:!1,speedWork:!1},printableSheets:{enabled:!0,includeWarmups:!0,includeNotes:!0,weeklyFormat:!0},progressVisualization:{enabled:!0,cycleComparison:!0,strengthTrends:!0,volumeTracking:!0}});k.useEffect(()=>{var w,T,p,R,_,W,y,N,O,L,V,Z,pe,je,Le,H,X,ae,me,fe;const P={primaryGoal:i.primaryGoal||"",repRecordTracking:{enabled:((w=i.repRecordTracking)==null?void 0:w.enabled)??!0,prDetection:((T=i.repRecordTracking)==null?void 0:T.prDetection)??!0,e1rmCalculation:((p=i.repRecordTracking)==null?void 0:p.e1rmCalculation)??!0,historicalData:((R=i.repRecordTracking)==null?void 0:R.historicalData)??!0},autoRegulation:{enabled:((_=i.autoRegulation)==null?void 0:_.enabled)??!1,rpeIntegration:((W=i.autoRegulation)==null?void 0:W.rpeIntegration)??!1,biofeedback:((y=i.autoRegulation)==null?void 0:y.biofeedback)??!1,flexibleProgression:((N=i.autoRegulation)==null?void 0:N.flexibleProgression)??!1},specialization:{enabled:((O=i.specialization)==null?void 0:O.enabled)??!1,weakLiftFocus:((L=i.specialization)==null?void 0:L.weakLiftFocus)||"",pauseTraining:((V=i.specialization)==null?void 0:V.pauseTraining)??!1,speedWork:((Z=i.specialization)==null?void 0:Z.speedWork)??!1},printableSheets:{enabled:((pe=i.printableSheets)==null?void 0:pe.enabled)??!0,includeWarmups:((je=i.printableSheets)==null?void 0:je.includeWarmups)??!0,includeNotes:((Le=i.printableSheets)==null?void 0:Le.includeNotes)??!0,weeklyFormat:((H=i.printableSheets)==null?void 0:H.weeklyFormat)??!0},progressVisualization:{enabled:((X=i.progressVisualization)==null?void 0:X.enabled)??!0,cycleComparison:((ae=i.progressVisualization)==null?void 0:ae.cycleComparison)??!0,strengthTrends:((me=i.progressVisualization)==null?void 0:me.strengthTrends)??!0,volumeTracking:((fe=i.progressVisualization)==null?void 0:fe.volumeTracking)??!0}};t({step18:{customizationConfig:P}})},[i,t]);const r={raw_strength:{name:"Raw Strength Focus",description:"Maximize strength in competition lifts",tmRecommendation:"90% for heavy singles practice",assistanceApproach:"Focus on competition commands and technique",frequencyRecommendation:"2-3× per week per lift",specificFeatures:["Competition command practice","Pause training integration","Heavy single preparation","Technique refinement focus"]},muscle_building:{name:"Muscle Building Focus",description:"Maximize muscle hypertrophy and size",tmRecommendation:"85% for higher volume tolerance",assistanceApproach:"Emphasize bodybuilding accessories",frequencyRecommendation:"Higher total weekly volume",specificFeatures:["Higher assistance volume","Hypertrophy rep ranges","Bodybuilding accessories","Volume progression focus"]},athletic_performance:{name:"Athletic Performance",description:"Enhance sport-specific performance",tmRecommendation:"85-90% based on sport demands",assistanceApproach:"Sport-specific movement patterns",frequencyRecommendation:"Balanced with sport training",specificFeatures:["Explosive movement training","Sport-specific conditioning","Power development focus","Recovery prioritization"]}},l=[{id:"rpeIntegration",name:"RPE Integration",description:"Stop AMRAP sets at RPE 8-9",implementation:"Use perceived exertion to guide set termination"},{id:"biofeedback",name:"Biofeedback Monitoring",description:"Adjust based on HRV, sleep, mood",implementation:"Daily readiness assessments guide training adjustments"},{id:"flexibleProgression",name:"Flexible Progression",description:"Skip increments if performance drops",implementation:"Maintain TM when performance indicators decline"}],a=[{id:"weakLiftFocus",name:"Weak Lift Specialization",description:"Extra frequency or volume for lagging lift",options:["squat","bench","deadlift","overhead_press"]},{id:"pauseTraining",name:"Pause Training",description:"Incorporate competition commands",implementation:"Add paused reps to build competition readiness"},{id:"speedWork",name:"Speed Work",description:"Dynamic effort percentages",implementation:"50-60% for 8-10 sets of 3 reps with maximum speed"}],c=P=>{const w={...i,primaryGoal:P};n(w),u({customizationConfig:w})},o=(P,w)=>{const T={...i,[P]:{...i[P],[w]:!i[P][w]}};n(T),u({customizationConfig:T})},h=P=>{var T;if(P==="weakLiftFocus")return;const w={...i,specialization:{...i.specialization,[P]:!((T=i.specialization)!=null&&T[P])}};n(w),u({customizationConfig:w})},m=P=>{var p;const w=(p=i.specialization)==null?void 0:p.weakLiftFocus,T={...i,specialization:{...i.specialization,weakLiftFocus:w===P?"":P}};n(T),u({customizationConfig:T})},u=P=>{t({customizationConfig:i,...P})},b=()=>{var P,w,T;return i.primaryGoal!==""&&(((P=i.repRecordTracking)==null?void 0:P.enabled)||((w=i.printableSheets)==null?void 0:w.enabled)||((T=i.progressVisualization)==null?void 0:T.enabled))},C={squat:"Squat",bench:"Bench Press",deadlift:"Deadlift",overhead_press:"Overhead Press"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 18: Program Customization and Advanced Considerations"}),e.jsx("p",{className:"text-gray-400",children:"Advanced features, goal-specific adjustments, and progress tracking systems"})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Advanced 5/3/1 Philosophy"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"• The basics work for 99% of lifters - use advanced features sparingly"}),e.jsx("li",{children:"• Goal-specific adjustments should enhance, not complicate the program"}),e.jsx("li",{children:"• Progress tracking and rep records are essential for long-term success"}),e.jsx("li",{children:"• Auto-regulation can help but should not replace systematic progression"}),e.jsx("li",{children:"• Specialization phases are temporary - return to balanced training"})]})]})]})}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(De,{className:"w-5 h-5 mr-2 text-red-400"}),"Primary Training Goal"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Select your primary goal to customize program recommendations"}),e.jsx("div",{className:"space-y-4",children:Object.entries(r).map(([P,w])=>e.jsxs("div",{onClick:()=>c(P),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${i.primaryGoal===P?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"text-white font-medium",children:w.name}),i.primaryGoal===P&&e.jsx(ge,{className:"w-5 h-5 text-red-400"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:w.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"TM Recommendation:"}),e.jsx("p",{className:"text-gray-300",children:w.tmRecommendation})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Assistance Approach:"}),e.jsx("p",{className:"text-gray-300",children:w.assistanceApproach})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Frequency:"}),e.jsx("p",{className:"text-gray-300",children:w.frequencyRecommendation})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Features:"}),e.jsx("p",{className:"text-gray-300",children:w.specificFeatures.join(", ")})]})]})]},P))})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Mo,{className:"w-5 h-5 mr-2 text-red-400"}),"Rep Record Tracking System"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Configure automatic tracking of personal records and progress metrics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({prDetection:"Automatic PR Detection",e1rmCalculation:"Estimated 1RM Tracking",historicalData:"Historical Data Comparison",enabled:"Enable Rep Record System"}).map(([P,w])=>{var T,p;return e.jsx("div",{onClick:()=>o("repRecordTracking",P),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${(T=i.repRecordTracking)!=null&&T[P]?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white font-medium",children:w}),((p=i.repRecordTracking)==null?void 0:p[P])&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]})},P)})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Ar,{className:"w-5 h-5 mr-2 text-red-400"}),"Auto-Regulation Options (Advanced)"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Advanced features for experienced lifters to auto-regulate training"}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{onClick:()=>o("autoRegulation","enabled"),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${(A=i.autoRegulation)!=null&&A.enabled?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white font-medium",children:"Enable Auto-Regulation"}),((q=i.autoRegulation)==null?void 0:q.enabled)&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]})})}),((g=i.autoRegulation)==null?void 0:g.enabled)&&e.jsx("div",{className:"space-y-3",children:l.map(P=>{var w,T;return e.jsxs("div",{onClick:()=>o("autoRegulation",P.id),className:`p-3 rounded-lg border cursor-pointer transition-all ${(w=i.autoRegulation)!=null&&w[P.id]?"border-red-500 bg-red-900/10":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h6",{className:"text-white font-medium",children:P.name}),((T=i.autoRegulation)==null?void 0:T[P.id])&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:P.description}),e.jsx("p",{className:"text-gray-500 text-xs",children:P.implementation})]},P.id)})})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Be,{className:"w-5 h-5 mr-2 text-red-400"}),"Specialization Phases (Temporary)"]}),e.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Temporary modifications to address specific weaknesses or goals"}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{onClick:()=>o("specialization","enabled"),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${(d=i.specialization)!=null&&d.enabled?"border-red-500 bg-red-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white font-medium",children:"Enable Specialization Phase"}),((x=i.specialization)==null?void 0:x.enabled)&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]})})}),((f=i.specialization)==null?void 0:f.enabled)&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg",children:[e.jsx("h6",{className:"text-white font-medium mb-3",children:"Weak Lift Focus"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(C).map(([P,w])=>{var T;return e.jsx("div",{onClick:()=>m(P),className:`p-2 text-center rounded border cursor-pointer transition-all ${((T=i.specialization)==null?void 0:T.weakLiftFocus)===P?"border-red-500 bg-red-900/20 text-red-300":"border-gray-600 bg-gray-700 text-gray-300 hover:border-gray-500"}`,children:e.jsx("span",{className:"text-sm",children:w})},P)})})]}),a.slice(1).map(P=>{var w,T;return e.jsxs("div",{onClick:()=>h(P.id),className:`p-3 rounded-lg border cursor-pointer transition-all ${(w=i.specialization)!=null&&w[P.id]?"border-red-500 bg-red-900/10":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h6",{className:"text-white font-medium",children:P.name}),((T=i.specialization)==null?void 0:T[P.id])&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:P.description}),P.implementation&&e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:P.implementation})]},P.id)})]})]}),e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[e.jsx(Ds,{className:"w-5 h-5 mr-2 text-red-400"}),"Progress Tracking & Visualization"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h6",{className:"text-white font-medium",children:"Printable Workout Sheets"}),Object.entries({enabled:"Enable Printable Sheets",includeWarmups:"Include Warm-up Sets",includeNotes:"Include Notes Section",weeklyFormat:"Weekly Format Layout"}).map(([P,w])=>{var T,p;return e.jsx("div",{onClick:()=>o("printableSheets",P),className:`p-3 rounded-lg border cursor-pointer transition-all ${(T=i.printableSheets)!=null&&T[P]?"border-red-500 bg-red-900/10":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white text-sm",children:w}),((p=i.printableSheets)==null?void 0:p[P])&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]})},P)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h6",{className:"text-white font-medium",children:"Progress Visualization"}),Object.entries({enabled:"Enable Progress Charts",cycleComparison:"Cycle-to-Cycle Comparison",strengthTrends:"Strength Trend Analysis",volumeTracking:"Volume Load Tracking"}).map(([P,w])=>{var T,p;return e.jsx("div",{onClick:()=>o("progressVisualization",P),className:`p-3 rounded-lg border cursor-pointer transition-all ${(T=i.progressVisualization)!=null&&T[P]?"border-red-500 bg-red-900/10":"border-gray-600 bg-gray-800 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white text-sm",children:w}),((p=i.progressVisualization)==null?void 0:p[P])&&e.jsx(ge,{className:"w-4 h-4 text-red-400"})]})},P)})]})]})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-yellow-200 text-sm",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Advanced Feature Guidelines"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"• Start with basic 5/3/1 before adding advanced features"}),e.jsx("li",{children:"• Auto-regulation should enhance, not replace systematic progression"}),e.jsx("li",{children:"• Specialization phases are temporary (3-6 weeks maximum)"}),e.jsx("li",{children:"• Track progress consistently but don't overcomplicate"}),e.jsx("li",{children:"• Most lifters need only basic program setup - advanced features are optional"})]})]})]})}),b()&&e.jsx("div",{className:"bg-green-900/20 border border-green-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-300 font-medium",children:["🎉 Complete 5/3/1 System Setup Finished! Your ",((M=r[i.primaryGoal])==null?void 0:M.name)||"custom"," program is ready with",(v=i.autoRegulation)!=null&&v.enabled?" auto-regulation":"",(j=i.specialization)!=null&&j.enabled?" and specialization features":""," enabled."]})]})})]})}const Ho=nt??nt;function zo(){var q;const s="five_three_one_workflow",[t,i]=k.useState(0),[n,r]=k.useState(null),l=k.useRef(null),[a,c]=k.useState({maxes:{squat:null,bench:null,deadlift:null,press:null},schedule:"four_day",percentageOption:"option1",assistanceTemplate:"bbb",assistanceLevel:"intermediate",deadliftStyle:"touch_and_go",includeConditioning:!1,conditioningType:"prowler",includeWarmup:!0,microProgression:!1,roundTo:5,generatedProgram:null});if(k.useEffect(()=>{try{const g=localStorage.getItem(s);if(g){const d=JSON.parse(g);d&&typeof d=="object"&&c(x=>({...x,...d}))}}catch(g){console.warn("Failed to load saved 5/3/1 workflow from localStorage:",g)}},[]),k.useEffect(()=>{(async()=>{try{const{data:{user:g}}=await $i.auth.getUser();if(!(g!=null&&g.id))return;const d=await Oo("user_programs",g.id);d!=null&&d.five_three_one_workflow&&typeof d.five_three_one_workflow=="object"&&c(x=>({...x,...d.five_three_one_workflow}))}catch(g){console.log("Cloud load skipped:",(g==null?void 0:g.message)||g)}})()},[]),k.useEffect(()=>{let g=!1;async function d(){try{const{loadPack531BBB:x}=await Bo(async()=>{const{loadPack531BBB:M}=await import("./loadPack-BvEMKa-T.js");return{loadPack531BBB:M}},[]),f=await x();!g&&f&&(l.current=f,console.log("Loaded 531 BBB pack:",f))}catch(x){console.warn("Failed to load method pack:",x)}}return d(),()=>{g=!0}},[]),k.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(a))}catch(g){console.warn("Autosave failed (localStorage):",g)}},[a]),n)return e.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-red-300 font-bold mb-2",children:"Error in 5/3/1 Workflow"}),e.jsx("p",{className:"text-red-400",children:n.message}),e.jsx("button",{onClick:()=>r(null),className:"mt-4 bg-red-600 text-white px-4 py-2 rounded",children:"Reset"})]});k.useCallback(()=>{console.log("🎯 Generating Complete 5/3/1 Program...");try{const g=new Ho,d=g.validateMaxes(a.maxes);if(d.length>0)throw new Error(`Validation failed: ${d.join(", ")}`);const x=g.generateCycle(g.calculateAllTrainingMaxes(a.maxes,a.roundTo),{schedule:a.schedule,percentageOption:a.percentageOption,assistanceTemplate:a.assistanceTemplate,assistanceLevel:a.assistanceLevel,roundTo:a.roundTo,includeWarmup:a.includeWarmup});c(f=>({...f,generatedProgram:x})),console.log("✅ Generated Complete Program:",x)}catch(g){console.error("❌ Error generating program:",g),r(g)}},[a.maxes,a.schedule,a.percentageOption,a.assistanceTemplate,a.assistanceLevel,a.roundTo,a.includeWarmup]);const o=k.useMemo(()=>[{id:"maxes",title:"Current Maxes",description:"Enter 1RMs or calculate from rep tests",icon:De,component:Yi},{id:"core_lifts",title:"Core Lifts + Frequency",description:"Choose core lifts, equipment, injuries, and weekly frequency",icon:De,component:Qi},{id:"schedule",title:"Training Schedule",description:"Choose 4/3/2/1 day schedule",icon:es,component:Ki},{id:"warmup",title:"Warm-Up & Mobility",description:"Configure warm-up style and mobility work",icon:es,component:Ui},{id:"cycle",title:"5/3/1 Cycle Structure",description:"Loading option, deadlift style, and multi-cycle preview",icon:Je,component:Xi},{id:"week1",title:"Week 1 – 3×5 Execution",description:"Rep targets, bad day protocol, rests, and cues",icon:Gi,component:Ji},{id:"week2",title:"Week 2 – 5/3/1 Execution",description:"Heavier week with 3s; log AMRAP and notes",icon:Je,component:Zi},{id:"week3",title:"Week 3 – 1+ Execution",description:"Peak week; log singles and AMRAP",icon:Je,component:en},{id:"week4",title:"Week 4 – Deload",description:"Light week to recover; no AMRAP sets",icon:ii,component:sn},{id:"progression",title:"Cycle Progression",description:"Set new training maxes for next cycle",icon:Je,component:tn},{id:"stalling",title:"Stalling & Reset",description:"Detect stalls and apply resets as needed",icon:ni,component:nn},{id:"percentages",title:"BBB Template",description:"Configure Boring But Big assistance (5x10 at 50-70% TM)",icon:Be,component:rn},{id:"triumvirate",title:"Triumvirate Template",description:"One main lift + one supplemental + one assistance per day (exact manual defaults, editable)",icon:Be,component:on},{id:"assistance",title:"Assistance Work – Philosophy & Guidelines",description:"Select assistance exercises by main lift; follow principles for training economy and weak-point training",icon:Be,component:an},{id:"periodization_bible",title:"Periodization Bible Template",description:"High-volume template for advanced lifters with movement pattern selections and volume controls",icon:Be,component:ln},{id:"options",title:"Program Options",description:"Conditioning, warm-up, progression",icon:Et,component:"ProgramOptionsStep"},{id:"bodyweight",title:"Bodyweight Template",description:"Equipment-free assistance template with progression methods and rep schemes",icon:Be,component:cn},{id:"jack_shit",title:"Jack Shit Template",description:"Minimalist 5/3/1: main lifts only with optional brief conditioning",icon:Be,component:dn},{id:"conditioning_recovery",title:"Conditioning & Recovery Integration",description:"Configure conditioning frequency/methods and essential recovery protocols (sleep, stress, tissue)",icon:Be,component:mn},{id:"program_customization",title:"Program Customization & Advanced",description:"Goal-based adjustments, PR tracking, auto-regulation, specialization, and visualization options",icon:Et,component:hn},{id:"generate",title:"Program Generation",description:"Generate complete 5/3/1 program",icon:Gi,component:"ProgramGenerationStep"}],[]),h=k.useCallback(()=>{i(g=>Math.min(g+1,o.length-1))},[o.length]),m=k.useCallback(()=>{i(g=>Math.max(0,g-1))},[]),u=k.useCallback(g=>{i(g)},[]),b=()=>{var x,f,M,v,j,P,w,T,p,R,_,W,y,N,O;const g=o[t],d=g==null?void 0:g.component;if(typeof d=="string")return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-900/20 border border-blue-600 rounded-lg p-4",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:(g==null?void 0:g.title)||"Upcoming Feature"}),(g==null?void 0:g.description)&&e.jsx("p",{className:"text-gray-300 mt-1",children:g.description})]}),e.jsx("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4 text-gray-300",children:"This step isn’t available yet in this build. You can still review previous steps or continue planning."})]});if(!d)return null;switch(g.id){case"maxes":return e.jsx(Yi,{data:a.step1||{},updateData:L=>c(V=>({...V,step1:{...V.step1||{},...L}}))});case"core_lifts":return e.jsx(Qi,{data:a.step2||{},updateData:L=>c(V=>({...V,step2:{...V.step2||{},...L}}))});case"schedule":return e.jsx(Ki,{programData:a,setProgramData:c});case"warmup":return e.jsx(Ui,{data:{trainingMaxes:((x=a==null?void 0:a.step1)==null?void 0:x.trainingMaxes)||{},schedule:{frequency:"4day"},warmup:{policy:"standard"},supplemental:{type:"fsl"},programmingApproach:"basic",leaderAnchorPattern:"2+1",assistanceConfig:{mode:"minimal"},equipmentMap:{barbell:!0,plates:!0,bench:!0,squat_rack:!0}},updateData:L=>c(V=>({...V,step3:{...V.step3||{},...L}}))});case"cycle":return e.jsx(Xi,{data:a.step4||{trainingMaxes:((f=a==null?void 0:a.step1)==null?void 0:f.trainingMaxes)||{}},updateData:L=>c(V=>({...V,step4:{...V.step4||{},...L}}))});case"week1":return e.jsx(Ji,{data:a.step5||{trainingMaxes:((M=a==null?void 0:a.step1)==null?void 0:M.trainingMaxes)||{},loadingOption:((v=a==null?void 0:a.step4)==null?void 0:v.loadingOption)||1},updateData:L=>c(V=>({...V,step5:{...V.step5||{},...L}}))});case"week2":return e.jsx(Zi,{data:a.step6||{trainingMaxes:((j=a==null?void 0:a.step1)==null?void 0:j.trainingMaxes)||{},loadingOption:((P=a==null?void 0:a.step4)==null?void 0:P.loadingOption)||1,schedule:(a==null?void 0:a.schedule)||{frequency:"4day",liftOrder:["overhead_press","deadlift","bench","squat"]},week1Results:(a==null?void 0:a.step5)||{}},updateData:L=>c(V=>({...V,step6:{...V.step6||{},...L}}))});case"week3":return e.jsx(en,{data:a.step7||{trainingMaxes:((w=a==null?void 0:a.step1)==null?void 0:w.trainingMaxes)||{},loadingOption:((T=a==null?void 0:a.step4)==null?void 0:T.loadingOption)||1,schedule:(a==null?void 0:a.schedule)||{frequency:"4day",liftOrder:["overhead_press","deadlift","bench","squat"]},week2Results:((p=a==null?void 0:a.step6)==null?void 0:p.week2Results)||{}},updateData:L=>c(V=>({...V,step7:{...V.step7||{},...L}}))});case"week4":return e.jsx(sn,{data:a.step8||{trainingMaxes:((R=a==null?void 0:a.step1)==null?void 0:R.trainingMaxes)||{},schedule:(a==null?void 0:a.schedule)||{frequency:"4day",liftOrder:["overhead_press","deadlift","bench","squat"]}},updateData:L=>c(V=>({...V,step8:{...V.step8||{},...L}}))});case"progression":return e.jsx(tn,{data:a.step9||{trainingMaxes:((_=a==null?void 0:a.step1)==null?void 0:_.trainingMaxes)||{},week3Results:((W=a==null?void 0:a.step7)==null?void 0:W.week3Results)||{},schedule:(a==null?void 0:a.schedule)||{frequency:"4day",liftOrder:["overhead_press","deadlift","bench","squat"]}},updateData:L=>c(V=>({...V,step9:{...V.step9||{},...L}}))});case"stalling":return e.jsx(nn,{data:a.step10||{trainingMaxes:((y=a==null?void 0:a.step1)==null?void 0:y.trainingMaxes)||{},week3Results:((N=a==null?void 0:a.step7)==null?void 0:N.week3Results)||{},previousCycles:(a==null?void 0:a.previousCycles)||[],schedule:(a==null?void 0:a.schedule)||{frequency:"4day",liftOrder:["overhead_press","deadlift","bench","squat"]}},updateData:L=>c(V=>({...V,step10:{...V.step10||{},...L}}))});case"percentages":return e.jsx(rn,{data:a.step12||{trainingMaxes:((O=a==null?void 0:a.step1)==null?void 0:O.trainingMaxes)||{},bbbConfig:{},bbbPairings:{},bbbIntensity:"beginner",bbbAdditionalAssistance:[]},updateData:L=>c(V=>({...V,step12:{...V.step12||{},...L}}))});case"triumvirate":return e.jsx(on,{data:a.step13||{triumvirateConfig:{},triumvirateCustom:{}},updateData:L=>c(V=>({...V,step13:{...V.step13||{},...L}}))});case"assistance":return e.jsx(an,{data:a.step11||{assistanceWork:{},customExercises:[]},updateData:L=>c(V=>({...V,step11:{...V.step11||{},...L}}))});case"periodization_bible":return e.jsx(ln,{data:a.step14||{bibleConfig:{},bibleExercises:{},bibleVolumeLevel:"moderate",bibleExperience:"intermediate"},updateData:L=>c(V=>({...V,step14:{...V.step14||{},...L}}))});case"bodyweight":return e.jsx(cn,{data:a.step15||{bodyweightConfig:{selectedExercises:{squat:[],bench:[],deadlift:[],overhead_press:[]},progressionMethod:"volume",repScheme:"standard",frequency:"daily"},customExercises:{}},updateData:L=>c(V=>({...V,step15:{...V.step15||{},...L}}))});case"jack_shit":return e.jsx(dn,{data:a.step16||{jackShitConfig:{sessionDuration:"20-30",conditioningReplacement:!1,conditioningType:"low_impact",conditioningDuration:15,focusAreas:[],additionalNotes:""}},updateData:L=>c(V=>({...V,step16:{...V.step16||{},...L}}))});case"conditioning_recovery":return e.jsx(mn,{data:a.step17||{conditioningConfig:{},recoveryConfig:{}},updateData:L=>c(V=>({...V,step17:{...V.step17||{},...L}}))});case"program_customization":return e.jsx(hn,{data:a.step18||{customizationConfig:{}},updateData:L=>c(V=>({...V,step18:{...V.step18||{},...L}}))});default:return e.jsx(d,{programData:a,setProgramData:c})}},C=k.useCallback(()=>{var d,x,f,M,v,j,P,w,T,p,R,_,W;switch((d=o[t])==null?void 0:d.id){case"maxes":{const y=(x=a==null?void 0:a.step1)==null?void 0:x.trainingMaxes;return y?["squat","bench","deadlift","overhead_press"].every(O=>typeof y[O]=="number"&&y[O]>0):!1}case"core_lifts":{const y=(a==null?void 0:a.step2)||{},N=y.coreLifts;if(!N)return!1;const O=["squat","bench","deadlift","overhead_press"].every(pe=>typeof N[pe]=="string"&&N[pe]!==""),L=Object.entries(N).every(([pe,je])=>je!=="custom"?!0:!!(y.customLifts&&y.customLifts[pe]&&y.customLifts[pe].trim())),V=typeof y.trainingFrequency=="string"&&y.trainingFrequency.length>0,Z=typeof y.schedulePattern=="string"&&y.schedulePattern.length>0;return O&&L&&V&&Z}case"schedule":return!!a.schedule;case"warmup":return!!((f=a==null?void 0:a.step3)!=null&&f.warmUpStyle);case"cycle":{const y=(a==null?void 0:a.step4)||{},N=y.trainingMaxes&&Object.keys(y.trainingMaxes).length>0,O=typeof y.deadliftStyle=="string"&&y.deadliftStyle.length>0;return!!N&&O}case"week1":{const y=(a==null?void 0:a.step5)||{},N=typeof y.executionStrategy=="string"&&y.executionStrategy.length>0,O=typeof y.badDayProtocol=="string"&&y.badDayProtocol.length>0;return N&&O}case"week2":{const y=(a==null?void 0:a.step6)||{},N=y.schedule||{liftOrder:[]},O=Array.isArray(N.liftOrder)?N.liftOrder:[];if(O.length===0)return!1;const L=y.week2Results||{};return O.every(V=>{var Z;return(Z=L==null?void 0:L[V])==null?void 0:Z.completed})}case"week3":{const y=(a==null?void 0:a.step7)||{},N=y.schedule||(a==null?void 0:a.schedule)||{liftOrder:[]},O=Array.isArray(N.liftOrder)?N.liftOrder:[];if(O.length===0)return!1;const L=y.week3Results||{};return O.every(V=>{var Z;return(Z=L==null?void 0:L[V])==null?void 0:Z.completed})}case"week4":{const y=(a==null?void 0:a.step8)||{},N=y.schedule||(a==null?void 0:a.schedule)||{liftOrder:[]},O=Array.isArray(N.liftOrder)?N.liftOrder:[];if(O.length===0)return!1;const L=y.deloadResults||{};return O.every(V=>{var Z;return(Z=L==null?void 0:L[V])==null?void 0:Z.completed})}case"progression":{const y=(a==null?void 0:a.step9)||{},N=y.schedule||(a==null?void 0:a.schedule)||{liftOrder:[]},O=Array.isArray(N.liftOrder)?N.liftOrder:[];if(O.length===0)return!1;const L=y.newTrainingMaxes||{};return O.every(V=>typeof(L==null?void 0:L[V])=="number"&&(L==null?void 0:L[V])>0)}case"stalling":{const y=(a==null?void 0:a.step10)||{},N=y.schedule||(a==null?void 0:a.schedule)||{liftOrder:[]},O=Array.isArray(N.liftOrder)?N.liftOrder:[];if(O.length===0)return!1;const L=y.resetDecisions||{};return O.every(V=>(L==null?void 0:L[V])!==void 0)}case"assistance":{const N=((a==null?void 0:a.step11)||{}).assistanceWork||{};return Object.values(N).map(L=>Array.isArray(L)?L.length:0).some(L=>L>0)}case"percentages":{const y=(a==null?void 0:a.step12)||{},N=y.bbbPairings||{};return y.bbbIntensity,["squat","bench","deadlift","overhead_press"].every(V=>typeof N[V]=="string"&&N[V])&&!0}case"triumvirate":{const N=((a==null?void 0:a.step13)||{}).triumvirateConfig||{},O=["press","deadlift","bench","squat"];return Object.keys(N).length!==4?!1:O.every(L=>{var V,Z;return((V=N==null?void 0:N[L])==null?void 0:V.supplemental)&&((Z=N==null?void 0:N[L])==null?void 0:Z.assistance)})}case"periodization_bible":{const N=((a==null?void 0:a.step14)||{}).bibleExercises||{},O=["press","deadlift","bench","squat"],L=V=>Object.values(N[V]||{}).reduce((Z,pe)=>Z+(Array.isArray(pe)?pe.length:0),0);return O.every(V=>L(V)>=4)}case"bodyweight":{const N=((a==null?void 0:a.step15)||{}).bodyweightConfig||{selectedExercises:{}};return Object.values(N.selectedExercises||{}).some(L=>Array.isArray(L)&&L.length>0)&&!!N.progressionMethod&&!!N.repScheme}case"jack_shit":{const N=((a==null?void 0:a.step16)||{}).jackShitConfig||{};return!!N.sessionDuration&&!!N.conditioningType&&Array.isArray(N.focusAreas)&&N.focusAreas.length>0}case"conditioning_recovery":{const y=(a==null?void 0:a.step17)||{},N=y.conditioningConfig||{},O=y.recoveryConfig||{},L=(N==null?void 0:N.highIntensity)||{exercises:[]},V=(N==null?void 0:N.lowIntensity)||{exercises:[]},Z=((N==null?void 0:N.frequency)??0)>=2&&!!(N!=null&&N.primaryMethod)&&((((M=L.exercises)==null?void 0:M.length)||0)>0||(((v=V.exercises)==null?void 0:v.length)||0)>0),je=(((j=O==null?void 0:O.sleep)==null?void 0:j.targetHours)??0)>=7&&(((w=(P=O==null?void 0:O.stressManagement)==null?void 0:P.techniques)==null?void 0:w.length)||0)>0&&(((p=(T=O==null?void 0:O.softTissue)==null?void 0:T.methods)==null?void 0:p.length)||0)>0;return Z&&je}case"program_customization":{const N=((a==null?void 0:a.step18)||{}).customizationConfig||{},O=typeof N.primaryGoal=="string"&&N.primaryGoal.length>0,L=((R=N.repRecordTracking)==null?void 0:R.enabled)||((_=N.printableSheets)==null?void 0:_.enabled)||((W=N.progressVisualization)==null?void 0:W.enabled);return!!O&&!!L}default:return!0}},[t,a,o]),A=k.useCallback(async()=>{try{const{data:{user:g}}=await $i.auth.getUser();if(!(g!=null&&g.id)){$s.info("Saved locally. Log in to sync with your profile.");return}await Fo("user_programs",{program_type:"five_three_one",program_name:"5/3/1 Workflow",five_three_one_workflow:a,version:1},g.id)?$s.success("Program saved to your profile."):$s.info("Saved locally (cloud table unavailable).")}catch(g){console.error("Save to profile failed:",g),$s.error("Could not save to profile. Data is saved locally.")}},[a]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"sticky top-0 z-20 bg-gray-900/95 backdrop-blur border-b border-gray-800 -mx-6 px-6 py-3",children:[e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-300",children:["Step ",t+1," of ",o.length,e.jsx("span",{className:"mx-2 text-gray-600",children:"|"}),e.jsx("span",{className:"text-white font-medium",children:(q=o[t])==null?void 0:q.title})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 max-w-full",children:o.map((g,d)=>e.jsxs("button",{onClick:()=>u(d),className:`text-xs px-2.5 py-1.5 rounded-full whitespace-nowrap border ${d===t?"bg-red-600 text-white border-red-600":d<t?"bg-green-700/30 text-green-300 border-green-700":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,title:g.description,children:[d+1,". ",g.title]},g.id))})]}),e.jsx("div",{className:"mt-2 h-1 w-full bg-gray-800 rounded",children:e.jsx("div",{className:"h-1 bg-red-600 rounded",style:{width:`${Math.round(t/(o.length-1)*100)}%`},"aria-hidden":"true"})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-400 text-sm",children:o[t].description})}),b()]}),e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsxs("button",{onClick:m,disabled:t===0,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700 transition-colors",children:[e.jsx(To,{className:"w-4 h-4"}),"Previous"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save to Profile"}),e.jsxs("button",{onClick:h,disabled:!C(),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-red-700 transition-colors",children:["Next",e.jsx(Ao,{className:"w-4 h-4"})]})]})]})]})}function Er(s){k.useEffect(()=>{if(!s)return;const t=i=>(i.preventDefault(),i.returnValue="","");return window.addEventListener("beforeunload",t),()=>window.removeEventListener("beforeunload",t)},[s])}function Wo(){return e.jsx("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:"New 5/3/1 Program Builder"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Seven-step flow with templates first, then schedule, loading and assistance."})]}),e.jsx(Lt,{to:"/program/builder/531",className:"px-4 py-2 rounded border border-red-500 hover:bg-red-600/10",children:"Open Builder"})]})})}const _r=k.createContext(),de={SET_ACTIVE_TAB:"SET_ACTIVE_TAB",SET_SELECTED_LEVEL:"SET_SELECTED_LEVEL",SET_PROGRAM_DATA:"SET_PROGRAM_DATA",SET_ASSESSMENT_DATA:"SET_ASSESSMENT_DATA",SET_TRAINING_MODEL:"SET_TRAINING_MODEL",SET_BLOCK_SEQUENCE:"SET_BLOCK_SEQUENCE",SET_BLOCK_PARAMETERS:"SET_BLOCK_PARAMETERS",SET_LOADING_RESULTS:"SET_LOADING_RESULTS",SET_GENERATED_PROGRAM:"SET_GENERATED_PROGRAM",SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",UPDATE_BLOCK_PARAMETER:"UPDATE_BLOCK_PARAMETER",TOGGLE_PERIODIZATION_MODE:"TOGGLE_PERIODIZATION_MODE",SET_BRYANT_INTEGRATED:"SET_BRYANT_INTEGRATED",SET_LEGACY_MIGRATION_STATUS:"SET_LEGACY_MIGRATION_STATUS",SET_CURRENT_STEP:"SET_CURRENT_STEP",SET_SELECTED_SYSTEM:"SET_SELECTED_SYSTEM",SET_METHODOLOGY_CONTEXT:"SET_METHODOLOGY_CONTEXT",UPDATE_PRIMARY_GOAL:"UPDATE_PRIMARY_GOAL",UPDATE_EXPERIENCE_LEVEL:"UPDATE_EXPERIENCE_LEVEL",UPDATE_TIMELINE:"UPDATE_TIMELINE",UPDATE_METHODOLOGY_ASSESSMENT:"UPDATE_METHODOLOGY_ASSESSMENT",UPDATE_INJURY_SCREEN:"UPDATE_INJURY_SCREEN",VALIDATE_STEP_ACCESS:"VALIDATE_STEP_ACCESS",SET_OPT_PHASE:"SET_OPT_PHASE",SET_POPULATION_TYPE:"SET_POPULATION_TYPE"},Go={activeTab:"system-recommendation",selectedLevel:null,currentStep:1,selectedSystem:"",methodologyContext:null,selectedOPTPhase:null,optPhaseDetails:{},primaryGoal:"",methodologyAwareGoals:[],goalMethodologyMapping:null,experienceLevel:null,methodologyExperience:null,timeline:null,methodologyTimeline:null,methodologyAssessment:{},injuryScreen:null,methodologyInjuryConsiderations:null,isLoading:!1,error:null,showPreview:!1,usePeriodization:!0,programData:{name:"",goal:"hypertrophy",duration:12,trainingDays:4,selectedTemplate:null,methodology:null},assessmentData:null,isLoadingAssessment:!0,assessmentError:null,selectedTrainingModel:"",blockSequence:[{id:"accumulation",name:"Accumulation",duration:4,color:"#dc2626",phase:"accumulation",description:"High volume phase for building work capacity and muscle growth"},{id:"intensification",name:"Intensification",duration:3,color:"#b91c1c",phase:"intensification",description:"Moderate volume, higher intensity phase for strength development"},{id:"realization",name:"Realization",duration:2,color:"#991b1b",phase:"realization",description:"Low volume, peak intensity phase for expressing maximum strength"},{id:"deload",name:"Deload",duration:1,color:"#374151",phase:"deload",description:"Recovery phase with reduced volume and intensity for adaptation"}],blockParameters:{accumulation:{loading:60,movement:"Bilateral",loadingResults:null},intensification:{loading:75,movement:"Unilateral",loadingResults:null},realization:{loading:85,movement:"Bilateral",loadingResults:null},deload:{loading:40,movement:"Bilateral",loadingResults:null}},activeBlockTab:"accumulation",selectedTrainingMethod:"",methodSFR:"",selectedEnergySystem:"",energySystemNote:"",selectedDeloadType:"",deloadProtocol:"",trainingAge:"",chronotype:"",chronotypeNote:"",selectedTechIntegration:"",techNote:"",bryantIntegrated:!1,bryantFeatures:[],bryantValidation:null,legacyMigrationStatus:null,migrationReport:null,loadingResults:null,generatedProgram:null,selectedExercise:"",tempo:"3010",rom:"Full",populationType:null};function $o(s,t){switch(t.type){case de.SET_ACTIVE_TAB:return{...s,activeTab:t.payload};case de.SET_SELECTED_LEVEL:return{...s,selectedLevel:t.payload};case de.SET_PROGRAM_DATA:return{...s,programData:{...s.programData,...t.payload}};case de.SET_ASSESSMENT_DATA:return{...s,assessmentData:t.payload};case de.SET_TRAINING_MODEL:return{...s,selectedTrainingModel:t.payload};case de.SET_BLOCK_SEQUENCE:return{...s,blockSequence:t.payload};case de.SET_BLOCK_PARAMETERS:return{...s,blockParameters:t.payload};case de.UPDATE_BLOCK_PARAMETER:return{...s,blockParameters:{...s.blockParameters,[t.payload.blockId]:{...s.blockParameters[t.payload.blockId],...t.payload.updates}}};case de.SET_LOADING_RESULTS:return{...s,loadingResults:t.payload};case de.SET_GENERATED_PROGRAM:return{...s,generatedProgram:t.payload};case de.SET_LOADING:return{...s,isLoading:t.payload};case de.SET_ERROR:return{...s,error:t.payload};case de.TOGGLE_PERIODIZATION_MODE:return{...s,usePeriodization:t.payload,activeTab:t.payload?"goals":"overview"};case de.SET_BRYANT_INTEGRATED:return{...s,bryantIntegrated:t.payload.integrated,bryantFeatures:t.payload.features||[],bryantValidation:t.payload.validation||null};case de.SET_LEGACY_MIGRATION_STATUS:return{...s,legacyMigrationStatus:t.payload.status,migrationReport:t.payload.report||null};case de.SET_CURRENT_STEP:return{...s,currentStep:t.payload};case de.UPDATE_PRIMARY_GOAL:return{...s,primaryGoal:t.payload};case de.SET_SELECTED_SYSTEM:return{...s,selectedSystem:t.payload};case de.UPDATE_TIMELINE:return{...s,timeline:{...s.timeline,...t.payload}};case de.UPDATE_INJURY_SCREEN:return{...s,injuryScreen:{...s.injuryScreen,...t.payload}};case de.SET_OPT_PHASE:return{...s,selectedOPTPhase:t.payload.phase,optPhaseDetails:t.payload.details};case de.SET_METHODOLOGY_CONTEXT:return{...s,methodologyContext:t.payload};case de.SET_POPULATION_TYPE:return{...s,populationType:t.payload};default:return s}}const Uo=({children:s})=>{var W;const[t,i]=k.useReducer($o,Go);let n;try{n=ai()}catch(y){console.warn("ProgramProvider: Unable to access AppContext:",y),n={state:{assessment:null}}}const r=(W=n==null?void 0:n.state)==null?void 0:W.assessment;k.useEffect(()=>{(()=>{try{let N=null;if(r)N=r,console.log("Assessment loaded from AppContext:",N);else{const O=localStorage.getItem("userProfile");if(O){const L=JSON.parse(O);N={primaryGoal:L.primaryGoal,trainingExperience:L.trainingExperience,timeline:L.timeline,recommendedSystem:L.recommendedSystem,createdAt:L.createdAt},console.log("Assessment loaded from localStorage:",N)}}N?i({type:de.SET_ASSESSMENT_DATA,payload:N}):console.log("No assessment data found in AppContext or localStorage")}catch(N){console.error("Error loading assessment data:",N),i({type:de.SET_ERROR,payload:"Failed to load assessment data"})}})()},[r]);const l=k.useCallback(y=>i({type:de.SET_ACTIVE_TAB,payload:y}),[]),a=k.useCallback(y=>i({type:de.SET_SELECTED_LEVEL,payload:y}),[]),c=k.useCallback(y=>i({type:de.SET_PROGRAM_DATA,payload:y}),[]),o=k.useCallback(y=>i({type:de.SET_ASSESSMENT_DATA,payload:y}),[]),h=k.useCallback(y=>i({type:de.SET_TRAINING_MODEL,payload:y}),[]),m=k.useCallback(y=>i({type:de.SET_BLOCK_SEQUENCE,payload:y}),[]),u=k.useCallback(y=>i({type:de.SET_BLOCK_PARAMETERS,payload:y}),[]),b=k.useCallback((y,N)=>i({type:de.UPDATE_BLOCK_PARAMETER,payload:{blockId:y,updates:N}}),[]),C=k.useCallback(y=>i({type:de.SET_LOADING_RESULTS,payload:y}),[]),A=k.useCallback(y=>i({type:de.SET_GENERATED_PROGRAM,payload:y}),[]),q=k.useCallback(y=>i({type:de.SET_LOADING,payload:y}),[]),g=k.useCallback(y=>i({type:de.SET_ERROR,payload:y}),[]),d=k.useCallback(y=>i({type:de.TOGGLE_PERIODIZATION_MODE,payload:y}),[]),x=k.useCallback((y,N,O)=>i({type:de.SET_BRYANT_INTEGRATED,payload:{integrated:y,features:N,validation:O}}),[]),f=k.useCallback((y,N)=>i({type:de.SET_LEGACY_MIGRATION_STATUS,payload:{status:y,report:N}}),[]),M=k.useCallback(y=>i({type:de.SET_CURRENT_STEP,payload:y}),[]),v=k.useCallback(y=>i({type:de.UPDATE_PRIMARY_GOAL,payload:y}),[]),j=k.useCallback(y=>i({type:de.SET_SELECTED_SYSTEM,payload:y}),[]),P=k.useCallback(y=>i({type:de.UPDATE_TIMELINE,payload:y}),[]),w=k.useCallback(y=>i({type:de.UPDATE_INJURY_SCREEN,payload:y}),[]),T=k.useCallback((y,N)=>i({type:de.SET_OPT_PHASE,payload:{phase:y,details:N}}),[]),p=k.useCallback(y=>i({type:de.SET_METHODOLOGY_CONTEXT,payload:y}),[]),R=k.useCallback(y=>i({type:de.SET_POPULATION_TYPE,payload:y}),[]),_={setActiveTab:l,setSelectedLevel:a,setProgramData:c,setAssessmentData:o,setTrainingModel:h,setBlockSequence:m,setBlockParameters:u,updateBlockParameter:b,setLoadingResults:C,setGeneratedProgram:A,setLoading:q,setError:g,togglePeriodizationMode:d,setBryantIntegrated:x,setLegacyMigrationStatus:f,setCurrentStep:M,updatePrimaryGoal:v,setSelectedSystem:j,updateTimeline:P,updateInjuryScreen:w,setOPTPhase:T,setMethodologyContext:p,setPopulationType:R};return e.jsx(_r.Provider,{value:{state:t,actions:_},children:s})},Me=()=>{const s=k.useContext(_r);if(!s)throw new Error("useProgramContext must be used within a ProgramProvider");return s};function qr({title:s,subtitle:t,breadcrumbs:i,actions:n,children:r,className:l,contentClassName:a,glass:c=!1,fullWidth:o=!1}){return e.jsxs("main",{className:`min-h-screen ${l||""}`,children:[e.jsx("header",{className:"sticky-header backdrop-blur-header py-4",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[e.jsxs("div",{children:[i&&e.jsx("nav",{className:"breadcrumb-nav mb-2",children:i.map((h,m)=>e.jsxs(Eo.Fragment,{children:[h.to?e.jsx("a",{href:h.to,className:"text-gray-400 hover:text-white transition-colors",children:h.label}):e.jsx("span",{className:"text-white",children:h.label}),m<i.length-1&&e.jsx("span",{className:"text-gray-500 mx-2",children:"/"})]},m))}),s&&e.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-white",children:s}),t&&e.jsx("p",{className:"text-gray-400 mt-1",children:t})]}),n&&e.jsx("div",{className:"flex gap-2",children:n})]})}),e.jsx("section",{className:`${o?"":"container mx-auto"} py-6 md:py-8`,children:e.jsx("div",{className:`space-y-6 ${c?"glass-morphism-subtle":""} ${a||""}`,children:r})})]})}function rt({title:s,children:t,className:i=""}){return e.jsxs("section",{className:`card-powerhouse premium-card space-y-4 ${i}`,children:[s&&e.jsx("h2",{className:"text-xl font-semibold text-white",children:s}),e.jsx("div",{children:t})]})}const Us={name:"NASM OPT Model",description:"Evidence-based periodization system with integrated movement assessment",features:["Movement assessment-driven program design","5-phase OPT model progression","Goal-specific pathways","Corrective exercise integration","Special population adaptations"],systemConfiguration:{assessmentProtocol:"NASM Movement Screens",programmingModel:"OPT Periodization",phaseStructure:"5-phase system",acuteVariables:"NASM-specific",corrective:"integrated",progressionModels:["linear","adaptive","rules_engine"]}},Ke={fat_loss:{name:"Body Fat Reduction",description:"Maximize caloric expenditure while preserving lean mass",phases:["Phase_1","Phase_2"],cycling:"alternating",cardio:"high_priority",optional:["Phase_3"],timeline:"Phase 1 (4 weeks) → Phase 2 (4 weeks) → repeat cycling",expectedOutcomes:"Steady fat loss, improved endurance, movement quality"},hypertrophy:{name:"Muscle Hypertrophy",description:"Maximize muscle growth through progressive overload",phases:["Phase_1","Phase_2","Phase_3","Phase_4"],cycling:"progressive_with_cycles",emphasis:"Phase_3",timeline:"Phase 1 (4w) → Phase 2 (4w) → Phase 3 (4w) → Phase 4 (4w) → cycle 2-3-4",expectedOutcomes:"Increased muscle mass, strength, work capacity"},max_strength:{name:"Maximal Strength",description:"Increase maximal force production and neural adaptations",phases:["Phase_1","Phase_2","Phase_4"],cycling:"strength_focused",emphasis:"Phase_4",optional:["Phase_3"],timeline:"Phase 1 (4w) → Phase 2 (4w) → Phase 4 (4w) → deload → repeat",expectedOutcomes:"Increased 1RM lifts, neural efficiency, power base"},sports_performance:{name:"Athletic Performance",description:"Improve power, agility, and sport-specific performance",phases:["Phase_1","Phase_2","Phase_5"],cycling:"undulating",emphasis:"Phase_5",optional:["Phase_4"],timeline:"Linear first 2 months → undulating weekly (1,2,5) thereafter",expectedOutcomes:"Enhanced power, speed, agility, injury prevention"},general_fitness:{name:"General Fitness & Health",description:"Overall health, functional movement, and fitness improvement",phases:["Phase_1","Phase_2"],cycling:"alternating",cardio:"moderate_priority",optional:["Phase_3"],timeline:"Phase 1 (4-6w) → Phase 2 (4w) → repeat with variations",expectedOutcomes:"Improved movement quality, endurance, strength, overall health"}},xt={beginner:{startingPhase:"Phase_1",duration:"6-8 weeks in Phase 1",progression:"Extended stabilization focus",modifications:"More corrective work, slower progression",assessmentFrequency:"Every 2 weeks"},intermediate:{startingPhase:"Phase_1",duration:"4 weeks in Phase 1",progression:"Standard OPT progression",modifications:"Standard acute variables",assessmentFrequency:"Every 4 weeks"},advanced:{startingPhase:"Phase_1_or_2",duration:"2-4 weeks in Phase 1",progression:"May skip stabilization if excellent movement",modifications:"Can handle undulating models sooner",assessmentFrequency:"Every 4-6 weeks"}},un=()=>{var a;const{state:s,actions:t}=Me(),i=[{id:"NASM",name:Us.name,description:Us.description,bromleyIntegration:"Comprehensive movement assessment and corrective exercise integration",goals:["corrective_exercise","movement_quality","injury_prevention","general_fitness","hypertrophy","sports_performance"],movementConsiderations:"Evidence-based movement assessment with 5-phase OPT model progression",features:Us.features,systemConfiguration:Us.systemConfiguration},{id:"RP",name:"Renaissance Periodization",description:"Volume-based hypertrophy and weight loss",bromleyIntegration:"Enhanced with wave progression",goals:["hypertrophy","weight_loss"],movementConsiderations:"Best with good movement quality; includes corrective work in warm-up"},{id:"linear",name:"Linear Periodization",description:"Motor control and general fitness",bromleyIntegration:"Movement quality waves",goals:["motor_control","general_fitness"],movementConsiderations:"Ideal for addressing movement compensations with progressive overload"},{id:"5/3/1",name:"5/3/1 Method",description:"Strength and powerlifting focus",bromleyIntegration:"AMRAP testing protocols",goals:["strength","powerlifting"],movementConsiderations:"Requires good movement foundation; may need corrective phase first"},{id:"josh-bryant",name:"Josh Bryant Method",description:"Tactical and strongman training",bromleyIntegration:"Specificity optimization",goals:["tactical","strongman"],movementConsiderations:"Emphasizes functional movement patterns and injury prevention"}],n=c=>{t.setSelectedSystem(c)},r=()=>{s.selectedSystem&&t.setCurrentStep(2)},l=()=>{t.setCurrentStep(1)};return e.jsxs("div",{className:"system-recommendation-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"🤖 System Recommendation"}),e.jsx("p",{className:"step-description",children:"Movement assessment and goal-based system selection with Bromley integration"})]}),e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"📋 Training Systems"}),e.jsxs("p",{className:"recommendation-note",children:["Based on your goal: ",e.jsx("strong",{children:s.primaryGoal||((a=s.programData)==null?void 0:a.goal)||"Not selected"})]}),e.jsx("div",{className:"systems-grid",children:i.map(c=>e.jsxs("div",{className:`system-card ${s.selectedSystem===c.id?"selected":""}`,onClick:()=>n(c.id),children:[e.jsx("h4",{children:c.name}),e.jsx("p",{className:"system-description",children:c.description}),e.jsxs("div",{className:"system-details",children:[e.jsxs("div",{className:"bromley-integration",children:[e.jsx("strong",{children:"Bromley Integration:"})," ",c.bromleyIntegration]}),e.jsxs("div",{className:"movement-considerations",children:[e.jsx("strong",{children:"Movement Focus:"})," ",c.movementConsiderations]}),c.goals&&e.jsxs("div",{className:"applicable-goals",children:[e.jsx("strong",{children:"Best for:"})," ",c.goals.join(", ")]})]})]},c.id))}),e.jsx("div",{className:"navigation-section",children:e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{onClick:l,className:"btn-secondary",children:"← Previous"}),s.selectedSystem&&e.jsx("button",{onClick:r,className:"btn-primary",children:"Continue to User Information →"})]})})]})]})},Yo=()=>{var h,m,u,b,C,A,q,g,d;const{state:s,actions:t}=Me(),[i,n]=k.useState(((h=s.programData)==null?void 0:h.goal)||""),r=s.selectedSystem==="NASM",l=[{id:"bodybuilding",name:"Bodybuilding/Physique",icon:"💪",description:"Build muscle mass and aesthetic physique",details:"Focus on hypertrophy, muscle symmetry, and body composition",repRanges:"6-15 reps",focus:"Muscle growth, aesthetics",nasmPathway:r?Ke.hypertrophy:null},{id:"powerlifting",name:"Powerlifting/Strength",icon:"🏋️",description:"Maximize squat, bench, deadlift strength",details:"Competition preparation and maximal strength development",repRanges:"1-6 reps",focus:"Maximal strength, competition",nasmPathway:r?Ke.max_strength:null},{id:"athletic",name:"Athletic Performance",icon:"⚡",description:"Sport-specific strength and conditioning",details:"Power, speed, agility, and sport-specific movements",repRanges:"1-8 reps",focus:"Power, speed, athleticism",nasmPathway:r?Ke.sports_performance:null},{id:"general",name:"General Fitness",icon:"🏃",description:"Overall health and wellness",details:"Balanced approach to strength, cardio, and mobility",repRanges:"8-15 reps",focus:"Health, longevity, balance",nasmPathway:r?Ke.general_fitness:null},{id:"endurance",name:"Endurance/Conditioning",icon:"🏃‍♂️",description:"Cardiovascular fitness and endurance",details:"Aerobic capacity, muscular endurance, work capacity",repRanges:"12-20+ reps",focus:"Endurance, work capacity",nasmPathway:r?Ke.general_fitness:null},{id:"fat_loss",name:"Fat Loss/Weight Management",icon:"🔥",description:"Body fat reduction and weight management",details:"Maximize caloric expenditure while preserving lean mass",repRanges:"12-20 reps",focus:"Fat loss, body composition",nasmPathway:r?Ke.fat_loss:null},{id:"hybrid",name:"Hybrid/Multiple Goals",icon:"🎯",description:"Combination of multiple training objectives",details:"Balanced approach combining strength, size, and conditioning",repRanges:"Variable",focus:"Multiple objectives",nasmPathway:r?Ke.general_fitness:null},{id:"motor_control",name:"Motor Control/Movement Quality",icon:"🧘",description:"Movement quality and motor control development",details:"Focus on perfect movement patterns, stability, and coordination",repRanges:"8-15 reps",focus:"Movement quality, coordination",nasmPathway:r?Ke.general_fitness:null}],a=x=>{n(x),t.setProgramData({goal:x}),t.updatePrimaryGoal&&t.updatePrimaryGoal(x)},c=x=>{t.setPopulationType(x===s.populationType?null:x)},o=()=>{i&&(t.setCurrentStep?t.setCurrentStep(2):t.setActiveTab("experience-level"))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"text-blue-400 font-semibold mb-2 flex items-center gap-2",children:"🎯 Step 1: Primary Goal"}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Define your main training objective. This will guide all subsequent program decisions."})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"What is your primary training goal?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Select the goal that best represents your main training focus. This will determine your program structure, rep ranges, and training methods."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(x=>e.jsx("button",{onClick:()=>a(x.id),className:`p-4 rounded-lg border-2 text-left transition-all ${i===x.id?"border-blue-500 bg-blue-900/20":"border-gray-600 hover:border-gray-500 bg-gray-700"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:x.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-white font-semibold mb-1",children:x.name}),e.jsx("p",{className:"text-gray-300 text-sm mb-2",children:x.description}),e.jsx("p",{className:"text-gray-400 text-xs mb-2",children:x.details}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-blue-400",children:["Rep Ranges: ",x.repRanges]}),e.jsxs("span",{className:"text-green-400",children:["Focus: ",x.focus]})]})]})]})},x.id))})]}),i&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Goal Selected"}),e.jsxs("div",{className:"text-green-300 text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Primary Goal:"})," ",(m=l.find(x=>x.id===i))==null?void 0:m.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Focus:"})," ",(u=l.find(x=>x.id===i))==null?void 0:u.focus]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rep Ranges:"})," ",(b=l.find(x=>x.id===i))==null?void 0:b.repRanges]}),r&&((C=l.find(x=>x.id===i))==null?void 0:C.nasmPathway)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/30",children:[e.jsx("p",{className:"text-green-400 font-medium",children:"NASM OPT Pathway:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pathway:"})," ",(A=l.find(x=>x.id===i))==null?void 0:A.nasmPathway.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phases:"})," ",(q=l.find(x=>x.id===i))==null?void 0:q.nasmPathway.phases.join(" → ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Timeline:"})," ",(g=l.find(x=>x.id===i))==null?void 0:g.nasmPathway.timeline]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expected Outcomes:"})," ",(d=l.find(x=>x.id===i))==null?void 0:d.nasmPathway.expectedOutcomes]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Special Population Considerations"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Select any special considerations that apply to ensure safe and effective assessment modifications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>c("pregnancy"),className:`p-4 rounded-lg border-2 text-left transition-all ${s.populationType==="pregnancy"?"border-pink-500 bg-pink-900/20":"border-gray-600 hover:border-gray-500 bg-gray-700"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"🤰"}),e.jsx("h5",{className:"text-white font-semibold mb-1",children:"Pregnancy"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Prenatal/postnatal modifications"}),e.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Assessment adaptations for safety"})]}),e.jsxs("button",{onClick:()=>c("elderly"),className:`p-4 rounded-lg border-2 text-left transition-all ${s.populationType==="elderly"?"border-purple-500 bg-purple-900/20":"border-gray-600 hover:border-gray-500 bg-gray-700"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"👴"}),e.jsx("h5",{className:"text-white font-semibold mb-1",children:"Elderly (65+)"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Age-related considerations"}),e.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Balance and mobility focus"})]}),e.jsxs("button",{onClick:()=>c("injury"),className:`p-4 rounded-lg border-2 text-left transition-all ${s.populationType==="injury"?"border-orange-500 bg-orange-900/20":"border-gray-600 hover:border-gray-500 bg-gray-700"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"🩹"}),e.jsx("h5",{className:"text-white font-semibold mb-1",children:"Injury History"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Previous injury considerations"}),e.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Modified movement patterns"})]})]}),s.populationType&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[e.jsxs("h5",{className:"text-blue-400 font-semibold mb-2",children:["Assessment Modifications for ",s.populationType==="pregnancy"?"Pregnancy":s.populationType==="elderly"?"Elderly":"Injury History"]}),s.populationType==="pregnancy"&&e.jsxs("div",{className:"text-blue-300 text-sm",children:[e.jsx("p",{children:"• Overhead Squat: Reduce depth, use chair support if needed"}),e.jsx("p",{children:"• Single-Leg Squat: Shallow range, seated/supported position"}),e.jsx("p",{children:"• Push/Pull: Emphasize scapular stability, avoid heavy overhead"}),e.jsx("p",{children:"• Monitor for excessive lordosis and diastasis recti"})]}),s.populationType==="elderly"&&e.jsxs("div",{className:"text-blue-300 text-sm",children:[e.jsx("p",{children:"• Overhead Squat: Chair-supported squat, elevated heels if needed"}),e.jsx("p",{children:"• Single-Leg Squat: Start with balance only, progress carefully"}),e.jsx("p",{children:"• Push/Pull: Seated positions if balance concerns"}),e.jsx("p",{children:"• Focus on fall prevention and functional movements"})]}),s.populationType==="injury"&&e.jsxs("div",{className:"text-blue-300 text-sm",children:[e.jsx("p",{children:"• Assess pain-free range of motion only"}),e.jsx("p",{children:"• Modify assessments based on injury location"}),e.jsx("p",{children:"• Use unilateral variations if appropriate"}),e.jsx("p",{children:"• Start with functional baseline movements"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Training Focus Guidelines"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-blue-400 font-medium mb-2",children:"Strength-Focused Goals"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Powerlifting:"})," Max strength, 1-6 reps, competition prep"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Athletic:"})," Power development, 1-8 reps, explosive training"]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-green-400 font-medium mb-2",children:"Hypertrophy-Focused Goals"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Bodybuilding:"})," Muscle growth, 6-15 reps, aesthetic focus"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"General Fitness:"})," Balanced approach, 8-15 reps"]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-yellow-400 font-medium mb-2",children:"Endurance-Focused Goals"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Conditioning:"})," Work capacity, 12-20+ reps"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Endurance:"})," Aerobic capacity, high volume"]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-purple-400 font-medium mb-2",children:"Hybrid Goals"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Multiple Objectives:"})," Variable rep ranges"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Balanced Training:"})," Strength + size + conditioning"]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{disabled:!0,className:"bg-gray-600 text-gray-400 px-6 py-2 rounded-lg cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:o,disabled:!i,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg transition-colors",children:"Continue to Experience Level →"})]})]})},Ko=()=>{var m;const{state:s,actions:t}=Me(),[i,n]=k.useState(((m=s.assessmentData)==null?void 0:m.trainingExperience)||""),r=s.selectedSystem==="NASM",l=[{id:"beginner",name:"Beginner",duration:"0-1 year",icon:"🌱",description:"New to structured training",characteristics:["Learning basic movement patterns","Building foundational strength","High adaptation potential","Needs simple programming"],recommendations:["Full-body routines 3x/week","Focus on compound movements","Linear progression","Emphasis on form and technique"],complexity:"Low",volume:"Low-Moderate",nasmMapping:r?xt.beginner:null},{id:"intermediate",name:"Intermediate",duration:"1-3 years",icon:"📈",description:"Some training experience",characteristics:["Familiar with basic exercises","Can handle moderate volume","Understands training principles","Needs progression variety"],recommendations:["Upper/lower or push/pull/legs","Periodization introduction","Progressive overload focus","Exercise variation"],complexity:"Moderate",volume:"Moderate",nasmMapping:r?xt.intermediate:null},{id:"advanced",name:"Advanced",duration:"3-5 years",icon:"🏆",description:"Experienced with various methods",characteristics:["Mastered movement patterns","Handles high training volumes","Understands periodization","Needs specialized programming"],recommendations:["Body part splits or specialization","Advanced periodization models","Intensity techniques","Precise load management"],complexity:"High",volume:"High",nasmMapping:r?xt.advanced:null},{id:"expert",name:"Expert/Elite",duration:"5+ years",icon:"👑",description:"Highly experienced athlete",characteristics:["Elite-level performance","Maximum volume tolerance","Advanced technique mastery","Competition experience"],recommendations:["Highly specialized programs","Competition periodization","Advanced recovery methods","Individual optimization"],complexity:"Very High",volume:"Very High"}],a=u=>{n(u),t.setAssessmentData({...s.assessmentData,trainingExperience:u})},c=()=>{i&&(t.setCurrentStep?t.setCurrentStep(3):t.setActiveTab("timeline"))},o=()=>{t.setCurrentStep?t.setCurrentStep(1):t.setActiveTab("primary-goal")},h=l.find(u=>u.id===i);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"text-blue-400 font-semibold mb-2 flex items-center gap-2",children:"📈 Step 2: Experience Level"}),e.jsx("p",{className:"text-blue-300 text-sm",children:"Your training experience determines program complexity and appropriate training methods."})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"How long have you been training consistently?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Select the level that best describes your training experience. This affects exercise selection, program complexity, and training volume."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(u=>e.jsx("button",{onClick:()=>a(u.id),className:`p-4 rounded-lg border-2 text-left transition-all ${i===u.id?"border-blue-500 bg-blue-900/20":"border-gray-600 hover:border-gray-500 bg-gray-700"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:u.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-white font-semibold mb-1",children:u.name}),e.jsx("p",{className:"text-blue-400 text-sm mb-1",children:u.duration}),e.jsx("p",{className:"text-gray-300 text-sm mb-2",children:u.description}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-yellow-400",children:["Complexity: ",u.complexity]}),e.jsxs("span",{className:"text-green-400",children:["Volume: ",u.volume]})]})]})]})},u.id))})]}),h&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4",children:[h.name," Level Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-blue-400 font-medium mb-3",children:"Characteristics"}),e.jsx("ul",{className:"text-gray-300 text-sm space-y-1",children:h.characteristics.map((u,b)=>e.jsxs("li",{children:["• ",u]},b))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-green-400 font-medium mb-3",children:"Programming Recommendations"}),e.jsx("ul",{className:"text-gray-300 text-sm space-y-1",children:h.recommendations.map((u,b)=>e.jsxs("li",{children:["• ",u]},b))})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Training Experience Guidelines"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-blue-400 font-medium mb-2",children:"Program Complexity"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Beginner:"})," Simple, linear progressions"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Intermediate:"})," Basic periodization"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Advanced:"})," Complex periodization models"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Expert:"})," Highly specialized programs"]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-yellow-400 font-medium mb-2",children:"Volume Tolerance"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Beginner:"})," 8-12 sets per week per muscle"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Intermediate:"})," 12-16 sets per week per muscle"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Advanced:"})," 16-22 sets per week per muscle"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Expert:"})," 20+ sets per week per muscle"]})]})]})]})]}),i&&e.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Experience Level Selected"}),e.jsxs("div",{className:"text-green-300 text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Level:"})," ",h.name," (",h.duration,")"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Complexity:"})," ",h.complexity]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Volume Tolerance:"})," ",h.volume]}),r&&h.nasmMapping&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/30",children:[e.jsx("p",{className:"text-green-400 font-medium",children:"NASM OPT Approach:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Starting Phase:"})," ",h.nasmMapping.startingPhase]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phase 1 Duration:"})," ",h.nasmMapping.duration]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Progression:"})," ",h.nasmMapping.progression]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Assessment Frequency:"})," ",h.nasmMapping.assessmentFrequency]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Modifications:"})," ",h.nasmMapping.modifications]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:o,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Previous: Primary Goal"}),e.jsx("button",{onClick:c,disabled:!i,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg transition-colors",children:"Next: Timeline"})]})]})},Qo=()=>{var o,h,m;const{state:s,actions:t}=Me(),[i,n]=k.useState("mesocycle"),r={mesocycle:{name:"Mesocycles",description:"Short-term focused training blocks (2-8 weeks)",icon:"🔄",options:[{weeks:2,label:"2 weeks",description:"Deload/Taper block"},{weeks:3,label:"3 weeks",description:"Intensity focus block"},{weeks:4,label:"4 weeks",description:"Standard mesocycle"},{weeks:6,label:"6 weeks",description:"Extended volume block"},{weeks:8,label:"8 weeks",description:"Strength/Power block"}]},macrocycle:{name:"Macrocycles (Medium)",description:"Medium-term training phases (8-24 weeks)",icon:"📅",options:[{weeks:8,label:"8 weeks",description:"Competition prep cycle"},{weeks:12,label:"12 weeks",description:"Standard training cycle"},{weeks:16,label:"16 weeks",description:"Extended development"},{weeks:20,label:"20 weeks",description:"Comprehensive preparation"},{weeks:24,label:"24 weeks",description:"Long-term development"}]},macrocycle_long:{name:"Macrocycles (Long-term)",description:"Long-term athletic development (6 months - 2 years)",icon:"🎯",options:[{weeks:26,label:"6 months",description:"Seasonal preparation"},{weeks:39,label:"9 months",description:"Extended season"},{weeks:52,label:"1 year",description:"Annual training plan"},{weeks:78,label:"18 months",description:"Olympic cycle (partial)"},{weeks:104,label:"2 years",description:"Full Olympic cycle"}]},custom:{name:"Custom Duration",description:"Set your own specific timeline",icon:"⚙️",options:[]}},l=u=>{var b;n(u),((b=s.timeline)==null?void 0:b.category)!==u&&t.updateTimeline({category:u,weeks:null,customWeeks:null})},a=(u,b)=>{t.updateTimeline({category:i,weeks:u,description:b,customWeeks:null})},c=u=>{t.updateTimeline({category:"custom",weeks:parseInt(u),customWeeks:parseInt(u),description:`Custom ${u} week program`})};return e.jsxs("div",{className:"timeline-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"⏱️ Timeline & Duration"}),e.jsx("p",{className:"step-description",children:"Choose your program duration and periodization timeline"})]}),e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Program Timeline Category"}),e.jsx("div",{className:"category-selector",children:Object.entries(r).map(([u,b])=>e.jsxs("div",{className:`category-option ${i===u?"active":""}`,onClick:()=>l(u),children:[e.jsx("div",{className:"category-icon",children:b.icon}),e.jsxs("div",{className:"category-content",children:[e.jsx("h4",{children:b.name}),e.jsx("p",{children:b.description})]})]},u))})]}),i!=="custom"&&e.jsxs("div",{className:"content-section",children:[e.jsxs("h3",{children:[r[i].name," Options"]}),e.jsx("div",{className:"duration-grid",children:r[i].options.map(u=>{var b;return e.jsxs("div",{className:`duration-option ${((b=s.timeline)==null?void 0:b.weeks)===u.weeks?"active":""}`,onClick:()=>a(u.weeks,u.description),children:[e.jsx("div",{className:"duration-label",children:u.label}),e.jsx("div",{className:"duration-description",children:u.description}),e.jsxs("div",{className:"duration-weeks",children:[u.weeks," weeks"]})]},u.weeks)})})]}),i==="custom"&&e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Custom Duration"}),e.jsxs("div",{className:"custom-duration",children:[e.jsx("label",{htmlFor:"customWeeks",children:"Number of weeks:"}),e.jsx("input",{id:"customWeeks",type:"number",min:"1",max:"208",value:((o=s.timeline)==null?void 0:o.customWeeks)||"",onChange:u=>c(u.target.value),placeholder:"Enter weeks (1-208)"}),e.jsx("span",{className:"custom-note",children:"Maximum: 4 years (208 weeks)"})]})]}),((h=s.timeline)==null?void 0:h.weeks)&&e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Selected Timeline"}),e.jsxs("div",{className:"timeline-summary",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Duration:"})," ",s.timeline.weeks," weeks"]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Category:"})," ",r[s.timeline.category||i].name]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Description:"})," ",s.timeline.description]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Approximate Phases:"}),s.timeline.weeks<=4&&" Single focused block",s.timeline.weeks>4&&s.timeline.weeks<=12&&" 2-3 training phases",s.timeline.weeks>12&&s.timeline.weeks<=24&&" 3-4 training phases",s.timeline.weeks>24&&s.timeline.weeks<=52&&" 4-6 training phases",s.timeline.weeks>52&&" Multiple seasonal phases"]})]})]}),e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>t.setCurrentStep(2),children:"← Back"}),e.jsx("button",{className:"btn-primary",disabled:!((m=s.timeline)!=null&&m.weeks),onClick:()=>t.setCurrentStep(4),children:"Continue →"})]})]})},Xo=()=>{var C,A,q;const{state:s,actions:t}=Me(),[i,n]=k.useState(((C=s.injuryScreen)==null?void 0:C.responses)||{}),r={shoulder_impingement:{exclude:["barbell_ohp","behind_neck_press","upright_row","lateral_raise_above_90"],modify:{db_shoulder_press:{modification:"neutral_grip_45_degree",romLimit:"90_degrees",tempoAdjust:"3-0-1-0"},bench_press:{modification:"reduce_rom_2_inches",gripWidth:"narrow_1.5x_shoulder",angleAdjust:"slight_decline"}},volumeReduction:.7,intensityCap:.85,frequencyMax:2,warmupProtocol:"extended_shoulder_specific",adaptability:{rp:"excellent",531:"moderate",linear:"good",josh_bryant:"good"}},shoulder_instability:{exclude:["dips","wide_grip_bench","behind_neck_anything","flyes"],modify:{all_pressing:{modification:"floor_press_variation",stabilityFocus:!0,tempoAdjust:"2-2-1-0"}},volumeReduction:.6,intensityCap:.75,frequencyMax:2,adaptability:{rp:"excellent",linear:"excellent",531:"poor",josh_bryant:"moderate"}},lower_back_flexion_intolerant:{exclude:["conventional_deadlift","goodmorning","jefferson_curl","situps"],modify:{deadlift:{modification:"trap_bar_high_handle",startPosition:"elevated_blocks",braceProtocol:"mcgill_enhanced"},squat:{modification:"box_squat",depth:"above_parallel",stance:"wider_reduced_flexion"}},volumeReduction:.65,intensityCap:.8,coreProtocol:"mcgill_big_3",adaptability:{rp:"excellent",linear:"excellent",531:"poor",josh_bryant:"moderate"}},lower_back_extension_intolerant:{exclude:["overhead_press","back_extensions","superman"],modify:{all_overhead:{modification:"seated_supported",angleLimit:"75_degrees",supportType:"high_back"}},volumeReduction:.7,intensityCap:.85,adaptability:{rp:"excellent",linear:"good",531:"moderate",josh_bryant:"good"}},knee_patellofemoral:{exclude:["full_depth_squat","lunges_forward","leg_extension","plyometrics"],modify:{squat:{modification:"box_squat_above_90",stance:"wide_toes_out",kneeTracking:"band_assisted"},single_leg:{modification:"reverse_lunge_only",elevation:"deficit_for_reduced_flexion"}},volumeReduction:.75,intensityCap:.8,vmoPrehab:!0,adaptability:{rp:"excellent",linear:"excellent",531:"good",josh_bryant:"moderate"}},hip_impingement:{exclude:["deep_squats","sumo_deadlift","leg_press_deep","butterfly_stretch"],modify:{squat:{modification:"high_box_squat",stance:"narrow_parallel",toeAngle:"minimal_15_degrees"},deadlift:{modification:"romanian_partial",rangeLimit:"knee_to_mid_shin"}},volumeReduction:.7,intensityCap:.85,mobilityFocus:"capsule_not_stretch",adaptability:{rp:"excellent",linear:"good",531:"moderate",josh_bryant:"good"}},tennis_elbow:{exclude:["straight_bar_curls","close_grip_bench","heavy_rows"],modify:{all_curls:{modification:"hammer_or_neutral",loadReduction:.7,repIncrease:1.5},pressing:{modification:"neutral_grip_preferred",wristPosition:"neutral_maintained"}},volumeReduction:.8,intensityCap:.75,eccentric_protocol:!0,adaptability:{rp:"excellent",linear:"good",531:"moderate",josh_bryant:"good"}}},l={phases:{phase1_foundation:{weeks:"1-4",volume:.4,intensity:.6,complexity:"basic",exercisePool:"fundamental_only",setsPerMuscle:"6-10",repsRange:"12-20",progression:"reps_before_weight",focusAreas:["movement_quality","pain_free_rom","base_conditioning"]},phase2_rebuilding:{weeks:"5-8",volume:.6,intensity:.75,complexity:"moderate",exercisePool:"add_compounds",setsPerMuscle:"10-16",repsRange:"8-15",progression:"small_load_increases",focusAreas:["strength_endurance","movement_confidence","volume_tolerance"]},phase3_strengthening:{weeks:"9-12",volume:.8,intensity:.85,complexity:"advanced",exercisePool:"near_full",setsPerMuscle:"16-20",repsRange:"6-12",progression:"normal_progression",focusAreas:["strength_return","power_reintroduction","sport_specific"]},phase4_optimization:{weeks:"13+",volume:1,intensity:1,complexity:"full",exercisePool:"unrestricted",setsPerMuscle:"goal_dependent",repsRange:"goal_dependent",progression:"full_progression",focusAreas:["performance","prevention","optimization"]}}},a={rp:{injuryAdaptability:"excellent",volumeControl:!0,exerciseFlexibility:"high",intensityControl:!0,pros:["Volume landmarks allow precise load management","MEV/MRV concepts perfect for reduced capacity","Flexible exercise selection","Built-in fatigue management"],cons:["Requires good self-awareness","Complex for beginners"],injuryModifications:{useMinimalVolume:!0,startAtMEV:!0,extendedDeloads:!0,reducedFrequency:!0}},linear:{injuryAdaptability:"excellent",volumeControl:!0,exerciseFlexibility:"high",intensityControl:!0,pros:["Simple progression model","Easy to modify loads","Great for rehab transitions","Predictable programming"],cons:["May progress too slowly for some","Less variety"],injuryModifications:{microLoading:!0,extendedPhases:!0,regressionProtocol:!0}},531:{injuryAdaptability:"moderate",volumeControl:!1,exerciseFlexibility:"moderate",intensityControl:!1,pros:["SubMax training good for injuries","Flexible assistance work","Built-in progression"],cons:["Fixed percentages difficult to modify","May be too much volume","Limited exercise substitution for main lifts"],injuryModifications:{trainingMaxReduction:.8,limitedJokerSets:!0,modifiedTemplates:["5s_PRO","FSL_reduced"],assistanceOnly:"option_for_severe"}},josh_bryant:{injuryAdaptability:"good",volumeControl:!0,exerciseFlexibility:"high",intensityControl:!0,pros:["PHA reduces local fatigue","Flexible programming","Body composition focus good for deload"],cons:["High volume might be problematic","Intensity techniques risky"],injuryModifications:{reducedIntensityTechniques:!0,modifiedPHA:!0,extendedRest:!0}}},c={generalStatus:{question:"Current Injury Status:",type:"radio",options:[{value:"none",label:"No current injuries",intensityCap:100,volumeMultiplier:1},{value:"minor",label:"Minor discomfort (can train with modifications)",intensityCap:85,volumeMultiplier:.9},{value:"active",label:"Active injury (under professional care)",intensityCap:60,volumeMultiplier:.6},{value:"post_rehab",label:"Post-rehab (cleared with restrictions)",intensityCap:75,volumeMultiplier:.7},{value:"chronic",label:"Chronic condition (ongoing management)",intensityCap:80,volumeMultiplier:.8}]},injuryLocations:{question:"Select ALL current/recent injury areas:",type:"checkbox",options:[{value:"neck",label:"Neck/Cervical",injuryType:"cervical_dysfunction",excludes:["overhead_press","heavy_shrugs","behind_neck_movements"],modifications:{shoulder_press:"seated_support",rows:"light_weight_only"}},{value:"shoulder_left",label:"Shoulder (Left)",injuryType:"shoulder_impingement",excludes:["overhead_press","lateral_raises","behind_neck_press"],modifications:{bench_press:"reduce_rom",shoulder_press:"neutral_grip_45deg"}},{value:"shoulder_right",label:"Shoulder (Right)",injuryType:"shoulder_impingement",excludes:["overhead_press","lateral_raises","behind_neck_press"],modifications:{bench_press:"reduce_rom",shoulder_press:"neutral_grip_45deg"}},{value:"lower_back",label:"Lower Back",injuryType:"lower_back_flexion",excludes:["conventional_deadlift","good_mornings","bent_over_rows"],modifications:{deadlift:"sumo_or_trap_bar",rows:"chest_supported",squats:"high_bar"}},{value:"knee_left",label:"Knee (Left)",injuryType:"knee_patellofemoral",excludes:["deep_squats","lunges","jumping"],modifications:{squats:"partial_rom_90deg",leg_press:"limited_flexion"}},{value:"knee_right",label:"Knee (Right)",injuryType:"knee_patellofemoral",excludes:["deep_squats","lunges","jumping"],modifications:{squats:"partial_rom_90deg",leg_press:"limited_flexion"}}]},painScale:{question:"Rate pain during training (0-10):",type:"radio",options:[{value:"0-1",label:"0-1 (No pain)",modifier:1,action:"proceed",monitoring:"standard"},{value:"2-3",label:"2-3 (Mild discomfort)",modifier:.95,action:"proceed_caution",monitoring:"weekly"},{value:"4-5",label:"4-5 (Moderate, manageable)",modifier:.7,action:"modify_load",monitoring:"daily"},{value:"6-7",label:"6-7 (Significant, limiting)",modifier:.5,action:"refer_out",monitoring:"session"},{value:"8-10",label:"8-10 (Severe, stop training)",modifier:0,action:"medical_clearance",monitoring:"continuous"}]},movementLimitations:{question:"Which movements cause discomfort?",type:"checkbox",options:[{value:"overhead_pressing",label:"Overhead pressing",pattern:"vertical_push",severity:"moderate"},{value:"horizontal_pressing",label:"Horizontal pressing",pattern:"horizontal_push",severity:"mild"},{value:"vertical_pulling",label:"Vertical pulling",pattern:"vertical_pull",severity:"mild"},{value:"horizontal_pulling",label:"Horizontal pulling",pattern:"horizontal_pull",severity:"mild"},{value:"squatting",label:"Squatting",pattern:"squat",severity:"moderate"},{value:"hip_hinging",label:"Hip hinging",pattern:"hinge",severity:"moderate"},{value:"lunging",label:"Lunging",pattern:"lunge",severity:"mild"},{value:"rotation",label:"Rotation",pattern:"rotation",severity:"moderate"},{value:"loaded_carries",label:"Loaded carries",pattern:"carry",severity:"mild"}]},injuryTimeline:{question:"When did injury occur?",type:"radio",options:[{value:"current",label:"Current (0-2 weeks)",progressionRate:.5,phase:"acute",protocol:"week1_4"},{value:"recent",label:"Recent (2-6 weeks)",progressionRate:.7,phase:"subacute",protocol:"week5_8"},{value:"subacute",label:"Subacute (6-12 weeks)",progressionRate:.85,phase:"chronic",protocol:"week9_12"},{value:"chronic",label:"Chronic (3+ months)",progressionRate:.9,phase:"stable",protocol:"week13_plus"},{value:"historical",label:"Historical (fully resolved)",progressionRate:1,phase:"resolved",protocol:"week13_plus"}]},professionalClearance:{question:"Medical professional status:",type:"radio",options:[{value:"not_seen",label:"Not seen",clearance:"self_managed",systemRestrictions:[]},{value:"in_treatment",label:"Currently in treatment",clearance:"restricted",systemRestrictions:["high_intensity"]},{value:"cleared_restricted",label:"Cleared with restrictions",clearance:"modified",systemRestrictions:["full_intensity"]},{value:"fully_cleared",label:"Fully cleared",clearance:"full",systemRestrictions:[]},{value:"awaiting",label:"Awaiting clearance",clearance:"hold",systemRestrictions:["all_systems"]}]},lowerBackSpecific:{question:"Lower back symptoms:",type:"radio",condition:"lower_back",options:[{value:"no_issues",label:"No issues",restrictions:[]},{value:"morning_stiffness",label:"Morning stiffness only",restrictions:["extended_warmup"]},{value:"flexion_pain",label:"Pain with flexion",restrictions:["deadlifts","rows"]},{value:"extension_pain",label:"Pain with extension",restrictions:["overhead","back_extensions"]},{value:"radiating",label:"Radiating symptoms",restrictions:["all_spinal_loading"]}]},shoulderSpecific:{question:"Shoulder symptoms:",type:"radio",condition:"shoulder",options:[{value:"no_issues",label:"No issues",restrictions:[]},{value:"front_pain",label:"Front of shoulder pain",restrictions:["bench_press","dips"]},{value:"side_pain",label:"Side (impingement) pain",restrictions:["lateral_raises","overhead"]},{value:"instability",label:"Instability feeling",restrictions:["heavy_pressing","unstable_surface"]},{value:"frozen",label:"Frozen/restricted ROM",restrictions:["full_rom","overhead"]}]},kneeSpecific:{question:"Knee symptoms:",type:"radio",condition:"knee",options:[{value:"no_issues",label:"No issues",restrictions:[]},{value:"under_kneecap",label:"Pain under kneecap",restrictions:["deep_squats","lunges"]},{value:"inside_knee",label:"Inside knee pain",restrictions:["wide_stance","lateral_movements"]},{value:"outside_knee",label:"Outside knee pain",restrictions:["narrow_stance","adduction"]},{value:"behind_knee",label:"Behind knee pain",restrictions:["hamstring_work","deep_flexion"]},{value:"instability",label:"Instability/giving way",restrictions:["single_leg","plyometrics"]}]},recoveryStatus:{question:"Recovery from injury:",type:"radio",options:[{value:"0-25",label:"0-25% recovered",volumeMultiplier:.4},{value:"25-50",label:"25-50% recovered",volumeMultiplier:.5},{value:"50-75",label:"50-75% recovered",volumeMultiplier:.6},{value:"75-90",label:"75-90% recovered",volumeMultiplier:.8},{value:"90-100",label:"90-100% recovered",volumeMultiplier:1}]}},o=(g,d,x=!1)=>{let f={...i};x?(f[g]||(f[g]=[]),f[g].includes(d)?f[g]=f[g].filter(M=>M!==d):f[g]=[...f[g],d]):f[g]=d,n(f),h(f)},h=g=>{const d=m(g);t.updateInjuryScreen({responses:g,algorithmicResults:d,timestamp:new Date().toISOString()})},m=g=>{const d={volumeMultiplier:1,intensityCap:100,excludedPatterns:[],excludedExercises:[],exerciseModifications:{},progressionRate:1,warmupExtension:0,restMultiplier:1,specialRestrictions:[],clearanceLevel:"full",overallRisk:"low",returnToTrainingPhase:"phase4_optimization",systemCompatibility:{},monitoringProtocol:"standard"},x=[];if(g.injuryLocations&&g.injuryLocations.length>0&&g.injuryLocations.forEach(f=>{const M=c.injuryLocations.options.find(v=>v.value===f);M&&M.injuryType&&x.push(M.injuryType)}),g.lowerBackSpecific&&g.lowerBackSpecific!=="no_issues"&&(g.lowerBackSpecific==="flexion_pain"?x.push("lower_back_flexion_intolerant"):g.lowerBackSpecific==="extension_pain"&&x.push("lower_back_extension_intolerant")),g.shoulderSpecific&&g.shoulderSpecific!=="no_issues"&&(g.shoulderSpecific==="side_pain"?x.push("shoulder_impingement"):g.shoulderSpecific==="instability"&&x.push("shoulder_instability")),g.kneeSpecific&&g.kneeSpecific!=="no_issues"&&g.kneeSpecific==="under_kneecap"&&x.push("knee_patellofemoral"),x.length>0){const f=x.map(M=>r[M]).filter(Boolean);if(f.length>0){d.volumeMultiplier=Math.min(...f.map(j=>j.volumeReduction||1)),d.intensityCap=Math.min(...f.map(j=>j.intensityCap||100));const M=f.flatMap(j=>j.exclude||[]);d.excludedExercises=[...new Set(M)],f.forEach(j=>{j.modify&&Object.entries(j.modify).forEach(([P,w])=>{(!d.exerciseModifications[P]||j.volumeReduction<(d.exerciseModifications[P].sourceInjuryVolumeReduction||1))&&(d.exerciseModifications[P]={...w,sourceInjury:j,sourceInjuryVolumeReduction:j.volumeReduction})})});const v=x.length*.3+(x.includes("lower_back_flexion_intolerant")?.3:0)+(x.includes("shoulder_instability")?.2:0);v>=.7?d.overallRisk="high":v>=.4?d.overallRisk="moderate":d.overallRisk="low",["rp","linear","531","josh_bryant"].forEach(j=>{var T;const P=f.map(p=>{var _;const R=((_=p.adaptability)==null?void 0:_[j])||"moderate";return R==="excellent"?3:R==="good"?2:R==="moderate"?1:0}),w=P.reduce((p,R)=>p+R,0)/P.length;d.systemCompatibility[j]={score:w,rating:w>=2.5?"excellent":w>=1.5?"good":w>=.5?"moderate":"poor",modifications:((T=a[j])==null?void 0:T.injuryModifications)||{}}})}}if(g.generalStatus){const f=c.generalStatus.options.find(M=>M.value===g.generalStatus);f&&(d.intensityCap=Math.min(d.intensityCap,f.intensityCap),d.volumeMultiplier*=f.volumeMultiplier)}if(g.painScale){const f=c.painScale.options.find(M=>M.value===g.painScale);f&&(d.volumeMultiplier*=f.modifier,d.monitoringProtocol=f.monitoring||"standard",(f.action==="refer_out"||f.action==="medical_clearance")&&(d.clearanceLevel="medical_required"))}if(g.movementLimitations&&g.movementLimitations.length>0&&g.movementLimitations.forEach(f=>{const M=c.movementLimitations.options.find(v=>v.value===f);M&&d.excludedPatterns.push(M.pattern)}),g.injuryTimeline){const f=c.injuryTimeline.options.find(M=>M.value===g.injuryTimeline);f&&(d.progressionRate=f.progressionRate,d.returnToTrainingPhase=f.protocol||"phase4_optimization")}if(g.professionalClearance){const f=c.professionalClearance.options.find(M=>M.value===g.professionalClearance);f&&(d.clearanceLevel=f.clearance,f.systemRestrictions&&d.specialRestrictions.push(...f.systemRestrictions))}if(g.recoveryStatus){const f=c.recoveryStatus.options.find(M=>M.value===g.recoveryStatus);f&&(d.volumeMultiplier*=f.volumeMultiplier,d.returnToTrainingPhase=f.returnProtocol||"phase4_optimization")}return d.intensityCap<70||d.volumeMultiplier<.6||d.clearanceLevel==="medical_required"?d.overallRisk="high":(d.intensityCap<85||d.volumeMultiplier<.8)&&(d.overallRisk="moderate"),d.overallRisk==="high"?(d.warmupExtension=15,d.restMultiplier=1.5,d.monitoringProtocol="daily"):d.overallRisk==="moderate"&&(d.warmupExtension=10,d.restMultiplier=1.25,d.monitoringProtocol="weekly"),l.phases[d.returnToTrainingPhase]&&(d.returnToTrainingDetails=l.phases[d.returnToTrainingPhase]),d.volumeMultiplier=Math.max(d.volumeMultiplier,.2),d.intensityCap=Math.max(d.intensityCap,40),d},u=g=>{const d=c[g];return d.condition?d.condition==="lower_back"?i.injuryLocations&&i.injuryLocations.includes("lower_back"):d.condition==="shoulder"?i.injuryLocations&&(i.injuryLocations.includes("shoulder_left")||i.injuryLocations.includes("shoulder_right")):d.condition==="knee"?i.injuryLocations&&(i.injuryLocations.includes("knee_left")||i.injuryLocations.includes("knee_right")):!0:!0},b=(g,d)=>e.jsxs("div",{className:"injury-question",children:[e.jsx("h4",{className:"question-title",children:d.question}),e.jsx("div",{className:`question-options ${d.type==="checkbox"?"checkbox-grid":"radio-list"}`,children:d.options.map((x,f)=>e.jsxs("label",{className:"option-label",children:[e.jsx("input",{type:d.type,name:g,value:x.value,checked:d.type==="checkbox"?(i[g]||[]).includes(x.value):i[g]===x.value,onChange:M=>o(g,x.value,d.type==="checkbox")}),e.jsx("span",{className:"option-text",children:x.label})]},x.value))})]},g);return e.jsxs("div",{className:"injury-screening-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"🏥 Algorithmic Injury Screening"}),e.jsx("p",{className:"step-description",children:"Structured assessment for automated program modification"})]}),e.jsx("div",{className:"injury-questionnaire",children:Object.entries(c).map(([g,d])=>u(g)&&b(g,d))}),((A=s.injuryScreen)==null?void 0:A.algorithmicResults)&&e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"💻 Algorithm Output"}),e.jsx("div",{className:"algorithm-results",children:e.jsxs("div",{className:"results-grid",children:[e.jsxs("div",{className:"result-section risk-overview",children:[e.jsx("h5",{children:"Risk Assessment"}),e.jsxs("div",{className:`risk-level ${s.injuryScreen.algorithmicResults.overallRisk}`,children:["Risk Level: ",s.injuryScreen.algorithmicResults.overallRisk.charAt(0).toUpperCase()+s.injuryScreen.algorithmicResults.overallRisk.slice(1)]}),e.jsxs("div",{className:"clearance-level",children:["Clearance: ",s.injuryScreen.algorithmicResults.clearanceLevel]}),e.jsxs("div",{className:"monitoring-protocol",children:["Monitoring: ",s.injuryScreen.algorithmicResults.monitoringProtocol]})]}),e.jsxs("div",{className:"result-section training-parameters",children:[e.jsx("h5",{children:"Training Parameters"}),e.jsxs("div",{className:"parameter",children:[e.jsx("span",{children:"Volume Multiplier:"}),e.jsxs("span",{className:"value",children:[(s.injuryScreen.algorithmicResults.volumeMultiplier*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"parameter",children:[e.jsx("span",{children:"Intensity Cap:"}),e.jsxs("span",{className:"value",children:[s.injuryScreen.algorithmicResults.intensityCap,"%"]})]}),e.jsxs("div",{className:"parameter",children:[e.jsx("span",{children:"Progression Rate:"}),e.jsxs("span",{className:"value",children:[(s.injuryScreen.algorithmicResults.progressionRate*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"parameter",children:[e.jsx("span",{children:"Rest Multiplier:"}),e.jsxs("span",{className:"value",children:[s.injuryScreen.algorithmicResults.restMultiplier,"x"]})]}),e.jsxs("div",{className:"parameter",children:[e.jsx("span",{children:"Warmup Extension:"}),e.jsxs("span",{className:"value",children:["+",s.injuryScreen.algorithmicResults.warmupExtension," min"]})]})]}),e.jsxs("div",{className:"result-section return-protocol",children:[e.jsx("h5",{children:"Return to Training Protocol"}),e.jsx("div",{className:"protocol-phase",children:e.jsxs("strong",{children:["Current Phase: ",(q=s.injuryScreen.algorithmicResults.returnToTrainingPhase)==null?void 0:q.replace("_"," ").replace(/\b\w/g,g=>g.toUpperCase())]})}),s.injuryScreen.algorithmicResults.returnToTrainingDetails&&e.jsxs("div",{className:"protocol-details",children:[e.jsxs("div",{className:"parameter",children:[e.jsx("span",{children:"Duration:"}),e.jsx("span",{className:"value",children:s.injuryScreen.algorithmicResults.returnToTrainingDetails.duration})]}),e.jsxs("div",{className:"parameter",children:[e.jsx("span",{children:"Volume Target:"}),e.jsx("span",{className:"value",children:s.injuryScreen.algorithmicResults.returnToTrainingDetails.volumeRange})]}),e.jsxs("div",{className:"parameter",children:[e.jsx("span",{children:"Intensity Target:"}),e.jsx("span",{className:"value",children:s.injuryScreen.algorithmicResults.returnToTrainingDetails.intensityRange})]})]})]}),s.injuryScreen.algorithmicResults.systemCompatibility&&Object.keys(s.injuryScreen.algorithmicResults.systemCompatibility).length>0&&e.jsxs("div",{className:"result-section system-compatibility",children:[e.jsx("h5",{children:"System Compatibility"}),Object.entries(s.injuryScreen.algorithmicResults.systemCompatibility).map(([g,d])=>e.jsxs("div",{className:"compatibility-item",children:[e.jsxs("span",{className:"system-name",children:[g.toUpperCase(),":"]}),e.jsxs("span",{className:`compatibility-rating ${d.rating}`,children:[d.rating," (",d.score.toFixed(1),"/3.0)"]})]},g))]}),s.injuryScreen.algorithmicResults.excludedExercises&&s.injuryScreen.algorithmicResults.excludedExercises.length>0&&e.jsxs("div",{className:"result-section excluded-exercises",children:[e.jsx("h5",{children:"Exercise Exclusions"}),e.jsx("div",{className:"exclusion-list",children:s.injuryScreen.algorithmicResults.excludedExercises.map((g,d)=>e.jsx("span",{className:"exclusion-tag",children:g},d))})]}),s.injuryScreen.algorithmicResults.exerciseModifications&&Object.keys(s.injuryScreen.algorithmicResults.exerciseModifications).length>0&&e.jsxs("div",{className:"result-section exercise-modifications",children:[e.jsx("h5",{children:"Exercise Modifications"}),Object.entries(s.injuryScreen.algorithmicResults.exerciseModifications).map(([g,d])=>e.jsxs("div",{className:"modification-item",children:[e.jsxs("strong",{children:[g,":"]}),e.jsxs("div",{className:"modification-details",children:[d.rom_restriction&&e.jsxs("span",{className:"mod-tag",children:["ROM: ",d.rom_restriction]}),d.load_restriction&&e.jsxs("span",{className:"mod-tag",children:["Load: ",d.load_restriction]}),d.volume_reduction&&e.jsxs("span",{className:"mod-tag",children:["Volume: -",((1-d.volume_reduction)*100).toFixed(0),"%"]}),d.tempo_modification&&e.jsxs("span",{className:"mod-tag",children:["Tempo: ",d.tempo_modification]}),d.special_equipment&&e.jsxs("span",{className:"mod-tag",children:["Equipment: ",d.special_equipment]})]})]},g))]}),s.injuryScreen.algorithmicResults.excludedPatterns&&s.injuryScreen.algorithmicResults.excludedPatterns.length>0&&e.jsxs("div",{className:"result-section excluded-patterns",children:[e.jsx("h5",{children:"Movement Pattern Restrictions"}),e.jsx("div",{className:"pattern-list",children:s.injuryScreen.algorithmicResults.excludedPatterns.map((g,d)=>e.jsx("span",{className:"pattern-tag",children:g},d))})]}),s.injuryScreen.algorithmicResults.specialRestrictions&&s.injuryScreen.algorithmicResults.specialRestrictions.length>0&&e.jsxs("div",{className:"result-section special-restrictions",children:[e.jsx("h5",{children:"Special Restrictions"}),e.jsx("div",{className:"restriction-list",children:s.injuryScreen.algorithmicResults.specialRestrictions.map((g,d)=>e.jsx("div",{className:"restriction-item",children:g},d))})]})]})})]}),e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>t.setCurrentStep(3),children:"← Back"}),e.jsx("button",{className:"btn-primary",onClick:()=>t.setCurrentStep(5),children:"Continue →"})]})]})},Jo=({onNext:s,onPrevious:t,canGoNext:i,canGoPrevious:n})=>{const{state:r,actions:l}=Me(),[a,c]=k.useState({chestPain:"",shortBreath:"",dizziness:"",heartMurmur:"",bloodPressure:"",medications:"",boneJointProblems:"",currentInjuries:"",recentSurgery:"",chronicPain:"",tacticalExperience:"",intensityTolerance:"",equipmentAccess:"",trainingEnvironment:""}),[o,h]=k.useState(null),m=[{category:"Cardiovascular Health",icon:"❤️",questions:[{id:"chestPain",question:"Have you ever experienced chest pain during or after exercise?",type:"yesno",risk:"high"},{id:"shortBreath",question:"Do you experience unusual shortness of breath during mild exertion?",type:"yesno",risk:"medium"},{id:"dizziness",question:"Have you experienced dizziness or fainting during exercise?",type:"yesno",risk:"high"},{id:"heartMurmur",question:"Has a doctor ever told you that you have a heart murmur?",type:"yesno",risk:"medium"},{id:"bloodPressure",question:"Has a doctor ever told you that your blood pressure is too high?",type:"yesno",risk:"medium"},{id:"medications",question:"Are you currently taking any medications for heart conditions?",type:"yesno",risk:"medium"}]},{category:"Musculoskeletal Health",icon:"🦴",questions:[{id:"boneJointProblems",question:"Do you have any bone or joint problems that might worsen with activity?",type:"yesno",risk:"medium"},{id:"currentInjuries",question:"Do you have any current injuries affecting your movement?",type:"yesno",risk:"medium"},{id:"recentSurgery",question:"Have you had any surgery in the past 6 months?",type:"yesno",risk:"medium"},{id:"chronicPain",question:"Do you experience chronic pain that affects daily activities?",type:"yesno",risk:"medium"}]},{category:"Bryant Training Readiness",icon:"🎯",questions:[{id:"tacticalExperience",question:"Do you have experience with tactical or military-style training?",type:"select",options:["None","Some","Moderate","Extensive"],risk:"info"},{id:"intensityTolerance",question:"How well do you tolerate high-intensity training?",type:"select",options:["Poor","Fair","Good","Excellent"],risk:"info"},{id:"equipmentAccess",question:"Do you have access to specialized equipment (sleds, ropes, etc.)?",type:"yesno",risk:"info"},{id:"trainingEnvironment",question:"What is your primary training environment?",type:"select",options:["Home gym","Commercial gym","Outdoor space","Tactical facility"],risk:"info"}]}],u=()=>{let q=0,g=0,d=0;m.forEach(w=>{w.questions.forEach(T=>{const p=a[T.id];p&&(d++,T.type==="yesno"&&p==="yes"&&(T.risk==="high"?q++:T.risk==="medium"&&g++))})});let x="low",f=[],M=[];q>0?(x="high",f.push("Medical clearance required before starting any exercise program"),f.push("Consult with physician before Bryant-specific training"),M.push("No high-intensity training until cleared"),M.push("No tactical applications until medical approval")):g>=2?(x="medium",f.push("Consider medical consultation"),f.push("Start with lower intensity and progress gradually"),M.push("Modified Bryant protocols may be needed")):(x="low",f.push("Cleared for Bryant periodization training"),f.push("Can progress to full intensity protocols"));const v=a.tacticalExperience,j=a.intensityTolerance;v==="None"||j==="Poor"?(f.push("Recommend preparatory phase before Bryant methods"),f.push("Focus on movement quality and conditioning base")):v==="Extensive"&&j==="Excellent"&&(f.push("Excellent candidate for full Bryant protocols"),f.push("Can implement advanced tactical applications"));const P={riskLevel:x,recommendations:f,restrictions:M,highRiskCount:q,mediumRiskCount:g,totalAnswered:d,bryantCleared:x==="low"&&q===0,completeness:d/m.reduce((w,T)=>w+T.questions.length,0)};return h(P),P},b=(q,g)=>{c(d=>({...d,[q]:g}))},C=()=>{const q=u();l.setProgramData({phaHealthScreen:{responses:a,assessment:q,completedAt:new Date().toISOString()}}),s&&s()},A=Object.keys(a).filter(q=>a[q]).length>=8;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[e.jsx("h2",{className:"text-xl font-bold text-red-400 mb-2",children:"❤️ PHA Health Screen - Bryant Training Readiness"}),e.jsx("p",{className:"text-red-300 text-sm",children:"Physical Health Assessment to ensure safe participation in Bryant periodization training. This screening is required before beginning high-intensity tactical protocols."})]}),m.map((q,g)=>e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:q.icon}),q.category]}),e.jsx("div",{className:"space-y-4",children:q.questions.map((d,x)=>e.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:[d.question,d.risk==="high"&&e.jsx("span",{className:"ml-2 text-xs bg-red-600 text-white px-2 py-1 rounded",children:"HIGH RISK"})]}),d.type==="yesno"?e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:d.id,value:"yes",checked:a[d.id]==="yes",onChange:f=>b(d.id,f.target.value),className:"mr-2"}),e.jsx("span",{className:"text-gray-300",children:"Yes"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:d.id,value:"no",checked:a[d.id]==="no",onChange:f=>b(d.id,f.target.value),className:"mr-2"}),e.jsx("span",{className:"text-gray-300",children:"No"})]})]}):e.jsxs("select",{value:a[d.id]||"",onChange:f=>b(d.id,f.target.value),className:"w-full p-2 rounded bg-gray-600 text-white border border-gray-500",children:[e.jsx("option",{value:"",children:"Select..."}),d.options.map((f,M)=>e.jsx("option",{value:f.toLowerCase(),children:f},M))]})]},d.id))})]},g)),o&&e.jsxs("div",{className:`rounded-lg p-4 border ${o.riskLevel==="high"?"bg-red-900/20 border-red-500/30":o.riskLevel==="medium"?"bg-yellow-900/20 border-yellow-500/30":"bg-green-900/20 border-green-500/30"}`,children:[e.jsxs("h3",{className:`text-lg font-semibold mb-3 ${o.riskLevel==="high"?"text-red-400":o.riskLevel==="medium"?"text-yellow-400":"text-green-400"}`,children:["Risk Assessment: ",o.riskLevel.toUpperCase()," RISK"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"Recommendations:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:o.recommendations.map((q,g)=>e.jsx("li",{className:"text-gray-300 text-sm",children:q},g))})]}),o.restrictions.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"Restrictions:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:o.restrictions.map((q,g)=>e.jsx("li",{className:"text-red-300 text-sm",children:q},g))})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Bryant Training Cleared: ",o.bryantCleared?"✅ Yes":"❌ No"]})]})]}),!o&&A&&e.jsx("button",{onClick:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Assess Health Risk"}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx("button",{onClick:t,disabled:!n,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous: Injury Screening"}),e.jsx("button",{onClick:C,disabled:!o||!i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next: Gainer Type"})]})]})},Zo=()=>{let s,t;try{const S=ai();s=S==null?void 0:S.state,t=S==null?void 0:S.dispatch,console.log("useAssessment - Context check:",{hasContext:!!S,hasState:!!s,hasDispatch:!!t})}catch(S){console.error("useAssessment: Error accessing context:",S),s={assessment:null},t=()=>console.warn("Dispatch not available")}const[i,n]=k.useState(!1),[r,l]=k.useState([]),a=S=>{if(!S||S<1)return null;const E=parseInt(S);return E<=3?{type:"Very Fast Gainer",characteristics:"High neural efficiency, low fatigue resistance",recommendations:["Very low volume training (8-12 sets per week)","Heavy loads (85-95% 1RM)","Low rep ranges (1-3 reps)","Long rest periods (3-5 minutes)","Focus on neural adaptations"]}:E<=8?{type:"Fast Gainer",characteristics:"Good neural drive, moderate fatigue resistance",recommendations:["Low-moderate volume (12-16 sets per week)","Moderate-heavy loads (80-90% 1RM)","Low-moderate reps (3-6 reps)","Adequate rest (2-3 minutes)","Balance neural and hypertrophy work"]}:E<=15?{type:"Slow Gainer",characteristics:"Lower neural efficiency, higher fatigue resistance",recommendations:["Higher volume training (16-24 sets per week)","Moderate loads (70-85% 1RM)","Higher rep ranges (6-12+ reps)","Shorter rest periods (1-2 minutes)","Focus on hypertrophy and work capacity"]}:{type:"Very Slow Gainer",characteristics:"Low neural efficiency, very high fatigue resistance",recommendations:["Very high volume (20-30 sets per week)","Light-moderate loads (60-80% 1RM)","High rep ranges (12-20+ reps)","Short rest periods (30-90 seconds)","Emphasize metabolic stress and volume"]}},c=(S,E)=>{var D;return((D={hamstrings:{fast:{description:"Fast-twitch dominant - responds to explosive movements",training:"Use <8 reps, explosive exercises, plyometrics, heavy RDLs"},slow:{description:"Slow-twitch dominant - responds to endurance work",training:"Use 12+ reps, time under tension, higher frequency"},mixed:{description:"Balanced fiber composition",training:"Use varied rep ranges 6-15, mix power and endurance work"}},quadriceps:{fast:{description:"Power-dominant, explosive capability",training:"Use <6 reps, jump squats, heavy squats, explosive movements"},slow:{description:"Endurance-dominant, fatigue resistant",training:"Use 15+ reps, high frequency, cycling-based movements"},mixed:{description:"Balanced power and endurance",training:"Use 8-12 reps, varied intensities, balanced approach"}},chest:{fast:{description:"Power-oriented, responds to heavy pressing",training:"Use <6 reps, explosive bench press, plyometric push-ups"},slow:{description:"Endurance-oriented, high fatigue resistance",training:"Use 12+ reps, high volume, time under tension"},mixed:{description:"Balanced pressing capability",training:"Use 6-12 reps, varied exercises, progressive overload"}}}[S])==null?void 0:D[E])||null},o=(S,E,B)=>{const D=[];return S==="youth"?(D.push("Focus on movement quality and skill development"),D.push("Avoid early specialization"),D.push("Emphasize fun and variety in training")):S==="masters"&&(D.push("Prioritize recovery and injury prevention"),D.push("Longer warm-ups and cool-downs needed"),D.push("Consider joint-friendly exercise variations")),E==="beginner"?(D.push("Start with basic movement patterns"),D.push("Focus on consistency over intensity"),D.push("Allow adequate adaptation time")):E==="advanced"&&(D.push("Can handle higher training loads"),D.push("Benefit from periodization strategies"),D.push("May need varied stimuli to progress")),B==="poor"?(D.push("Reduce training frequency"),D.push("Emphasize sleep and stress management"),D.push("Consider lower volume approaches")):B==="excellent"&&(D.push("Can handle higher training frequencies"),D.push("May benefit from daily training"),D.push("Good candidate for high-volume approaches")),D},h=S=>{const E={specific:{valid:S.specific&&S.specific.length>10,message:"Goal should be specific and detailed (10+ characters)"},measurable:{valid:S.measurable&&S.measurable.length>5,message:"Include specific numbers or metrics"},achievable:{valid:S.achievable&&S.achievable.length>10,message:"Explain why this goal is realistic"},relevant:{valid:S.relevant&&S.relevant.length>10,message:"Explain how this aligns with your priorities"},timeBound:{valid:S.timeBound&&S.timeBound.length>5,message:"Include a specific deadline or timeframe"}},B=Object.values(E).every(D=>D.valid);return{validation:E,allValid:B}},m=S=>{var D;const E=[];if((D=S.gainerType)!=null&&D.reps){const z=a(S.gainerType.reps);z&&(E.push(`${z.type}: ${z.characteristics}`),E.push(...z.recommendations.slice(0,2)))}Object.entries(S.fiberDominance||{}).forEach(([z,G])=>{const U=c(z,G);U&&E.push(`${z}: ${U.training}`)});const B=Object.entries(S.biomotorPriorities||{}).filter(([z,G])=>G==="high").map(([z])=>z);B.length>0&&E.push(`High priority: ${B.join(", ")}`),l(E)},u=async S=>{n(!0);try{return t({type:rs.UPDATE_ASSESSMENT,payload:{...s==null?void 0:s.assessment,enhancedAssessment:S}}),{success:!0,data:S}}catch(E){return console.error("Error saving assessment:",E),{success:!1,error:E.message}}finally{n(!1)}},b=async S=>{n(!0);try{return t&&t({type:rs.UPDATE_ASSESSMENT,payload:{...s==null?void 0:s.assessment,nutrition:S}}),localStorage.setItem("nutrition_assessment",JSON.stringify(S)),{success:!0,data:S}}catch(E){return console.error("Error saving nutrition assessment:",E),{success:!1,error:E.message}}finally{n(!1)}},C=S=>{const E={};let B=0,D=0;const z=S.workHours<=8&&S.restQuality>=7?10:S.workHours<=10&&S.restQuality>=5?7:S.workHours<=12&&S.restQuality>=3?4:2;E.workRest={score:z,max:10};const G=S.bodyWeight*.5,U=S.waterIntake>=G?10:S.waterIntake>=G*.8?7:S.waterIntake>=G*.6?4:2;E.water={score:U,max:10,target:G};const K=S.sleepHours>=7&&S.sleepHours<=9&&S.fallAsleepTime<=15&&S.sleepQuality>=7?10:S.sleepHours>=6&&S.sleepHours<=10&&S.fallAsleepTime<=20&&S.sleepQuality>=5?7:4;E.sleep={score:K,max:10};const ne=S.sunExposure>=15&&S.outdoorTime>=20?10:S.sunExposure>=10&&S.outdoorTime>=15?7:4;E.sun={score:ne,max:10};const ie=S.bowelMovements>=1&&S.bowelQuality>=3?10:S.bowelMovements>=.7&&S.bowelQuality>=2?7:4;E.digestion={score:ie,max:10};const te=S.dailyMovement>=30&&S.recoveryActivities?10:S.dailyMovement>=20?7:4;E.movement={score:te,max:10};const oe=S.mindfulEating&&S.chewingTime>=20?10:S.mindfulEating&&S.chewingTime>=15?7:4;E.eating={score:oe,max:10};const ue=S.lifeFullness>=7&&S.stressBucket<=3?10:S.lifeFullness>=5&&S.stressBucket<=5?7:4;E.mortality={score:ue,max:10},Object.values(E).forEach(zi=>{B+=zi.score,D+=zi.max});const ve=B/D*100,xo=ve>=85?"Mastery":ve>=70?"Proficient":ve>=55?"Developing":"Foundation";return{scores:E,totalScore:B,maxScore:D,percentage:ve,tier:xo,suggestions:A(E)}},A=(S,E)=>{const B=[];return S.sleep.score<7&&B.push({category:"Sleep",priority:"High",recommendations:["Limit caffeine after 2 PM","Create dark, cool environment (65-68°F)","Establish consistent bedtime routine","Consider magnesium supplementation","Journal or stretch before bed"]}),S.water.score<7&&B.push({category:"Hydration",priority:"High",recommendations:[`Target ${S.water.target}oz daily (${Math.round(S.water.target/8)} glasses)`,"Drink 16-20oz upon waking","Add electrolytes if sweating heavily","Track intake with marked water bottle"]}),S.digestion.score<7&&B.push({category:"Digestion",priority:"Medium",recommendations:["Increase fiber intake (25-35g daily)","Chew each bite 20-30 times","Sit while eating, avoid distractions","Consider probiotic foods (kefir, sauerkraut)","Stay hydrated throughout day"]}),B},q=(S,E,B,D)=>{if(E<55)return{blocked:!0,message:"Complete BLGs foundation (55%+) before Fuel assessment",unlockRequirements:["Improve sleep consistency","Increase water intake","Establish daily movement"]};const z=g(S),G=d(S.stats),U=x(S.stats,B,D,S.goals);return{profile:z,tdee:G,macros:U,suggestions:M(z,U,B)}},g=S=>{const E=10-(S.processedMeals||0),B=S.wholeFoods||0,D=S.mealConsistency||0,z=S.nutritionAwareness||0,G=(E+B+D+z)/4;return G>=9?"Highest":G>=7?"Optimal":G>=5?"Adequate":"Inadequate"},d=S=>{const E=S.gender==="male"?10*S.weight+6.25*S.height-5*S.age+5:10*S.weight+6.25*S.height-5*S.age-161,B=S.weight*20,D=Math.max(E,B),z=D*.1,U=D*{sedentary:1.2,lightly_active:1.375,moderately_active:1.55,very_active:1.725,extremely_active:1.9}[S.activityLevel]-D;return{bmr:Math.round(D),tef:Math.round(z),neat:Math.round(U),total:Math.round(D+z+U)}},x=(S,E,B,D)=>{const z=S.weight*(1-(S.bodyFat||15)/100);let G=.8;(E==null?void 0:E.type)==="Very Fast Gainer"||(E==null?void 0:E.type)==="Fast Gainer"?G=.6:((E==null?void 0:E.type)==="Slow Gainer"||(E==null?void 0:E.type)==="Very Slow Gainer")&&(G=1.1),(B==null?void 0:B.strength)>=8&&(G+=.2),(B==null?void 0:B.endurance)>=8&&(G+=.1);const U=Math.round(z*G),K=U*4;let ne=150;(B==null?void 0:B.endurance)>=7&&(ne=200),(B==null?void 0:B.power)>=7&&(ne=175),D!=null&&D.includes("fat_loss")&&(ne=100),E!=null&&E.type.includes("Fast")&&(ne-=25);const ie=ne*4,te=S.tdee-K-ie,oe=Math.round(te/9),ue=oe*9;return{protein:{grams:U,calories:K,percentage:Math.round(K/S.tdee*100)},carbs:{grams:ne,calories:ie,percentage:Math.round(ie/S.tdee*100)},fats:{grams:oe,calories:ue,percentage:Math.round(ue/S.tdee*100)}}},f=(S,E,B)=>{if(E<70||!["Optimal","Highest"].includes(B))return{blocked:!0,message:"Complete BLGs (70%+) and achieve Optimal Fuel before Personalization",unlockRequirements:["Master sleep and stress management","Establish consistent nutrition habits"]};const D=v(),z=j(S.aversions,S.symptoms);return{deloading:D,elimination:z,recommendations:P()}},M=(S,E,B)=>{const D=[];return S==="Inadequate"&&D.push({category:"Foundation Building",priority:"Critical",recommendations:["Focus on whole foods first (80%+ of meals)","Establish consistent meal timing","Reduce processed food intake gradually","Practice mindful eating habits"]}),S==="Adequate"&&D.push({category:"Optimization",priority:"High",recommendations:[`Target ${E.protein.grams}g protein daily`,`Aim for ${E.carbs.grams}g carbohydrates around training`,"Include healthy fats (nuts, oils, avocado)","Track intake for 2-3 weeks to establish patterns"]}),(B==null?void 0:B.type)==="Fast Gainer"?D.push({category:"Fast Gainer Protocol",priority:"Medium",recommendations:["Lower carbohydrate intake on rest days","Focus on protein timing around workouts","Consider intermittent fasting windows","Monitor for quick glycemic responses"]}):(B==null?void 0:B.type)==="Slow Gainer"&&D.push({category:"Slow Gainer Protocol",priority:"Medium",recommendations:["Higher carbohydrate intake to support volume","More frequent meals (4-6 times daily)","Focus on caloric density","Consider post-workout carbohydrates"]}),D},v=S=>({carb_cycling:{name:"Carbohydrate Cycling",description:"Strategic carb manipulation for body composition",protocol:"3 low days (50-100g), 1 high day (200-300g)",benefits:["Fat loss while maintaining performance","Metabolic flexibility"],prerequisites:["Stable fuel habits for 8+ weeks"]},intermittent_fasting:{name:"Intermittent Fasting",description:"Time-restricted eating windows",protocol:"16:8 or 18:6 eating windows",benefits:["Simplified meal planning","Potential longevity benefits"],prerequisites:["Good relationship with food","No eating disorders"]},elimination_diets:{name:"Systematic Elimination",description:"Identify food sensitivities",protocol:"21-day elimination → systematic reintroduction",benefits:["Identify trigger foods","Optimize digestion"],prerequisites:["BLGs mastery","Fuel consistency"]}}),j=(S,E)=>({phase1:{name:"Elimination Phase",duration:"21 days",eliminated_foods:["gluten","dairy","sugar","alcohol","caffeine","corn","soy"].filter(z=>!(S!=null&&S.includes(z))),allowed_foods:["Vegetables (except nightshades)","Fruits (low glycemic)","Lean proteins","Nuts and seeds","Healthy oils"],tracking:["Energy levels","Digestion","Sleep quality","Mood","Skin"]},phase2:{name:"Reintroduction Phase",duration:"14 days",process:"Add one food group every 3 days",order:["dairy","gluten","sugar","alcohol"],monitoring:"Track symptoms for 72 hours after each reintroduction"},phase3:{name:"Personalization Phase",duration:"Ongoing",outcome:"Create personalized food guidelines based on responses"}}),P=S=>{const E=[];return E.push({category:"Advanced Protocols",items:["Experiment with meal timing around training","Test supplement protocols (creatine, caffeine, etc.)","Monitor biomarkers (blood work, HRV)","Adjust based on training phases"]}),E.push({category:"Lifestyle Integration",items:["Develop travel nutrition strategies","Create social eating guidelines","Build flexible meal preparation systems","Establish long-term sustainability practices"]}),E},w=(S,E,B)=>{const{preferredModalities:D,currentSpectrum:z,competitionLifts:G,trainingAge:U}=S,K=T(E,U),ne=p(D,E),ie=R(E,U);return{optimalSpectrum:K,compatibilityWarnings:ne,adaptationSequence:ie,recommendations:_(K,ne)}},T=(S,E,B)=>E==="beginner"?{type:"broad",focus:"hypertrophy",repRange:"6-12",intensity:"60-75%",rationale:"Build general strength base and muscle mass"}:S.some(D=>D.includes("competition")||D.includes("powerlifting")||D.includes("meet"))?{type:"narrow",focus:"competition_specific",repRange:"1-3",intensity:"85-100%",rationale:"Practice competition lifts and neurological adaptations"}:S.some(D=>D.includes("strength")||D.includes("1RM"))?{type:"moderate",focus:"strength",repRange:"3-6",intensity:"75-90%",rationale:"Build maximum strength with some specificity"}:{type:"broad",focus:"hypertrophy",repRange:"6-12",intensity:"60-80%",rationale:"Maximize muscle growth and general strength"},p=(S,E)=>{const B=[];return S.includes("endurance")&&S.includes("strength")&&B.push({type:"strength_endurance_conflict",severity:"high",title:"Strength/Endurance Interference",description:"Concurrent training can reduce strength gains through:",mechanisms:["Muscle catabolism from excessive cardio","Accumulated fatigue limiting strength training quality","Fiber type shifts toward Type I (slow-twitch)","Reduced protein synthesis signaling"],suggestions:["Limit cardio to 2-3 sessions/week if strength is priority","Separate strength and cardio by 6+ hours","Focus on low-impact steady state over HIIT","Prioritize one quality over the other"]}),S.includes("flexibility")&&S.includes("strength")&&B.push({type:"strength_flexibility_conflict",severity:"medium",title:"Strength/Flexibility Balance",description:"Excessive flexibility work can compromise:",mechanisms:["Reduced stretch-shortening cycle efficiency","Decreased joint stability","Altered muscle activation patterns"],suggestions:["Focus flexibility work post-workout","Emphasize dynamic over static stretching pre-workout","Target specific mobility limitations only","Maintain strength through full ROM"]}),S.includes("power")&&S.includes("strength")&&B.push({type:"strength_power_volume",severity:"low",title:"Strength/Power Volume Management",description:"High-intensity combination requires careful volume management:",mechanisms:["CNS fatigue accumulation","Quality degradation with high volumes","Recovery limitations"],suggestions:["Alternate strength and power emphasis","Reduce volume when combining both","Prioritize movement quality over quantity","Plan adequate recovery between sessions"]}),E.some(D=>D.includes("competition"))&&S.includes("bodybuilding")&&B.push({type:"specificity_mismatch",severity:"medium",title:"Competition Specificity Gap",description:"Bodybuilding methods may not transfer to competition performance:",mechanisms:["Different rep ranges and intensities","Isolation vs. compound movement focus","Technique practice limitations"],suggestions:["Transition to competition-specific training blocks","Practice competition lifts regularly","Reduce isolation work closer to competition","Focus on strength qualities that transfer"]}),B},R=(S,E,B)=>{const D=[];return E==="beginner"&&(D.push({phase:"accumulation",block:"hypertrophy",duration:"8-12 weeks",focus:"Build muscle mass and movement patterns",spectrum:"broad",intensity:"60-75%",volume:"high",exercises:"Compound movements + assistance",unlocked:!0}),D.push({phase:"intensification",block:"general_strength",duration:"6-8 weeks",focus:"Increase force production",spectrum:"moderate",intensity:"75-85%",volume:"moderate",exercises:"Competition lifts + variations",unlocked:!1,prerequisite:"Complete hypertrophy block"})),(E==="intermediate"||E==="advanced")&&(S.some(z=>z.includes("competition")||z.includes("meet"))?(D.push({phase:"accumulation",block:"volume_block",duration:"4-6 weeks",focus:"Build work capacity",spectrum:"moderate",intensity:"70-80%",volume:"high",unlocked:!0}),D.push({phase:"intensification",block:"strength_block",duration:"4-5 weeks",focus:"Maximize strength",spectrum:"narrow",intensity:"80-95%",volume:"moderate",unlocked:!1,prerequisite:"Complete volume block"}),D.push({phase:"peaking",block:"competition_prep",duration:"2-3 weeks",focus:"Peak for competition",spectrum:"narrow",intensity:"90-105%",volume:"low",unlocked:!1,prerequisite:"Complete strength block"}),D.push({phase:"deload",block:"recovery",duration:"1 week",focus:"Recovery and supercompensation",unlocked:!1,prerequisite:"Complete peaking block"})):(D.push({phase:"accumulation",block:"hypertrophy",duration:"6-8 weeks",focus:"Muscle growth",spectrum:"broad",intensity:"65-80%",volume:"high",unlocked:!0}),D.push({phase:"intensification",block:"strength",duration:"4-6 weeks",focus:"Strength gains",spectrum:"moderate",intensity:"80-90%",volume:"moderate",unlocked:!1,prerequisite:"Complete hypertrophy block"}))),D},_=(S,E)=>{const B=[];return S.type==="broad"?B.push({category:"Exercise Selection",priority:"High",items:["Focus on compound movements (squat, bench, deadlift)","Include assistance exercises for weak points","Use various rep ranges (6-15) for different adaptations","Practice movement patterns with lighter loads"]}):S.type==="narrow"&&B.push({category:"Competition Specificity",priority:"High",items:["Practice exact competition commands and timing","Use competition equipment and gear","Focus 80%+ training on competition lifts","Minimize assistance work to movement prep only"]}),E.forEach(D=>{D.severity==="high"&&B.push({category:"Conflict Resolution",priority:"Critical",items:D.suggestions})}),B},W=(S,E,B)=>{const{spectrum:D,goals:z}=S;let G=(E==null?void 0:E.type)==="Fast Gainer"?12:18,U=75,K=3;return D==="narrow"?(U+=10,G-=4,K=4):D==="broad"&&(U-=5,G+=6,K=3),(B==null?void 0:B.strength)>=8&&(U+=5),(B==null?void 0:B.endurance)>=7&&(G+=2),{volume:{setsPerWeek:G,repsPerSet:D==="narrow"?"1-3":D==="broad"?"8-12":"4-6"},intensity:{percentage:U,relative:U>=85?"High":U>=70?"Moderate":"Low"},frequency:{sessionsPerWeek:K,daysOff:7-K}}},y=(S,E,B)=>{const D=B.findIndex(K=>K.block===S),z=B.findIndex(K=>K.block===E);if(z<=D)return{valid:!0,message:"Phase progression is valid"};const G=B.slice(D+1,z+1);if(G.filter(K=>K.unlocked).length<G.length){const K=G.find(ne=>!ne.unlocked);return{valid:!1,message:`Must complete ${K.prerequisite} before advancing to ${E}`,nextPhase:K.block}}return{valid:!0,message:"Ready to advance phase"}},N=async S=>{n(!0);try{return t&&t({type:rs.UPDATE_ASSESSMENT,payload:{...s==null?void 0:s.assessment,specificity:S}}),localStorage.setItem("specificity_assessment",JSON.stringify(S)),{success:!0,data:S}}catch(E){return console.error("Error saving specificity assessment:",E),{success:!1,error:E.message}}finally{n(!1)}},O=(S,E,B)=>{const{volume:D,intensity:z,frequency:G,exerciseSelection:U,failureProximity:K,baseline:ne}=S,ie=L(E),te=V(S),oe=Z(S,ie),ue=pe(S,U);return{mrvByPhase:ie,disruptionLevel:te,progressionPlan:oe,optimizations:ue,currentLoad:je(D,z,G),recommendations:le(te,ie,B)}},L=(S,E)=>{const B={"Very Fast Gainer":{hypertrophy:10,strength:8,peaking:6},"Fast Gainer":{hypertrophy:14,strength:12,peaking:8},"Slow Gainer":{hypertrophy:20,strength:16,peaking:12},"Very Slow Gainer":{hypertrophy:26,strength:20,peaking:14}},D=B[S==null?void 0:S.type]||B["Fast Gainer"];return{hypertrophy:{sets:D.hypertrophy,repsRange:"8-15",intensityRange:"60-75%",proximityToFailure:"1-3 RIR",description:"Highest MRV phase - focus on volume accumulation"},strength:{sets:D.strength,repsRange:"3-6",intensityRange:"75-90%",proximityToFailure:"2-4 RIR",description:"Moderate MRV - balance intensity and volume"},peaking:{sets:D.peaking,repsRange:"1-3",intensityRange:"90-105%",proximityToFailure:"0-1 RIR",description:"Lowest MRV - prioritize intensity and technique"},activeRecovery:{sets:Math.round(D.hypertrophy*.25),repsRange:"5-10",intensityRange:"40-60%",proximityToFailure:"5+ RIR",description:"Deload phase - maintain movement patterns"}}},V=S=>{const{volume:E,intensity:B,frequency:D,failureProximity:z}=S,G=E.sets*E.reps*B/100,U=B>=90?3:B>=80?2:1,K=D>=6?3:D>=4?2:1,ne=z<=1?3:z<=3?2:1,ie=G+U+K+ne;let te,oe,ue;return ie<=8?(te="minimal",oe="Low homeostatic disruption - sustainable long-term",ue="12-24 hours"):ie<=15?(te="moderate",oe="Moderate disruption - drives adaptations effectively",ue="24-48 hours"):ie<=22?(te="high",oe="High disruption - requires careful monitoring",ue="48-72 hours"):(te="excessive",oe="Excessive disruption - risk of overreaching/overtraining",ue="72+ hours"),{level:te,score:ie,description:oe,recoveryTime:ue,breakdown:{volume:G,intensity:U,frequency:K,failure:ne}}},Z=(S,E,B)=>{const D=[];D.push({step:1,title:"Baseline Assessment",action:"Establish current 1RM and rep maxes",duration:"1-2 weeks",metrics:["1RM testing","Rep max at 70%, 80%, 90%","Recovery time between sessions"],example:"Bench Press: Test 1RM, then 8RM at 70%, 5RM at 80%, 3RM at 90%"});const z=Object.keys(E)[0],G=E[z];return D.push({step:2,title:"Variable Manipulation",action:"Systematically increase training variables",duration:"4-8 weeks",options:[{variable:"Volume",method:"Add 1 set per week until MRV reached",example:`Week 1: ${G.sets-2} sets → Week 4: ${G.sets} sets`},{variable:"Intensity",method:"Increase load by 2.5-5% when rep target achieved",example:"Bench 300lbs 3x8 @70% → 3x8 @75% when 8 reps achieved"},{variable:"Frequency",method:"Add training session when recovery allows",example:"3x/week → 4x/week if performance maintained"},{variable:"Exercise Selection",method:"Prioritize specific movements, minimize non-specific",example:"Competition lifts 80%, assistance 20%"},{variable:"Failure Proximity",method:"Gradually reduce RIR during intensification",example:"4 RIR → 3 RIR → 2 RIR over mesocycle"}]}),D.push({step:3,title:"Recovery Monitoring",action:"Track adaptation vs fatigue accumulation",duration:"Ongoing",indicators:["Performance maintenance/improvement","Sleep quality and duration","Subjective recovery scores","Heart rate variability (if available)","Fatigue proxy symptoms"],adjustments:["Reduce volume if performance declines","Add deload week if multiple proxies indicate overreaching","Increase calories/carbs if fuel stores depleted"]}),D},pe=(S,E)=>{const B=[];return E.specific/(E.specific+E.nonSpecific)<.8&&B.push({category:"Exercise Selection",priority:"High",issue:"Too much non-specific training reducing recovery for main lifts",solution:"Increase specific movement ratio to 80%+",impact:"Improved recovery capacity for competition lifts",example:"Replace 2 accessory exercises with competition lift variations"}),S.volume.sets>20&&B.push({category:"Volume Management",priority:"Medium",issue:"High volume may be exceeding MRV",solution:"Redistribute volume across more sessions or reduce total",impact:"Better recovery and adaptation quality",example:"Split 24 sets across 4 sessions instead of 3"}),S.intensity>85&&S.frequency>4&&B.push({category:"Intensity-Frequency Balance",priority:"High",issue:"High intensity + high frequency = excessive neural stress",solution:"Reduce frequency or implement intensity cycling",impact:"Reduced neural fatigue, maintained strength gains",example:"Alternate heavy (90%) and moderate (75%) sessions"}),B},je=(S,E,B)=>{const D=S.sets*S.reps*(E/100)*B;return{weeklyLoad:Math.round(D),sessionsPerWeek:B,setsPerSession:Math.round(S.sets/B),relativeIntensity:E>=90?"Very High":E>=80?"High":E>=70?"Moderate":"Low"}},Le=(S,E,B)=>{const D=H(S.fuel,E),z=X(S.nervous,E),G=ae(S.messengers,E),U=me(S.tissues,E),K=fe(D,z,G,U),ne=F(K,B),ie=Q(D,z,G,U);return{contributors:{fuel:D,nervous:z,messengers:G,tissues:U},overallState:K,managementStrategies:ne,recoveryTimeline:ie,recommendations:xe(K,ne)}},H=(S,E)=>{const{glycogenStores:B,muscleFullness:D,energyLevels:z,postWorkoutFatigue:G}=S,U=B<=3?8:B<=5?5:B<=7?3:1,K=E.weeklyLoad>1e3?3:E.weeklyLoad>500?2:1,ne=U+K+(10-D)+(10-z);let ie,te,oe;return ne<=8?(ie="minimal",te="Fuel stores adequate, energy levels stable",oe="hours"):ne<=15?(ie="moderate",te="Some fuel depletion, manageable with nutrition",oe="1-2 days"):ne<=22?(ie="high",te="Significant fuel depletion affecting performance",oe="2-3 days"):(ie="severe",te="Critical fuel depletion, training quality compromised",oe="3-7 days"),{level:ie,score:ne,description:te,recoveryTime:oe,proxies:{glycogenDepletion:B<=5,reducedMuscleFullness:D<=6,lowEnergy:z<=5,prolongedFatigue:G>4}}},X=(S,E)=>{const{forceOutput:B,techniqueQuality:D,motivation:z,learningRate:G,sleepQuality:U}=S,K=E.weeklyLoad>1200?6:E.weeklyLoad>800?4:2,ne=E.relativeIntensity==="Very High"?4:E.relativeIntensity==="High"?2:1,ie=10-B+(10-D)+(10-z),te=K+ne+ie+(10-U);let oe,ue,ve;return te<=10?(oe="minimal",ue="Neural efficiency maintained, technique stable",ve="days"):te<=18?(oe="moderate",ue="Some neural fatigue, minor technique degradation",ve="3-7 days"):te<=26?(oe="high",ue="Significant neural fatigue, noticeable force reduction",ve="1-2 weeks"):(oe="severe",ue="Severe neural fatigue, major technique breakdowns",ve="2-4 weeks"),{level:oe,score:te,description:ue,recoveryTime:ve,proxies:{reducedForce:B<=6,techniqueBreakdown:D<=6,lowMotivation:z<=5,poorLearning:G<=5,sleepIssues:U<=6}}},ae=(S,E)=>{const{moodSwings:B,inflammation:D,hormoneSymptoms:z,recoveryRate:G,soreness:U}=S,K=E.weeklyLoad>1e3?8:E.weeklyLoad>600?5:2,ne=D>=7?6:D>=5?3:1,ie=z>=6?4:z>=4?2:1,te=K+ne+ie+B+(10-G);let oe,ue,ve;return te<=12?(oe="minimal",ue="Hormonal balance maintained, normal inflammation",ve="weeks"):te<=20?(oe="moderate",ue="Some hormonal disruption, elevated inflammation",ve="2-3 weeks"):te<=28?(oe="high",ue="Significant hormonal imbalance, chronic inflammation",ve="4-6 weeks"):(oe="severe",ue="Severe hormonal disruption, systemic inflammation",ve="6-12 weeks"),{level:oe,score:te,description:ue,recoveryTime:ve,proxies:{elevatedInflammation:D>=6,hormoneDisruption:z>=5,moodInstability:B>=6,slowRecovery:G<=5,chronicSoreness:U>=7}}},me=(S,E)=>{const{jointPain:B,muscleTightness:D,tendonIssues:z,overuseSymptoms:G,injuryHistory:U}=S,K=(B+D+z+G)/4,ne=E.weeklyLoad>800?4:E.weeklyLoad>400?2:1,ie=U>=3?3:U>=1?2:1,te=K+ne+ie;let oe,ue,ve;return te<=8?(oe="minimal",ue="Tissues adapting well, minimal structural stress",ve="weeks"):te<=12?(oe="moderate",ue="Some tissue stress, manageable with recovery protocols",ve="4-8 weeks"):te<=16?(oe="high",ue="Significant tissue stress, injury risk elevated",ve="2-4 months"):(oe="severe",ue="Critical tissue stress, chronic injury likely",ve="4-12 months"),{level:oe,score:te,description:ue,recoveryTime:ve,proxies:{jointDiscomfort:B>=6,excessiveTightness:D>=7,tendonProblems:z>=5,overusePattern:G>=6,injuryProne:U>=2}}},fe=(S,E,B,D)=>{const z=[S.score,E.score,B.score,D.score],G=Math.max(...z),U=z.reduce((ue,ve)=>ue+ve,0)/4,K=[S,E,B,D].filter(ue=>ue.level==="severe").length,ne=[S,E,B,D].filter(ue=>ue.level==="high").length;let ie,te,oe;return K>=2||G>30?(ie="overtraining",te="Net-negative state requiring extended recovery",oe="Active rest phase (1/4 normal volume) for 4-8 weeks"):K>=1||ne>=2||G>25?(ie="non_functional_overreaching",te="Accidental overreach affecting performance",oe="Immediate deload (50% volume) for 1-2 weeks"):ne>=1||U>18?(ie="functional_overreaching",te="Intentional overreach before planned deload",oe="Continue 1-3 weeks then deload"):(ie="normal",te="At or below MRV, positive adaptations occurring",oe="Continue current training load"),{state:ie,description:te,action:oe,riskLevel:K>=1?"high":ne>=2?"moderate":"low"}},F=(S,E)=>{const B=[];if((S.state==="functional_overreaching"||S.state==="non_functional_overreaching")&&B.push({type:"light_sessions",description:"Low volume, high intensity sessions to maintain adaptations",protocol:{volume:"50-60% of normal",intensity:"80-90% of normal",frequency:"Every other planned session"},benefits:["Maintains strength","Reduces fatigue accumulation","Preserves neural patterns"],duration:"1-2 weeks"}),S.state!=="normal"){const D=S.state==="overtraining"?25:50;B.push({type:"deload",description:`Reduce training volume to ${D}% of normal`,protocol:{volume:`${D}% of normal volume`,intensity:"Maintain or slightly reduce",focus:"Movement quality and recovery"},duration:S.state==="overtraining"?"4-8 weeks":"1-2 weeks"})}return S.state==="overtraining"&&B.push({type:"active_rest",description:"Complete break from intense training",protocol:{volume:"25% of normal volume",intensity:"40-60% intensity",activities:["Light movement","Mobility work","Recreation"]},duration:"4-12 weeks depending on severity"}),E.sleep<7&&B.push({type:"sleep_optimization",description:"Prioritize sleep quantity and quality",targets:["7-9 hours nightly","Consistent bedtime","Dark, cool environment"],impact:"Improves all fatigue categories"}),E.stress>=7&&B.push({type:"stress_management",description:"Reduce external stressors that impair recovery",methods:["Meditation","Time management","Social support","Professional help"],impact:"Increases MRV and recovery capacity"}),B},Q=(S,E,B,D)=>({fuel:{timeframe:S.recoveryTime,priority:"Immediate",methods:["Increase carbohydrates","Post-workout nutrition","Hydration"]},nervous:{timeframe:E.recoveryTime,priority:"Short-term",methods:["Reduce volume/intensity","Improve sleep","Stress management"]},messengers:{timeframe:B.recoveryTime,priority:"Medium-term",methods:["Low-volume phases","Anti-inflammatory foods","Hormone support"]},tissues:{timeframe:D.recoveryTime,priority:"Long-term",methods:["Active rest","Physical therapy","Load management"]}}),le=(S,E,B)=>{const D=[];S.level==="excessive"?D.push({category:"Immediate Action",priority:"Critical",items:["Reduce training volume by 30-50%","Increase rest days to 2-3 per week","Focus on sleep and nutrition optimization","Consider medical evaluation if symptoms persist"]}):S.level==="high"&&D.push({category:"Load Management",priority:"High",items:["Monitor daily readiness scores","Implement planned deload week","Reduce proximity to failure by 1-2 RIR","Add light session between hard sessions"]});const z=E[B];return z&&D.push({category:`${B.charAt(0).toUpperCase()+B.slice(1)} Phase Guidelines`,priority:"Medium",items:[`Target ${z.sets} sets per week`,`Use ${z.repsRange} rep range`,`Train at ${z.intensityRange} intensity`,`Maintain ${z.proximityToFailure} from failure`]}),D},xe=(S,E)=>{const B=[];return S.state==="overtraining"?B.push({category:"Critical Recovery",priority:"Critical",items:["Implement immediate active rest phase","Seek medical evaluation for hormonal assessment","Address sleep, nutrition, and stress comprehensively","Consider 4-12 week recovery timeline"]}):S.state==="non_functional_overreaching"&&B.push({category:"Recovery Protocol",priority:"High",items:["Immediate 50% volume reduction","Add extra rest day this week","Focus on stress management and sleep","Monitor for improvement in 7-14 days"]}),E.forEach(D=>{D.type==="light_sessions"&&B.push({category:"Light Session Protocol",priority:"Medium",items:[`Reduce volume to ${D.protocol.volume}`,`Maintain ${D.protocol.intensity} intensity`,"Focus on movement quality over quantity","Use these sessions for skill practice"]})}),B},be=async S=>{n(!0);try{return t&&t({type:rs.UPDATE_ASSESSMENT,payload:{...s==null?void 0:s.assessment,overload:S}}),localStorage.setItem("overload_assessment",JSON.stringify(S)),{success:!0,data:S}}catch(E){return console.error("Error saving overload assessment:",E),{success:!1,error:E.message}}finally{n(!1)}},Te=async S=>{n(!0);try{return t&&t({type:rs.UPDATE_ASSESSMENT,payload:{...s==null?void 0:s.assessment,fatigue:S}}),localStorage.setItem("fatigue_assessment",JSON.stringify(S)),{success:!0,data:S}}catch(E){return console.error("Error saving fatigue assessment:",E),{success:!1,error:E.message}}finally{n(!1)}},Ae=S=>{const{highBP:E,cardiacHistory:B,fitness:D}=S,z=[];let G=10;E&&(z.push({factor:"High Blood Pressure",severity:"critical",description:"PHA circuits create significant cardiovascular stress",impact:"Complete contraindication for no-rest circuits"}),G-=10),B&&(z.push({factor:"Cardiac History",severity:"critical",description:"Previous heart conditions increase risk during high-intensity circuits",impact:"Medical clearance required before PHA participation"}),G-=8),D==="poor"&&(z.push({factor:"Poor Cardiovascular Fitness",severity:"moderate",description:"Insufficient fitness base for high-intensity no-rest training",impact:"Build fitness base before attempting PHA circuits"}),G-=6);let U,K;G<=0?(U="contraindicated",K=["PHA circuits are not recommended based on current health status","Focus on traditional strength training with adequate rest periods","Consult healthcare provider before high-intensity training","Consider alternative conditioning methods (steady-state cardio, tempo work)"]):G<=4?(U="conditional",K=["PHA circuits may be possible with modifications and medical clearance","Start with longer rest periods (30-60 seconds) between exercises","Monitor heart rate and blood pressure responses","Progress gradually over 8-12 weeks before attempting no-rest circuits"]):G<=7?(U="limited",K=["PHA circuits appropriate with careful progression","Begin with modified circuits (15-30 second rest periods)","Focus on movement quality over intensity initially","Build up to no-rest circuits over 4-6 weeks"]):(U="eligible",K=["Cleared for full PHA circuit training","Can safely perform no-rest circuits as per Bryant protocols","Follow 4-6 week PHA blocks with mandatory deload","Monitor for signs of overreaching (elevated HR, poor recovery)"]);const ne=we(U);return{eligibilityStatus:U,eligibilityScore:G,contraindications:z,recommendations:K,programModifications:ne,bryantGuidelines:{maxCycleDuration:"4-6 weeks",restBetweenExercises:U==="eligible"?"0 seconds":"15-30 seconds",transitionTime:"30 seconds maximum",mandatoryDeload:"Required after each PHA block",progressionRate:"5-10% weekly increases in volume/intensity"}}},we=(S,E)=>{const B=[];switch(S){case"contraindicated":B.push({type:"exercise_selection",change:"Exclude all PHA circuits from program templates",alternative:"Use traditional strength training with 2-5 minute rest periods"}),B.push({type:"conditioning",change:"Avoid high-intensity circuit training",alternative:"Low-intensity steady-state cardio, walking, swimming"});break;case"conditional":B.push({type:"rest_periods",change:"Extend rest periods to 30-60 seconds between exercises",alternative:"Traditional supersets with adequate recovery"}),B.push({type:"intensity_limits",change:"Limit circuit intensity to 60-75% of maximum effort",alternative:"Focus on movement quality and technique"});break;case"limited":B.push({type:"progression_timeline",change:"Extended 6-8 week progression to no-rest circuits",alternative:"Start with 15-30 second rest, gradually reduce"}),B.push({type:"monitoring",change:"Enhanced heart rate and recovery monitoring",alternative:"Use RPE and HR zones to guide intensity"});break;case"eligible":B.push({type:"full_protocols",change:"Can implement complete Bryant PHA protocols",alternative:"No modifications needed - follow research guidelines"});break}return B},I=(S,E)=>(E==null?void 0:E.eligibilityStatus)==="contraindicated"?{...S,phaEligible:!1,modifiedRecommendations:[...S.recommendations,"Avoid high-intensity circuit training due to health contraindications","Focus on low-impact conditioning methods","Consider medical evaluation before increasing training intensity"]}:(E==null?void 0:E.eligibilityStatus)==="eligible"?{...S,phaEligible:!0,phaSpecificMonitoring:["Monitor heart rate recovery between circuits","Track morning heart rate for overreaching signs","Assess sleep quality after PHA sessions","Watch for elevated fatigue lasting >48 hours"]}:S,$=async S=>{n(!0);try{return t&&t({type:rs.UPDATE_ASSESSMENT,payload:{...s==null?void 0:s.assessment,phaHealthScreen:S}}),localStorage.setItem("pha_health_screen",JSON.stringify(S)),{success:!0,data:S}}catch(E){return console.error("Error saving PHA health assessment:",E),{success:!1,error:E.message}}finally{n(!1)}},J=(S,E)=>{const{fiberType:B,trainingAge:D,recoveryScore:z,trainingHistory:G}=E;let K={chest:8,back:10,shoulders:8,biceps:6,triceps:6,quads:10,hamstrings:8,glutes:8,calves:8}[S]||8;return B==="fast"?K*=.8:B==="slow"&&(K*=1.2),K*={beginner:.7,intermediate:1,advanced:1.3}[D]||1,z<=3?K*=.8:z>=8&&(K*=1.1),Math.round(K)},re=(S,E)=>{const{fiberType:B,trainingAge:D,recoveryScore:z,stressLevel:G,sleepQuality:U,nutritionQuality:K}=E;let ie={chest:22,back:26,shoulders:20,biceps:20,triceps:18,quads:26,hamstrings:20,glutes:22,calves:26}[S]||22;B==="fast"?ie*=.7:B==="slow"&&(ie*=1.3),ie*={beginner:.8,intermediate:1,advanced:1.2}[D]||1;const oe=(z+(10-G)+U+K)/40;return ie*=.7+oe*.6,Math.round(ie)},se=(S,E,B,D=4)=>{const z=(B-1)/(D-1),G=E-S,U=S+G*.3+G*.4*z;return Math.round(U)},ee=(S,E,B)=>{const D={},z=[];return S.forEach(G=>{const U=E[G]||E.general||{},K=J(G,U),ne=re(G,U);K>=ne&&z.push({type:"warning",muscle:G,message:`MEV (${K}) >= MRV (${ne}) - Check recovery factors`,suggestion:"Improve sleep, nutrition, or stress management"}),D[G]={mev:K,mrv:ne,mav:se(K,ne,1),currentVolume:0,status:"not_started",weeklyProgression:Y(K,ne,4)}}),{landmarks:D,recommendations:z,summary:Vi(D,B)}},Y=(S,E,B=4)=>{const D=[];for(let z=1;z<=B;z++){const G=se(S,E,z,B);D.push({week:z,targetMAV:G,minVolume:S,maxVolume:E,status:z===1?"current":"planned",deloadRecommended:z===B,notes:z===1?"Start conservative near MEV":z===B?"Peak week - monitor for overreaching":"Progressive overload zone"})}return D},he=(S,E,B)=>{const D={};return Object.entries(S).forEach(([z,G])=>{var oe;const U=E[z];if(!U)return;const K=((oe=U.weeklyProgression[B-1])==null?void 0:oe.targetMAV)||U.mav;let ne,ie,te;G<U.mev?(ne="below_mev",ie=`Increase volume by ${U.mev-G} sets minimum`,te="red"):G>=U.mev&&G<=K?(ne="optimal",ie="Volume in optimal range for adaptation",te="green"):G>K&&G<=U.mrv?(ne="above_mav",ie="Monitor recovery - approaching MRV",te="yellow"):(ne="above_mrv",ie="REDUCE VOLUME - Risk of overreaching",te="red"),D[z]={currentVolume:G,targetMAV:K,mev:U.mev,mrv:U.mrv,status:ne,recommendation:ie,color:te,progressionSuggestion:Gs(G,U,B)}}),D},Gs=(S,E,B)=>{var U;const D=B+1,z=(U=E.weeklyProgression[D-1])==null?void 0:U.targetMAV;if(!z)return"End of mesocycle - implement deload week";const G=z-S;return G>0?`Next week: Add ${G} sets (target: ${z})`:G<0?`Next week: Reduce ${Math.abs(G)} sets (target: ${z})`:`Next week: Maintain ${S} sets`},Vi=(S,E)=>{const B=Object.values(S).reduce((ie,te)=>ie+te.mev,0),D=Object.values(S).reduce((ie,te)=>ie+te.mrv,0),z=Object.values(S).reduce((ie,te)=>ie+te.mav,0),G=Object.keys(S).length,U=z*3,K=[];E!=null&&E.includes("hypertrophy")&&K.push({type:"goal_alignment",message:`Hypertrophy focus: Target MAV range ${Math.round(z*.8)}-${Math.round(z*1.2)} sets/week`,reference:"Hypertrophy responds best to moderate-high volume (p.25)"}),E!=null&&E.includes("strength")&&K.push({type:"goal_alignment",message:`Strength focus: Lower volume, higher intensity. Consider ${Math.round(z*.7)} sets/week`,reference:"Strength gains plateau with excessive volume (p.27)"});const ne=Object.entries(S).filter(([ie,te])=>te.mrv>24).map(([ie,te])=>ie);return ne.length>0&&K.push({type:"volume_distribution",message:`High capacity muscles (${ne.join(", ")}) can handle more volume`,reference:"Distribute volume based on recovery capacity (p.29)"}),{totalMEV:B,totalMRV:D,averageMAV:z,muscleCount:G,weeklyTimeEstimate:U,insights:K,weeklyProgression:Hi(S)}},Hi=S=>{const B=[];for(let D=1;D<=4;D++){const z={week:D,totalVolume:0,muscleTargets:{},deloadWeek:D===4};Object.entries(S).forEach(([G,U])=>{const K=U.weeklyProgression[D-1];z.muscleTargets[G]=K,z.totalVolume+=K.targetMAV}),B.push(z)}return B};return{classifyGainerType:a,getFiberRecommendations:c,getMileageRecommendations:o,validateSMARTGoals:h,generateSuggestions:m,saveAssessment:u,suggestions:r,loading:i,assessBLGs:C,assessFuel:q,assessPersonalization:f,saveNutritionAssessment:b,assessSpecificity:w,determineOptimalSpectrum:T,checkModalityCompatibility:p,generateAdaptationSequence:R,calculateTrainingVariables:W,validatePhaseProgression:y,saveSpecificityAssessment:N,assessOverload:O,calculateMRVByPhase:L,calculateHomeostasisDisruption:V,generateOverloadProgression:Z,assessOverloadOptimization:pe,calculateCurrentLoad:je,assessFatigue:Le,assessFuelFatigue:H,assessNervousFatigue:X,assessMessengerFatigue:ae,assessTissueFatigue:me,determineFatigueState:fe,generateFatigueManagement:F,calculateRecoveryTimeline:Q,generateOverloadRecommendations:le,generateFatigueRecommendations:xe,saveOverloadAssessment:be,saveFatigueAssessment:Te,calculateMEV:J,calculateMRV:re,calculateMAV:se,assessVolumeLandmarks:ee,generateMAVProgression:Y,assessCurrentVolume:he,generateProgressionSuggestion:Gs,generateVolumeSummary:Vi,generateWeeklyVolumeProgression:Hi,adjustVolumeLandmarks:(S,E,B)=>{const D={};return Object.entries(E).forEach(([z,G])=>{const{performance:U,recovery:K,soreness:ne,pump:ie}=G,te=S[z];if(!te)return;let oe=0,ue=0,ve=[];U==="declining"&&(ue=-2,ve.push("Performance declining - reduce MRV")),K==="poor"&&(ue=-3,ve.push("Poor recovery - significantly reduce MRV")),ne==="excessive"&&(ue=-2,ve.push("Excessive soreness - reduce volume tolerance")),ie==="none"&&(oe=1,ve.push("No pump - may need more volume for stimulus")),K==="excellent"&&U==="improving"&&(ue=2,ve.push("Excellent recovery - can handle more volume")),D[z]={newMEV:Math.max(4,te.mev+oe),newMRV:Math.max(te.mev+6,te.mrv+ue),adjustmentReason:ve.join("; "),confidence:ve.length>=2?"high":"medium"}}),D},generateDeloadProtocol:(S,E,B="volume")=>{const z={volume:{name:"Volume Deload",description:"Reduce volume by 40-60% while maintaining intensity",reference:"Volume deloads preserve strength adaptations (p.41)"},intensity:{name:"Intensity Deload",description:"Reduce intensity by 20-30% while maintaining volume",reference:"Intensity deloads allow neural recovery (p.43)"},complete:{name:"Complete Rest",description:"No training for 3-7 days",reference:"Complete rest for severe overreaching (p.45)"}}[B],G={};return Object.entries(E).forEach(([U,K])=>{S[U],B==="volume"?G[U]={targetVolume:Math.round(K*.5),targetIntensity:"85-95%",notes:"Focus on movement quality and neural patterns"}:B==="intensity"&&(G[U]={targetVolume:K,targetIntensity:"60-75%",notes:"Higher reps, focus on muscle connection"})}),{protocol:z,deloadTargets:G,duration:"1 week",nextPhase:"Return to progressive overload",monitoringPoints:["Sleep quality improvement","Motivation restoration","Reduced muscle soreness","Improved workout performance"]}},saveVolumeLandmarks:async S=>{n(!0);try{return t&&t({type:rs.UPDATE_ASSESSMENT,payload:{...s==null?void 0:s.assessment,volumeLandmarks:S}}),localStorage.setItem("volume_landmarks",JSON.stringify(S)),{success:!0,data:S}}catch(E){return console.error("Error saving volume landmarks:",E),{success:!1,error:E.message}}finally{n(!1)}},assessPHAHealth:Ae,generatePHAModifications:we,integratePHAWithFatigue:I,savePHAHealthAssessment:$}},el=()=>{const{assessVolumeLandmarks:s,assessCurrentVolume:t,saveVolumeLandmarks:i}=Zo(),{state:n}=ai(),[r,l]=k.useState({general:{fiberType:"mixed",trainingAge:"intermediate",recoveryScore:7,stressLevel:5,sleepQuality:7,nutritionQuality:7}}),[a,c]=k.useState(["chest","back","shoulders","biceps","triceps","quads","hamstrings","glutes"]),[o,h]=k.useState({chest:12,back:14,shoulders:10,biceps:8,triceps:8,quads:16,hamstrings:10,glutes:12}),[m,u]=k.useState(["hypertrophy"]),[b,C]=k.useState(1),[A,q]=k.useState(null),[g,d]=k.useState(null),[x,f]=k.useState(!1);k.useEffect(()=>{const R=s(a,r,m);if(q(R),R.landmarks){const _=t(o,R.landmarks,b);d(_);const W=Object.values(_).filter(y=>y.status==="above_mrv");f(W.length>0)}},[r,a,o,m,b]);const M=(R,_,W)=>{l(y=>({...y,[R]:{...y[R],[_]:W}}))},v=(R,_)=>{h(W=>({...W,[R]:parseInt(_)}))},j=R=>{c(_=>_.includes(R)?_.filter(W=>W!==R):[..._,R])},P=async()=>{if(A){const R=await i({landmarks:A.landmarks,currentVolume:o,weeklyProgression:A.summary.weeklyProgression,individualFactors:r,timestamp:new Date().toISOString()});R.success?alert("Volume landmarks saved successfully!"):alert("Error saving assessment: "+R.error)}},w=R=>{switch(R){case"below_mev":return"bg-red-100 text-red-800 border-red-200";case"optimal":return"bg-green-100 text-green-800 border-green-200";case"above_mav":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"above_mrv":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=R=>{switch(R){case"below_mev":return e.jsx(ke,{className:"h-4 w-4"});case"optimal":return e.jsx(ge,{className:"h-4 w-4"});case"above_mav":return e.jsx(Je,{className:"h-4 w-4"});case"above_mrv":return e.jsx(ke,{className:"h-4 w-4"});default:return e.jsx(De,{className:"h-4 w-4"})}},p=["chest","back","shoulders","biceps","triceps","quads","hamstrings","glutes","calves"];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Volume Landmarks Assessment"}),e.jsx("p",{className:"text-gray-300 mb-4",children:'"MEV is the minimum volume needed for gains. MRV is the maximum you can recover from. MAV is the sweet spot for optimal progress." - How Much Should I Train?, p.7'}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-blue-900/50 p-3 rounded border border-blue-600",children:[e.jsx("div",{className:"text-blue-400 font-semibold",children:"MEV"}),e.jsx("div",{className:"text-blue-200",children:"Minimum Effective Volume"})]}),e.jsxs("div",{className:"bg-green-900/50 p-3 rounded border border-green-600",children:[e.jsx("div",{className:"text-green-400 font-semibold",children:"MAV"}),e.jsx("div",{className:"text-green-200",children:"Maximum Adaptive Volume"})]}),e.jsxs("div",{className:"bg-red-900/50 p-3 rounded border border-red-600",children:[e.jsx("div",{className:"text-red-400 font-semibold",children:"MRV"}),e.jsx("div",{className:"text-red-200",children:"Maximum Recoverable Volume"})]})]})]}),x&&e.jsx("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ke,{className:"text-red-400 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-red-400 font-semibold mb-2",children:"VOLUME ABOVE MRV DETECTED"}),e.jsx("p",{className:"text-red-300 text-sm mb-2",children:"One or more muscle groups are training above Maximum Recoverable Volume. This increases overreaching risk."}),e.jsx("p",{className:"text-red-300 text-sm font-medium",children:"Recommended Action: Implement deload protocol immediately"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Individual Factors"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Muscle Fiber Type"}),e.jsxs("select",{value:r.general.fiberType,onChange:R=>M("general","fiberType",R.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent custom-styled",children:[e.jsx("option",{value:"fast",children:"Fast-Twitch Dominant (Lower volume tolerance)"}),e.jsx("option",{value:"mixed",children:"Mixed Fiber Type (Average tolerance)"}),e.jsx("option",{value:"slow",children:"Slow-Twitch Dominant (Higher volume tolerance)"})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:'"Fast-twitch muscles need less volume to grow" - p.8'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Training Age"}),e.jsxs("select",{value:r.general.trainingAge,onChange:R=>M("general","trainingAge",R.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent custom-styled",children:[e.jsx("option",{value:"beginner",children:"Beginner (1-2 years)"}),e.jsx("option",{value:"intermediate",children:"Intermediate (2-5 years)"}),e.jsx("option",{value:"advanced",children:"Advanced (5+ years)"})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:'"Beginners need less volume to grow" - p.10'})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Recovery Score: ",r.general.recoveryScore,"/10"]}),e.jsx("input",{type:"range",min:"1",max:"10",value:r.general.recoveryScore,onChange:R=>M("general","recoveryScore",parseInt(R.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Overall recovery capacity from training"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Lifestyle Factors"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Stress Level: ",r.general.stressLevel,"/10"]}),e.jsx("input",{type:"range",min:"1",max:"10",value:r.general.stressLevel,onChange:R=>M("general","stressLevel",parseInt(R.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"1 = Very low stress, 10 = Extremely high stress"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Sleep Quality: ",r.general.sleepQuality,"/10"]}),e.jsx("input",{type:"range",min:"1",max:"10",value:r.general.sleepQuality,onChange:R=>M("general","sleepQuality",parseInt(R.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:'"Sleep, stress, nutrition all affect MRV" - p.15'})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Nutrition Quality: ",r.general.nutritionQuality,"/10"]}),e.jsx("input",{type:"range",min:"1",max:"10",value:r.general.nutritionQuality,onChange:R=>M("general","nutritionQuality",parseInt(R.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Overall nutrition consistency and quality"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Muscle Groups to Assess"}),e.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-5 gap-3",children:p.map(R=>e.jsx("button",{onClick:()=>j(R),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a.includes(R)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(es,{className:"h-5 w-5 mr-2"}),"Mesocycle Progress"]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(R=>e.jsxs("button",{onClick:()=>C(R),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b===R?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Week ",R,R===4&&e.jsx("div",{className:"text-xs",children:"Deload"})]},R))}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:'"Start conservative near MEV, progress towards MRV" - p.19'})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Current Training Volume (Sets/Week)"}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:a.map(R=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 capitalize",children:[R,": ",o[R]," sets"]}),e.jsx("input",{type:"range",min:"0",max:"40",value:o[R],onChange:_=>v(R,_.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"})]},R))})]}),A&&g&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Volume Assessment Results"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Object.entries(g).map(([R,_])=>e.jsxs("div",{className:`rounded-lg p-4 border ${w(_.status)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold capitalize flex items-center",children:[T(_.status),e.jsx("span",{className:"ml-2",children:R})]}),e.jsxs("span",{className:"text-sm font-medium",children:[_.currentVolume," sets"]})]}),e.jsx("div",{className:"text-sm mb-2",children:e.jsxs("div",{children:["MEV: ",_.mev," | MAV: ",_.targetMAV," | MRV: ",_.mrv]})}),e.jsxs("div",{className:"text-sm mb-2",children:[e.jsx("strong",{children:"Status:"})," ",_.status.replace(/_/g," ").toUpperCase()]}),e.jsxs("div",{className:"text-sm mb-2",children:[e.jsx("strong",{children:"Recommendation:"})," ",_.recommendation]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("strong",{children:"Next Week:"})," ",_.progressionSuggestion]})]},R))})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(Ds,{className:"h-5 w-5 mr-2"}),"Mesocycle Progression Preview"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-300 py-2",children:"Week"}),a.map(R=>e.jsx("th",{className:"text-center text-gray-300 py-2 capitalize",children:R},R)),e.jsx("th",{className:"text-center text-gray-300 py-2",children:"Total"})]})}),e.jsx("tbody",{children:A.summary.weeklyProgression.map((R,_)=>e.jsxs("tr",{className:`border-b border-gray-700 ${b===R.week?"bg-blue-900/30":""}`,children:[e.jsxs("td",{className:"py-2 text-white font-medium",children:["Week ",R.week,R.deloadWeek&&e.jsx("span",{className:"text-yellow-400 ml-1",children:"(Deload)"})]}),a.map(W=>{const y=R.muscleTargets[W];return e.jsx("td",{className:"text-center py-2 text-gray-300",children:(y==null?void 0:y.targetMAV)||0},W)}),e.jsx("td",{className:"text-center py-2 text-white font-medium",children:R.totalVolume})]},R.week))})]})}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:'"MAV progression: Start near MEV, increase micro-to-micro to MRV" - p.17'})]}),e.jsxs("div",{className:"bg-blue-900/50 border border-blue-600 rounded-lg p-4",children:[e.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Training Insights"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-blue-200 text-sm",children:[e.jsx("strong",{children:"Total Weekly Volume:"})," ",A.summary.averageMAV," sets"]}),e.jsxs("div",{className:"text-blue-200 text-sm",children:[e.jsx("strong",{children:"Estimated Training Time:"})," ",A.summary.weeklyTimeEstimate," minutes/week"]}),e.jsxs("div",{className:"text-blue-200 text-sm",children:[e.jsx("strong",{children:"Volume Range:"})," ",A.summary.totalMEV," - ",A.summary.totalMRV," sets/week"]})]}),A.summary.insights.map((R,_)=>e.jsxs("div",{className:"mt-3 p-3 bg-blue-800/50 rounded border border-blue-500",children:[e.jsx("div",{className:"text-blue-300 font-medium",children:R.type.replace(/_/g," ").toUpperCase()}),e.jsx("div",{className:"text-blue-200 text-sm",children:R.message}),e.jsx("div",{className:"text-blue-400 text-xs mt-1",children:R.reference})]},_))]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:P,disabled:!A,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Save Volume Landmarks"})})]})},sl=()=>{var i,n,r,l,a;const{state:s,actions:t}=Me();return e.jsxs("div",{className:"training-max-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"💪 Training Max Assessment - 5/3/1"}),e.jsx("p",{className:"step-description",children:"Current 1RM testing and Training Max establishment with Bromley AMRAP protocols"})]}),e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Current 1RM or Recent Max Lifts"}),e.jsxs("div",{className:"max-inputs",children:[e.jsxs("div",{className:"lift-input",children:[e.jsx("label",{children:"Squat 1RM (lbs)"}),e.jsx("input",{type:"number",value:((i=s.trainingMaxes)==null?void 0:i.squat)||"",onChange:c=>t.updateTrainingMaxes({squat:c.target.value}),placeholder:"315"})]}),e.jsxs("div",{className:"lift-input",children:[e.jsx("label",{children:"Bench Press 1RM (lbs)"}),e.jsx("input",{type:"number",value:((n=s.trainingMaxes)==null?void 0:n.bench)||"",onChange:c=>t.updateTrainingMaxes({bench:c.target.value}),placeholder:"225"})]}),e.jsxs("div",{className:"lift-input",children:[e.jsx("label",{children:"Deadlift 1RM (lbs)"}),e.jsx("input",{type:"number",value:((r=s.trainingMaxes)==null?void 0:r.deadlift)||"",onChange:c=>t.updateTrainingMaxes({deadlift:c.target.value}),placeholder:"365"})]}),e.jsxs("div",{className:"lift-input",children:[e.jsx("label",{children:"Overhead Press 1RM (lbs)"}),e.jsx("input",{type:"number",value:((l=s.trainingMaxes)==null?void 0:l.ohp)||"",onChange:c=>t.updateTrainingMaxes({ohp:c.target.value}),placeholder:"145"})]})]}),e.jsx("h3",{children:"🔄 Bromley AMRAP Testing Protocol"}),e.jsxs("div",{className:"amrap-protocol",children:[e.jsx("p",{children:"Enhanced 5/3/1 with Bromley AMRAP testing for accurate Training Max calculation"}),e.jsx("div",{className:"protocol-option",children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"testing-method",value:"current-max",checked:s.testingMethod==="current-max",onChange:c=>t.updateTestingMethod(c.target.value)}),"Use current known 1RM"]})}),e.jsx("div",{className:"protocol-option",children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"testing-method",value:"amrap-estimate",checked:s.testingMethod==="amrap-estimate",onChange:c=>t.updateTestingMethod(c.target.value)}),"Estimate from recent AMRAP set"]})}),e.jsx("div",{className:"protocol-option",children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"testing-method",value:"conservative-estimate",checked:s.testingMethod==="conservative-estimate",onChange:c=>t.updateTestingMethod(c.target.value)}),"Conservative estimate (90% of known max)"]})})]}),e.jsx("h3",{children:"Training Max Calculation"}),e.jsxs("div",{className:"training-max-calculation",children:[e.jsx("p",{children:"5/3/1 Training Max = 90% of 1RM (conservative for consistent progression)"}),s.trainingMaxes&&e.jsxs("div",{className:"calculated-maxes",children:[e.jsx("h4",{children:"Calculated Training Maxes:"}),e.jsxs("ul",{children:[s.trainingMaxes.squat&&e.jsxs("li",{children:["Squat TM: ",Math.round(s.trainingMaxes.squat*.9)," lbs"]}),s.trainingMaxes.bench&&e.jsxs("li",{children:["Bench TM: ",Math.round(s.trainingMaxes.bench*.9)," lbs"]}),s.trainingMaxes.deadlift&&e.jsxs("li",{children:["Deadlift TM: ",Math.round(s.trainingMaxes.deadlift*.9)," lbs"]}),s.trainingMaxes.ohp&&e.jsxs("li",{children:["OHP TM: ",Math.round(s.trainingMaxes.ohp*.9)," lbs"]})]})]})]})]}),e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>t.setCurrentStep(5),children:"← Back to System Selection"}),e.jsx("button",{className:"btn-primary",onClick:()=>t.setCurrentStep(6),disabled:!((a=s.trainingMaxes)!=null&&a.squat)||!s.testingMethod,children:"Continue to Periodization →"})]}),e.jsxs("div",{className:"bromley-integration-info",children:[e.jsx("h4",{children:"🔄 Bromley 5/3/1 Enhancements"}),e.jsxs("ul",{children:[e.jsx("li",{children:"AMRAP testing protocols for accurate max estimation"}),e.jsx("li",{children:"Wave periodization integration with 5/3/1 structure"}),e.jsx("li",{children:"RPE-based auto-regulation"}),e.jsx("li",{children:"Enhanced deload and recovery protocols"})]})]})]})},tl=()=>{const{state:s,actions:t}=Me(),[i,n]=k.useState({movementScreen:{},motorControlFocus:"",currentCapabilities:{},progressionPreference:"wave"}),r=[{id:"overhead-squat",name:"Overhead Squat",description:"Full-body movement screen",areas:["ankle-mobility","hip-stability","thoracic-mobility","shoulder-stability"]},{id:"single-leg-stance",name:"Single Leg Stance",description:"Balance and stability assessment",areas:["balance","proprioception","unilateral-strength"]},{id:"push-up",name:"Push-up Quality",description:"Upper body movement pattern",areas:["scapular-control","core-stability","movement-coordination"]},{id:"deep-squat",name:"Deep Squat Hold",description:"Lower body mobility and stability",areas:["hip-mobility","ankle-flexibility","spine-position"]}],l=[{id:"movement-quality",name:"Movement Quality Focus",description:"Emphasize perfect movement patterns with Bromley wave structure",bromleyIntegration:"Quality-based wave progression"},{id:"stability-strength",name:"Stability & Strength",description:"Build foundational strength with motor control",bromleyIntegration:"Stabilization wave with strength integration"},{id:"coordination-power",name:"Coordination & Power",description:"Advanced motor control with power development",bromleyIntegration:"Motor control waves with power expression"}],a=(o,h,m)=>{n(u=>({...u,movementScreen:{...u.movementScreen,[o]:{...u.movementScreen[o],[h]:m}}}))},c=()=>{t.updateLinearSpecificData({movementAssessment:i,bromleyIntegration:{movementBaselineComplete:!0,motorControlWaveReady:!0,qualityProgressionEnabled:!0}}),t.setCurrentStep(6)};return e.jsxs("div",{className:"movement-assessment-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"🏃 Movement Assessment - Linear Periodization"}),e.jsx("p",{className:"step-description",children:"Bromley-enhanced movement quality baseline for motor control programming"})]}),e.jsxs("div",{className:"assessment-section",children:[e.jsx("h3",{children:"Movement Quality Screen"}),e.jsx("p",{className:"section-description",children:"Rate each movement area (1-5 scale: 1=Poor, 3=Average, 5=Excellent)"}),e.jsx("div",{className:"movement-screen-grid",children:r.map(o=>e.jsxs("div",{className:"movement-item",children:[e.jsx("h4",{children:o.name}),e.jsx("p",{children:o.description}),e.jsx("div",{className:"movement-areas",children:o.areas.map(h=>e.jsxs("div",{className:"area-assessment",children:[e.jsx("label",{children:h.replace("-"," ")}),e.jsx("div",{className:"score-buttons",children:[1,2,3,4,5].map(m=>{var u;return e.jsx("button",{className:`score-btn ${((u=i.movementScreen[o.id])==null?void 0:u[h])===m?"active":""}`,onClick:()=>a(o.id,h,m),children:m},m)})})]},h))})]},o.id))})]}),e.jsxs("div",{className:"assessment-section",children:[e.jsx("h3",{children:"Motor Control Programming Focus"}),e.jsx("p",{className:"section-description",children:"Choose your primary motor control emphasis with Bromley wave integration"}),e.jsx("div",{className:"focus-options",children:l.map(o=>e.jsxs("div",{className:`focus-option ${i.motorControlFocus===o.id?"selected":""}`,onClick:()=>n(h=>({...h,motorControlFocus:o.id})),children:[e.jsx("h4",{children:o.name}),e.jsx("p",{children:o.description}),e.jsxs("div",{className:"bromley-integration",children:["🔄 Bromley: ",o.bromleyIntegration]})]},o.id))})]}),e.jsxs("div",{className:"assessment-section",children:[e.jsx("h3",{children:"Current Training Capabilities"}),e.jsxs("div",{className:"capabilities-grid",children:[e.jsxs("div",{className:"capability-item",children:[e.jsx("label",{children:"Training Experience (months)"}),e.jsx("input",{type:"number",value:i.currentCapabilities.experience||"",onChange:o=>n(h=>({...h,currentCapabilities:{...h.currentCapabilities,experience:o.target.value}})),placeholder:"12"})]}),e.jsxs("div",{className:"capability-item",children:[e.jsx("label",{children:"Weekly Training Frequency"}),e.jsxs("select",{value:i.currentCapabilities.frequency||"",onChange:o=>n(h=>({...h,currentCapabilities:{...h.currentCapabilities,frequency:o.target.value}})),children:[e.jsx("option",{value:"",children:"Select frequency"}),e.jsx("option",{value:"2",children:"2 sessions/week"}),e.jsx("option",{value:"3",children:"3 sessions/week"}),e.jsx("option",{value:"4",children:"4 sessions/week"}),e.jsx("option",{value:"5",children:"5+ sessions/week"})]})]}),e.jsxs("div",{className:"capability-item",children:[e.jsx("label",{children:"Recovery Capacity"}),e.jsxs("select",{value:i.currentCapabilities.recovery||"",onChange:o=>n(h=>({...h,currentCapabilities:{...h.currentCapabilities,recovery:o.target.value}})),children:[e.jsx("option",{value:"",children:"Select recovery"}),e.jsx("option",{value:"low",children:"Low (need extra recovery)"}),e.jsx("option",{value:"moderate",children:"Moderate (standard recovery)"}),e.jsx("option",{value:"high",children:"High (fast recovery)"})]})]})]})]}),e.jsxs("div",{className:"assessment-section",children:[e.jsx("h3",{children:"📊 Bromley Wave Progression Style"}),e.jsxs("div",{className:"wave-options",children:[e.jsxs("div",{className:`wave-option ${i.progressionPreference==="wave"?"selected":""}`,onClick:()=>n(o=>({...o,progressionPreference:"wave"})),children:[e.jsx("h4",{children:"🌊 Standard Wave Progression"}),e.jsx("p",{children:"Classic Bromley waves with motor control emphasis"}),e.jsx("div",{className:"wave-example",children:"Week 1: 3×12 → Week 2: 4×10 → Week 3: 5×8"})]}),e.jsxs("div",{className:`wave-option ${i.progressionPreference==="linear-wave"?"selected":""}`,onClick:()=>n(o=>({...o,progressionPreference:"linear-wave"})),children:[e.jsx("h4",{children:"📈 Linear with Wave Enhancement"}),e.jsx("p",{children:"Traditional linear progression enhanced with Bromley principles"}),e.jsx("div",{className:"wave-example",children:"Linear base + wave deloads and motor control focus"})]})]})]}),e.jsxs("div",{className:"assessment-summary",children:[e.jsx("h3",{children:"Assessment Summary"}),e.jsxs("div",{className:"summary-items",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Movement Quality:"}),Object.keys(i.movementScreen).length>0?"Assessed":"Pending"]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Motor Control Focus:"}),i.motorControlFocus||"Not selected"]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Wave Progression:"}),i.progressionPreference||"Standard wave"]})]})]}),e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>t.setCurrentStep(5),children:"← Back to System Selection"}),e.jsx("button",{className:"btn-primary",onClick:c,disabled:!i.motorControlFocus,children:"Continue to Periodization →"})]}),e.jsxs("div",{className:"bromley-status",children:[e.jsx("h4",{children:"🔄 Bromley Linear Integration Status"}),e.jsx("div",{className:"status-items",children:"✅ Motor Control Wave Progression Available ✅ Movement Quality Assessment Enhanced ✅ Linear + Wave Periodization Ready ✅ Recovery Protocol Integration"})]})]})},Lr=()=>{const{state:s,actions:t}=Me(),[i,n]=k.useState("selection"),[r,l]=k.useState(null),[a,c]=k.useState("overhead-squat"),[o,h]=k.useState("setup"),[m,u]=k.useState([]),[b,C]=k.useState([]),[A,q]=k.useState(""),[g,d]=k.useState("right"),x=[{id:"overhead-squat",name:"Overhead Squat",type:"Transitional",required:!0,icon:"🏋️‍♂️",description:"Primary transitional movement screen"},{id:"single-leg",name:"Single-Leg Squat",type:"Transitional",required:!0,icon:"🦵",description:"Unilateral movement assessment"},{id:"pushing",name:"Pushing Assessment",type:"Transitional",required:!0,icon:"👐",description:"Upper body pushing pattern"},{id:"pulling",name:"Pulling Assessment",type:"Transitional",required:!0,icon:"🪄",description:"Upper body pulling pattern"},{id:"overhead-press",name:"Overhead Press",type:"Transitional",required:!1,icon:"🙌",description:"Overhead movement pattern"},{id:"star-balance",name:"Star Balance Test",type:"Balance",required:!1,icon:"⭐",description:"Multi-directional balance"},{id:"gait-analysis",name:"Gait Analysis",type:"Dynamic",required:!1,icon:"🚶‍♂️",description:"Walking/running assessment"}],f=x.filter(I=>I.required).map(I=>I.id),M=x.filter(I=>!I.required).map(I=>I.id),v=f.every(I=>m.includes(I)),j=m.filter(I=>f.includes(I)).length,P=m.filter(I=>M.includes(I)).length,w=f.length,T=I=>{l(I),c(I),n("assessment")},p=()=>{n("selection"),l(null)},R=I=>{var $;_(r,I),m.includes(r)||(u(J=>[...J,r]),L(`${($=x.find(J=>J.id===r))==null?void 0:$.name} Completed!`)),p()},_=(I,$)=>{console.log(`Saving data for ${I}:`,$)},W=()=>{if(!v){V(`Please complete all required assessments. ${j}/${w} completed.`);return}t.setCurrentStep(5)},[y,N]=k.useState({overheadSquat:{setupComplete:!1,currentView:"anterior",currentRep:1,totalReps:5,anteriorCompensations:{feetTurnOut:{present:!1,severity:"",side:"",notes:""},feetFlatten:{present:!1,severity:"",side:"",notes:""},kneeValgus:{present:!1,severity:"",side:"",notes:""},kneeVarus:{present:!1,severity:"",side:"",notes:""},asymmetricalShift:{present:!1,severity:"",side:"",notes:""}},lateralCompensations:{forwardLean:{present:!1,severity:"",notes:""},lowBackArch:{present:!1,severity:"",notes:""},armsFallForward:{present:!1,severity:"",notes:""},shoulderElevation:{present:!1,severity:"",notes:""},forwardHead:{present:!1,severity:"",notes:""}},posteriorCompensations:{heelRise:{present:!1,severity:"",side:"",notes:""},calfBulging:{present:!1,severity:"",side:"",notes:""},shoulderElevation:{present:!1,severity:"",side:"",notes:""},shoulderProtraction:{present:!1,severity:"",side:"",notes:""},headTilt:{present:!1,severity:"",side:"",notes:""},spinalCurvature:{present:!1,severity:"",notes:""}},modificationsPerformed:{heelElevation:{performed:!1,results:"",improvement:""},armsDown:{performed:!1,results:"",improvement:""}}},singleLegSquat:{setupComplete:!1,rightLeg:{kneeValgus:{present:!1,severity:"",notes:""},excessiveForwardLean:{present:!1,severity:"",notes:""},hipHike:{present:!1,severity:"",notes:""}},leftLeg:{kneeValgus:{present:!1,severity:"",notes:""},excessiveForwardLean:{present:!1,severity:"",notes:""},hipHike:{present:!1,severity:"",notes:""}},balanceModification:{used:!1,reason:"",notes:""}},pushingAssessment:{setupComplete:!1,compensations:{lowBackArch:{present:!1,severity:"",notes:""},shoulderElevation:{present:!1,severity:"",notes:""},headForward:{present:!1,severity:"",notes:""}},repsCompleted:0,targetReps:20},pullingAssessment:{setupComplete:!1,compensations:{lowBackArch:{present:!1,severity:"",notes:""},shoulderElevation:{present:!1,severity:"",notes:""},headForward:{present:!1,severity:"",notes:""}},repsCompleted:0,targetReps:20},compensationCount:0,severityScore:0,primaryCauses:[],correctiveStrategy:null,startingPhaseRecommendation:null}),O={anterior:{feetTurnOut:{name:"Feet Turn Out",description:"Feet externally rotate during squat",overactive:["Gastrocnemius","Soleus","Biceps femoris (short head)"],underactive:["Medial gastrocnemius","Medial hamstrings","Gracilis","Sartorius"],correctives:{inhibit:["Calf SMR","Biceps femoris SMR"],lengthen:["Calf stretch","Biceps femoris stretch"],activate:["Medial gastrocnemius activation","Medial hamstring activation"],integrate:["Squat to calf raise","Single-leg balance"]}},feetFlatten:{name:"Feet Flatten/Pronate",description:"Excessive pronation, arch collapse",overactive:["Peroneals","Gastrocnemius","Soleus"],underactive:["Posterior tibialis","Anterior tibialis","Flexor hallucis longus"],correctives:{inhibit:["Peroneal SMR","Calf SMR"],lengthen:["Calf stretch","Peroneal stretch"],activate:["Posterior tibialis activation","Intrinsic foot strengthening"],integrate:["Single-leg balance","Barefoot training"]}},kneeValgus:{name:"Knee Valgus (Cave Inward)",description:"Knees cave inward - most common compensation",overactive:["Adductor complex","Tensor fascia latae","Biceps femoris (short head)","Vastus lateralis"],underactive:["Gluteus medius","Gluteus maximus","Vastus medialis oblique"],correctives:{inhibit:["Adductor SMR","TFL/ITB SMR"],lengthen:["Standing adductor stretch","Supine TFL stretch"],activate:["Glute med clams","Lateral tube walking","Glute bridges"],integrate:["Ball squats","Lateral lunges","Step-ups with band"]},testingModification:"Heels on 2x4 board or plates"},kneeVarus:{name:"Knee Varus (Bow Outward)",description:"Knees bow outward - less common",overactive:["Tensor fascia latae","Vastus lateralis","Biceps femoris (short head)"],underactive:["Adductor complex","Medial hamstrings","Gluteus maximus"],correctives:{inhibit:["TFL/ITB SMR","Vastus lateralis SMR"],lengthen:["TFL stretch","Quad stretch"],activate:["Adductor activation","Glute max activation"],integrate:["Adductor lunges","Sumo squats"]}}},lateral:{forwardLean:{name:"Forward Lean",description:"Excessive torso lean forward",overactive:["Gastrocnemius","Soleus","Hip flexor complex","Abdominal complex"],underactive:["Anterior tibialis","Gluteus maximus","Erector spinae"],correctives:{inhibit:["Calf SMR","Hip flexor SMR"],lengthen:["Calf stretch wall lean","Kneeling hip flexor stretch"],activate:["Anterior tibialis raises","Glute bridges","Prone cobra"],integrate:["Wall squats","Heel-elevated squats"]}},lowBackArch:{name:"Low Back Arch",description:"Excessive lumbar lordosis",overactive:["Hip flexor complex","Erector spinae","Latissimus dorsi"],underactive:["Gluteus maximus","Hamstring complex","Intrinsic core stabilizers"],correctives:{inhibit:["Hip flexor SMR","Lat SMR","Erector spinae SMR"],lengthen:["Kneeling hip flexor stretch","Lat stretch on ball"],activate:["Dead bug","Posterior pelvic tilts","Glute bridges","Bird dog"],integrate:["Wall squat with pelvic tilt","Overhead squats progressed"]},testingModification:"Hands on hips modification"},armsFallForward:{name:"Arms Fall Forward",description:"Arms drift forward during squat",overactive:["Latissimus dorsi","Teres major","Pectoralis major","Pectoralis minor"],underactive:["Mid trapezius","Lower trapezius","Rhomboids","Rotator cuff"],correctives:{inhibit:["Lat SMR","Pec SMR"],lengthen:["Doorway pec stretch","Lat stretch on ball"],activate:["Prone cobra","Wall angels","Scapular retractions","External rotation band"],integrate:["Wall slides","Overhead reach squats","Band pull-aparts overhead"]}},shoulderElevation:{name:"Shoulder Elevation",description:"Shoulders rise toward ears",overactive:["Upper trapezius","Sternocleidomastoid","Levator scapulae"],underactive:["Lower trapezius","Serratus anterior"],correctives:{inhibit:["Upper trap SMR","Levator scapulae SMR"],lengthen:["Upper trap stretch","Levator scapulae stretch"],activate:["Lower trap strengthening","Serratus anterior wall slides"],integrate:["Overhead movements with proper scapular positioning"]}},forwardHead:{name:"Forward Head",description:"Head juts forward",overactive:["Sternocleidomastoid","Scalenes","Upper trapezius"],underactive:["Deep cervical flexors","Mid/lower trapezius"],correctives:{inhibit:["SCM SMR","Upper trap SMR"],lengthen:["SCM stretch","Upper trap stretch"],activate:["Deep cervical flexor strengthening","Chin tucks"],integrate:["Postural awareness exercises"]}}},posterior:{heelRise:{name:"Heel Rise/Early Heel Off",description:"Heels lift off ground during squat descent",overactive:["Gastrocnemius","Soleus","Hip flexor complex"],underactive:["Anterior tibialis","Gluteus maximus"],correctives:{inhibit:["Calf SMR","Hip flexor SMR"],lengthen:["Calf stretch","Hip flexor stretch"],activate:["Anterior tibialis strengthening","Glute activation"],integrate:["Heel-down squats","Wall slides"]}},calfBulging:{name:"Calf Bulging/Asymmetry",description:"Unilateral calf muscle prominence or asymmetry",overactive:["Gastrocnemius (affected side)","Soleus (affected side)"],underactive:["Anterior tibialis","Peroneals (opposite side)"],correctives:{inhibit:["Unilateral calf SMR"],lengthen:["Unilateral calf stretching"],activate:["Ankle mobility drills","Single-leg balance"],integrate:["Unilateral balance training","Single-leg squats"]}},shoulderElevation:{name:"Shoulder Elevation (Posterior View)",description:"One or both shoulders elevated relative to the other",overactive:["Upper trapezius","Levator scapulae","Rhomboids"],underactive:["Lower trapezius","Serratus anterior","Latissimus dorsi"],correctives:{inhibit:["Upper trap SMR","Levator scapulae SMR"],lengthen:["Upper trap stretch","Levator scapulae stretch"],activate:["Lower trap strengthening","Serratus anterior activation"],integrate:["Scapular stability exercises","Overhead reaching patterns"]}},shoulderProtraction:{name:"Shoulder Protraction/Forward Shoulders",description:"Shoulders appear rounded forward from posterior view",overactive:["Pectoralis major/minor","Anterior deltoid","Latissimus dorsi"],underactive:["Mid trapezius","Rhomboids","Posterior deltoid"],correctives:{inhibit:["Pec SMR","Lat SMR"],lengthen:["Doorway pec stretch","Cross-body lat stretch"],activate:["Prone cobra","Scapular retractions","External rotations"],integrate:["Wall angels","Band pull-aparts","Prone Y-T-W"]}},headTilt:{name:"Lateral Head Tilt",description:"Head tilted to one side during movement",overactive:["Sternocleidomastoid (opposite side)","Upper trap (same side)","Scalenes"],underactive:["Deep cervical flexors","Sternocleidomastoid (same side)"],correctives:{inhibit:["SCM SMR (opposite side)","Upper trap SMR"],lengthen:["Lateral neck stretch","Upper trap stretch"],activate:["Deep cervical flexor strengthening","Chin tucks"],integrate:["Postural awareness training","Cervical stability exercises"]}},spinalCurvature:{name:"Lateral Spinal Curvature/Scoliosis",description:"Visible lateral curvature of the spine",overactive:["Quadratus lumborum","Erector spinae (concave side)","Latissimus dorsi"],underactive:["Quadratus lumborum (convex side)","Core stabilizers","Gluteus medius"],correctives:{inhibit:["QL SMR","Lat SMR","Erector spinae SMR"],lengthen:["Side bending stretches","Lat stretches"],activate:["Core stabilization","Unilateral glute strengthening"],integrate:["Functional movement patterns","Asymmetrical loading exercises"]}}}},L=I=>{const $=document.createElement("div");$.className="success-toast",$.textContent=`✅ ${I}`,$.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            background: #22c55e;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        `,document.body.appendChild($),setTimeout(()=>$.remove(),3e3)},V=I=>{const $=document.createElement("div");$.className="warning-toast",$.textContent=`⚠️ ${I}`,$.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            background: #f59e0b;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        `,document.body.appendChild($),setTimeout(()=>$.remove(),4e3)},Z=(I,$,J,re,se)=>{N(ee=>({...ee,[I]:{...ee[I],[$]:{...ee[I][$],[J]:{...ee[I][$][J],[re]:se}}}})),(re==="severity"||re==="present")&&je()},pe=()=>{let I=0;const $={...y.overheadSquat.anteriorCompensations,...y.overheadSquat.lateralCompensations,...y.overheadSquat.posteriorCompensations};return Object.values($).forEach(J=>{J.severity&&J.severity!=="none"&&(I+=J.severity==="severe"?3:J.severity==="moderate"?2:1)}),Object.values(y.singleLegSquat.rightLeg).forEach(J=>{J.severity&&J.severity!=="none"&&(I+=J.severity==="severe"?3:J.severity==="moderate"?2:1)}),Object.values(y.singleLegSquat.leftLeg).forEach(J=>{J.severity&&J.severity!=="none"&&(I+=J.severity==="severe"?3:J.severity==="moderate"?2:1)}),Object.values(y.pushingAssessment.compensations).forEach(J=>{J.severity&&J.severity!=="none"&&(I+=J.severity==="severe"?3:J.severity==="moderate"?2:1)}),Object.values(y.pullingAssessment.compensations).forEach(J=>{J.severity&&J.severity!=="none"&&(I+=J.severity==="severe"?3:J.severity==="moderate"?2:1)}),I},je=()=>{const I=Object.values(y.overheadSquat.anteriorCompensations).filter(Y=>Y.severity&&Y.severity!=="none").length+Object.values(y.overheadSquat.lateralCompensations).filter(Y=>Y.severity&&Y.severity!=="none").length+Object.values(y.overheadSquat.posteriorCompensations).filter(Y=>Y.severity&&Y.severity!=="none").length,$=Object.values(y.singleLegSquat.rightLeg).filter(Y=>Y.severity&&Y.severity!=="none").length+Object.values(y.singleLegSquat.leftLeg).filter(Y=>Y.severity&&Y.severity!=="none").length,J=Object.values(y.pushingAssessment.compensations).filter(Y=>Y.severity&&Y.severity!=="none").length,re=Object.values(y.pullingAssessment.compensations).filter(Y=>Y.severity&&Y.severity!=="none").length,se=I+$+J+re,ee=pe();N(Y=>({...Y,compensationCount:se,severityScore:ee}))},Le=()=>{const{compensationCount:I,severityScore:$}=y,J=s.experienceLevel||"beginner";return I>=3||$>=8?{phase:"Phase 1 Extended",duration:"6-8 weeks",focus:"Extensive corrective emphasis",correctiveVolume:"High",reasoning:"Multiple significant compensations require extended stabilization"}:I>=2||$>=5?{phase:"Phase 1 Standard",duration:"4-6 weeks",focus:"Standard stabilization with correctives",correctiveVolume:"Moderate",reasoning:"Some compensations present, standard Phase 1 with corrective emphasis"}:J==="advanced"&&I<=1&&$<=3?{phase:"Phase 1 Accelerated",duration:"2-4 weeks",focus:"Movement validation and preparation",correctiveVolume:"Low",reasoning:"Minor issues with experienced client"}:{phase:"Phase 1 Standard",duration:"4 weeks",focus:"Foundation building",correctiveVolume:"Moderate",reasoning:"Standard NASM entry point"}},H=()=>e.jsxs("div",{className:"assessment-selection-screen",children:[e.jsxs("div",{className:"step-progress-summary",children:[e.jsxs("div",{className:"progress-overview",children:[e.jsxs("div",{className:"progress-stat",children:[e.jsx("span",{className:"stat-label",children:"Required"}),e.jsxs("span",{className:"stat-value",children:[j,"/",w]})]}),e.jsxs("div",{className:"progress-stat",children:[e.jsx("span",{className:"stat-label",children:"Optional"}),e.jsxs("span",{className:"stat-value",children:[P,"/",M.length]})]}),e.jsxs("div",{className:"progress-stat",children:[e.jsx("span",{className:"stat-label",children:"Total Time"}),e.jsx("span",{className:"stat-value",children:"~15 min"})]})]}),e.jsx("button",{className:"proceed-main-btn",disabled:j<w,onClick:W,children:j>=w?"Continue to Step 5":`Complete ${w-j} more`})]}),e.jsxs("div",{className:"assessment-container",children:[e.jsxs("div",{className:"section-container",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"🎯 Required Assessments"}),e.jsxs("span",{className:"progress-badge",children:[j,"/",w," Complete"]})]}),e.jsx("div",{className:"assessment-grid",children:x.filter(I=>I.required).map(I=>e.jsxs("div",{className:`assessment-card ${m.includes(I.id)?"completed":""}`,onClick:()=>T(I.id),children:[e.jsx("div",{className:"card-status",children:m.includes(I.id)?"✅":"⭕"}),e.jsxs("div",{className:"card-content",children:[e.jsx("h4",{children:I.name}),e.jsx("p",{className:"card-type",children:I.type}),e.jsx("p",{className:"card-description",children:I.description}),e.jsxs("div",{className:"card-details",children:[e.jsx("span",{className:"detail-chip",children:"📊 5 reps"}),e.jsx("span",{className:"detail-chip",children:"👁️ 3 views"}),e.jsx("span",{className:"detail-chip",children:"⏱️ 3-4 min"})]})]}),e.jsx("button",{className:`card-action ${m.includes(I.id)?"review":"start"}`,children:m.includes(I.id)?"Review":"Start"})]},I.id))})]}),e.jsxs("div",{className:"section-container",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"➕ Optional Assessments"}),e.jsx("span",{className:"info-text",children:"Recommended for comprehensive evaluation"})]}),e.jsx("div",{className:"assessment-grid optional",children:x.filter(I=>!I.required).map(I=>e.jsxs("div",{className:`assessment-card ${m.includes(I.id)?"completed":""}`,onClick:()=>T(I.id),children:[e.jsx("div",{className:"card-status",children:m.includes(I.id)?"✅":"🔄"}),e.jsxs("div",{className:"card-content",children:[e.jsx("h4",{children:I.name}),e.jsx("p",{className:"card-type",children:I.type}),e.jsx("p",{className:"card-description",children:I.description}),e.jsxs("div",{className:"card-details",children:[I.id==="star-balance"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"detail-chip",children:"📊 8 directions"}),e.jsx("span",{className:"detail-chip",children:"👁️ Single view"}),e.jsx("span",{className:"detail-chip",children:"⏱️ 2-3 min"})]}),I.id==="gait-analysis"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"detail-chip",children:"📊 Walking"}),e.jsx("span",{className:"detail-chip",children:"👁️ Multiple angles"}),e.jsx("span",{className:"detail-chip",children:"⏱️ 4-5 min"})]}),I.id==="overhead-press"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"detail-chip",children:"📊 10 reps"}),e.jsx("span",{className:"detail-chip",children:"👁️ 2 views"}),e.jsx("span",{className:"detail-chip",children:"⏱️ 3 min"})]})]})]}),e.jsx("button",{className:`card-action ${m.includes(I.id)?"review":"start"}`,children:m.includes(I.id)?"Review":"Start Optional"})]},I.id))})]})]})]}),X=()=>e.jsxs("div",{className:"setup-section",children:[e.jsxs("div",{className:"protocol-header",children:[e.jsx("h3",{children:"🏃‍♂️ OHSA Setup Protocol"}),e.jsx("p",{children:"Ensure proper setup for accurate assessment results"})]}),e.jsxs("div",{className:"setup-checklist",children:[e.jsx("h4",{children:"Pre-Assessment Checklist"}),e.jsxs("div",{className:"checklist-grid",children:[e.jsxs("label",{className:"checklist-item",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Client barefoot (shoes and socks removed)"})]}),e.jsxs("label",{className:"checklist-item",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Feet shoulder-width apart"})]}),e.jsxs("label",{className:"checklist-item",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Toes pointing straight ahead"})]}),e.jsxs("label",{className:"checklist-item",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Arms overhead position ready"})]}),e.jsxs("label",{className:"checklist-item",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Clear anterior and lateral view"})]}),e.jsxs("label",{className:"checklist-item",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Space cleared (6x6 feet minimum)"})]})]})]}),e.jsxs("div",{className:"equipment-section",children:[e.jsx("h4",{children:"Equipment"}),e.jsxs("div",{className:"equipment-list",children:[e.jsxs("div",{className:"equipment-category",children:[e.jsx("h5",{children:"Required:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"PVC pipe or dowel (or bodyweight only)"}),e.jsx("li",{children:"Open space (6x6 feet)"})]})]}),e.jsxs("div",{className:"equipment-category",children:[e.jsx("h5",{children:"Optional:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Chair for depth reference"}),e.jsx("li",{children:"Video recording device"}),e.jsx("li",{children:"2x4 board for modifications"})]})]})]})]}),e.jsxs("div",{className:"instruction-sequence",children:[e.jsx("h4",{children:"Assessment Instructions"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Remove shoes and socks for accurate assessment"}),e.jsx("li",{children:"Stand with feet shoulder-width apart, toes pointing forward"}),e.jsx("li",{children:"Hold arms overhead in a narrow Y position"}),e.jsx("li",{children:"Squat as if sitting back into a chair to comfortable depth"}),e.jsx("li",{children:"Return to starting position with control"}),e.jsx("li",{children:"Repeat 5 times at natural pace (2-3 seconds down)"}),e.jsx("li",{children:"Focus straight ahead, maintain arm position throughout"})]})]})]}),ae=()=>e.jsxs("div",{className:"assessment-section",children:[e.jsxs("div",{className:"assessment-header",children:[e.jsx("h3",{children:"🎯 Movement Assessment"}),e.jsxs("div",{className:"rep-counter",children:[e.jsxs("span",{children:["Repetition: ",y.currentRep," / ",y.totalReps]}),e.jsxs("div",{className:"view-selector",children:[e.jsx("button",{className:`view-btn ${y.overheadSquat.currentView==="anterior"?"active":""}`,onClick:()=>N(I=>({...I,overheadSquat:{...I.overheadSquat,currentView:"anterior"}})),children:"Anterior View"}),e.jsx("button",{className:`view-btn ${y.overheadSquat.currentView==="lateral"?"active":""}`,onClick:()=>N(I=>({...I,overheadSquat:{...I.overheadSquat,currentView:"lateral"}})),children:"Lateral View"}),e.jsx("button",{className:`view-btn ${y.overheadSquat.currentView==="posterior"?"active":""}`,onClick:()=>N(I=>({...I,overheadSquat:{...I.overheadSquat,currentView:"posterior"}})),children:"Posterior View"})]})]})]}),y.overheadSquat.currentView==="anterior"&&e.jsxs("div",{className:"compensation-checkpoints",children:[e.jsx("h4",{children:"Anterior View Checkpoints"}),Object.entries(O.anterior).map(([I,$])=>{var J,re,se,ee,Y;return e.jsxs("div",{className:"compensation-item",children:[e.jsxs("div",{className:"compensation-header",children:[e.jsxs("label",{className:"compensation-checkbox",children:[e.jsx("input",{type:"checkbox",checked:((J=y.overheadSquat.anteriorCompensations[I])==null?void 0:J.present)||!1,onChange:he=>Z("overheadSquat","anteriorCompensations",I,"present",he.target.checked)}),e.jsx("strong",{children:$.name})]}),((re=y.overheadSquat.anteriorCompensations[I])==null?void 0:re.present)&&e.jsxs("select",{value:((se=y.overheadSquat.anteriorCompensations[I])==null?void 0:se.severity)||"",onChange:he=>Z("overheadSquat","anteriorCompensations",I,"severity",he.target.value),className:"severity-select",children:[e.jsx("option",{value:"",children:"Select Severity"}),e.jsx("option",{value:"Mild",children:"Mild"}),e.jsx("option",{value:"Moderate",children:"Moderate"}),e.jsx("option",{value:"Severe",children:"Severe"})]})]}),e.jsx("p",{className:"compensation-description",children:$.description}),((ee=y.overheadSquat.anteriorCompensations[I])==null?void 0:ee.present)&&e.jsxs("div",{className:"compensation-details",children:[e.jsxs("div",{className:"muscle-analysis",children:[e.jsxs("div",{className:"possible-causes",children:[e.jsx("strong",{children:"Possible Causes:"})," ",$.possibleCauses.join(", ")]}),e.jsxs("div",{className:"corrective-actions",children:[e.jsx("strong",{children:"Corrective Actions:"})," ",$.correctiveActions.join(", ")]})]}),e.jsx("textarea",{placeholder:"Additional notes...",value:((Y=y.overheadSquat.anteriorCompensations[I])==null?void 0:Y.notes)||"",onChange:he=>Z("overheadSquat","anteriorCompensations",I,"notes",he.target.value),className:"notes-textarea",rows:"2"})]})]},I)})]}),y.overheadSquat.currentView==="lateral"&&e.jsxs("div",{className:"compensation-checkpoints",children:[e.jsx("h4",{children:"Lateral View Checkpoints"}),Object.entries(O.lateral).map(([I,$])=>{var J,re,se,ee,Y;return e.jsxs("div",{className:"compensation-item",children:[e.jsxs("div",{className:"compensation-header",children:[e.jsxs("label",{className:"compensation-checkbox",children:[e.jsx("input",{type:"checkbox",checked:((J=y.overheadSquat.lateralCompensations[I])==null?void 0:J.present)||!1,onChange:he=>Z("overheadSquat","lateralCompensations",I,"present",he.target.checked)}),e.jsx("strong",{children:$.name})]}),((re=y.overheadSquat.lateralCompensations[I])==null?void 0:re.present)&&e.jsxs("select",{value:((se=y.overheadSquat.lateralCompensations[I])==null?void 0:se.severity)||"",onChange:he=>Z("overheadSquat","lateralCompensations",I,"severity",he.target.value),className:"severity-select",children:[e.jsx("option",{value:"",children:"Select Severity"}),e.jsx("option",{value:"Mild",children:"Mild"}),e.jsx("option",{value:"Moderate",children:"Moderate"}),e.jsx("option",{value:"Severe",children:"Severe"})]})]}),e.jsx("p",{className:"compensation-description",children:$.description}),((ee=y.overheadSquat.lateralCompensations[I])==null?void 0:ee.present)&&e.jsxs("div",{className:"compensation-details",children:[e.jsxs("div",{className:"muscle-analysis",children:[e.jsxs("div",{className:"possible-causes",children:[e.jsx("strong",{children:"Possible Causes:"})," ",$.possibleCauses.join(", ")]}),e.jsxs("div",{className:"corrective-actions",children:[e.jsx("strong",{children:"Corrective Actions:"})," ",$.correctiveActions.join(", ")]})]}),e.jsx("textarea",{placeholder:"Additional notes...",value:((Y=y.overheadSquat.lateralCompensations[I])==null?void 0:Y.notes)||"",onChange:he=>Z("overheadSquat","lateralCompensations",I,"notes",he.target.value),className:"notes-textarea",rows:"2"})]})]},I)})]}),y.overheadSquat.currentView==="posterior"&&e.jsxs("div",{className:"compensation-checkpoints",children:[e.jsx("h4",{children:"Posterior View Checkpoints"}),Object.entries(O.posterior).map(([I,$])=>{var J,re,se,ee,Y;return e.jsxs("div",{className:"compensation-item",children:[e.jsxs("div",{className:"compensation-header",children:[e.jsxs("label",{className:"compensation-checkbox",children:[e.jsx("input",{type:"checkbox",checked:((J=y.overheadSquat.posteriorCompensations[I])==null?void 0:J.present)||!1,onChange:he=>Z("overheadSquat","posteriorCompensations",I,"present",he.target.checked)}),e.jsx("strong",{children:$.name})]}),((re=y.overheadSquat.posteriorCompensations[I])==null?void 0:re.present)&&e.jsxs("select",{value:((se=y.overheadSquat.posteriorCompensations[I])==null?void 0:se.severity)||"",onChange:he=>Z("overheadSquat","posteriorCompensations",I,"severity",he.target.value),className:"severity-select",children:[e.jsx("option",{value:"",children:"Select Severity"}),e.jsx("option",{value:"Mild",children:"Mild"}),e.jsx("option",{value:"Moderate",children:"Moderate"}),e.jsx("option",{value:"Severe",children:"Severe"})]})]}),e.jsx("p",{className:"compensation-description",children:$.description}),((ee=y.overheadSquat.posteriorCompensations[I])==null?void 0:ee.present)&&e.jsxs("div",{className:"compensation-details",children:[e.jsxs("div",{className:"muscle-analysis",children:[e.jsxs("div",{className:"possible-causes",children:[e.jsx("strong",{children:"Possible Causes:"})," ",$.possibleCauses.join(", ")]}),e.jsxs("div",{className:"corrective-actions",children:[e.jsx("strong",{children:"Corrective Actions:"})," ",$.correctiveActions.join(", ")]})]}),e.jsx("textarea",{placeholder:"Additional notes...",value:((Y=y.overheadSquat.posteriorCompensations[I])==null?void 0:Y.notes)||"",onChange:he=>Z("overheadSquat","posteriorCompensations",I,"notes",he.target.value),className:"notes-textarea",rows:"2"})]})]},I)})]})]}),me=()=>e.jsxs("div",{className:"modifications-section",children:[e.jsxs("div",{className:"modifications-header",children:[e.jsx("h3",{children:"🔍 Testing Modifications"}),e.jsx("p",{children:"Use these modifications to determine root causes of compensations"})]}),e.jsxs("div",{className:"modification-tests",children:[e.jsxs("div",{className:"modification-card",children:[e.jsx("h4",{children:"Heel Elevation Test"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purpose:"})," Differentiate ankle mobility vs hip weakness in knee valgus"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Method:"})," Place heels on 2-4 inch elevation, repeat assessment"]}),e.jsxs("label",{className:"modification-checkbox",children:[e.jsx("input",{type:"checkbox",checked:y.overheadSquat.modificationsPerformed.heelElevation.performed,onChange:I=>N($=>({...$,overheadSquat:{...$.overheadSquat,modificationsPerformed:{...$.overheadSquat.modificationsPerformed,heelElevation:{...$.overheadSquat.modificationsPerformed.heelElevation,performed:I.target.checked}}}}))}),"Performed heel elevation test"]}),y.overheadSquat.modificationsPerformed.heelElevation.performed&&e.jsxs("div",{className:"modification-results",children:[e.jsxs("label",{children:["Results:",e.jsxs("select",{value:y.overheadSquat.modificationsPerformed.heelElevation.results,onChange:I=>N($=>({...$,overheadSquat:{...$.overheadSquat,modificationsPerformed:{...$.overheadSquat.modificationsPerformed,heelElevation:{...$.overheadSquat.modificationsPerformed.heelElevation,results:I.target.value}}}})),children:[e.jsx("option",{value:"",children:"Select Result"}),e.jsx("option",{value:"significant_improvement",children:"Significant Improvement"}),e.jsx("option",{value:"slight_improvement",children:"Slight Improvement"}),e.jsx("option",{value:"no_improvement",children:"No Improvement"})]})]}),e.jsxs("div",{className:"interpretation",children:[y.overheadSquat.modificationsPerformed.heelElevation.results==="significant_improvement"&&e.jsxs("div",{className:"result-interpretation",children:[e.jsx("strong",{children:"Primary Cause:"})," Ankle mobility restriction",e.jsx("br",{}),e.jsx("strong",{children:"Focus:"})," Calf flexibility and ankle mobility"]}),y.overheadSquat.modificationsPerformed.heelElevation.results==="no_improvement"&&e.jsxs("div",{className:"result-interpretation",children:[e.jsx("strong",{children:"Primary Cause:"})," Hip abductor weakness",e.jsx("br",{}),e.jsx("strong",{children:"Focus:"})," Glute strengthening and activation"]})]})]})]}),e.jsxs("div",{className:"modification-card",children:[e.jsx("h4",{children:"Arms Down Test"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purpose:"})," Differentiate lat tightness vs core weakness in low back arch"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Method:"})," Remove overhead arm position, hands on hips, repeat assessment"]}),e.jsxs("label",{className:"modification-checkbox",children:[e.jsx("input",{type:"checkbox",checked:y.overheadSquat.modificationsPerformed.armsDown.performed,onChange:I=>N($=>({...$,overheadSquat:{...$.overheadSquat,modificationsPerformed:{...$.overheadSquat.modificationsPerformed,armsDown:{...$.overheadSquat.modificationsPerformed.armsDown,performed:I.target.checked}}}}))}),"Performed arms down test"]}),y.overheadSquat.modificationsPerformed.armsDown.performed&&e.jsxs("div",{className:"modification-results",children:[e.jsxs("label",{children:["Results:",e.jsxs("select",{value:y.overheadSquat.modificationsPerformed.armsDown.results,onChange:I=>N($=>({...$,overheadSquat:{...$.overheadSquat,modificationsPerformed:{...$.overheadSquat.modificationsPerformed,armsDown:{...$.overheadSquat.modificationsPerformed.armsDown,results:I.target.value}}}})),children:[e.jsx("option",{value:"",children:"Select Result"}),e.jsx("option",{value:"arch_disappears",children:"Low Back Arch Disappears"}),e.jsx("option",{value:"partial_improvement",children:"Partial Improvement"}),e.jsx("option",{value:"still_arches",children:"Still Arches"})]})]}),e.jsxs("div",{className:"interpretation",children:[y.overheadSquat.modificationsPerformed.armsDown.results==="arch_disappears"&&e.jsxs("div",{className:"result-interpretation",children:[e.jsx("strong",{children:"Primary Cause:"})," Latissimus dorsi tightness",e.jsx("br",{}),e.jsx("strong",{children:"Focus:"})," Lat flexibility and shoulder mobility"]}),y.overheadSquat.modificationsPerformed.armsDown.results==="still_arches"&&e.jsxs("div",{className:"result-interpretation",children:[e.jsx("strong",{children:"Primary Cause:"})," Core weakness and hip flexor tightness",e.jsx("br",{}),e.jsx("strong",{children:"Focus:"})," Core strengthening and hip flexor mobility"]})]})]})]})]})]}),fe=()=>{const I=[...Object.entries(y.overheadSquat.anteriorCompensations).filter(([J,re])=>re.severity&&re.severity!=="none"),...Object.entries(y.overheadSquat.lateralCompensations).filter(([J,re])=>re.severity&&re.severity!=="none"),...Object.entries(y.overheadSquat.posteriorCompensations).filter(([J,re])=>re.severity&&re.severity!=="none")],$=Le();return e.jsxs("div",{className:"analysis-section",children:[e.jsx("div",{className:"analysis-header",children:e.jsx("h3",{children:"📊 Assessment Analysis & Recommendations"})}),e.jsxs("div",{className:"compensation-summary",children:[e.jsx("h4",{children:"Compensation Summary"}),e.jsxs("div",{className:"summary-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Total Compensations:"}),e.jsx("span",{className:"stat-value",children:y.compensationCount})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Severity Score:"}),e.jsx("span",{className:"stat-value",children:y.severityScore})]})]})]}),I.length>0&&e.jsxs("div",{className:"corrective-prescriptions",children:[e.jsx("h4",{children:"4-Phase Corrective Exercise Prescription"}),I.map(([J,re])=>{const se=anteriorCompensations[J]||lateralCompensations[J]||posteriorCompensations[J];return se?e.jsxs("div",{className:"corrective-card",children:[e.jsx("h5",{children:se.name}),e.jsxs("div",{className:"corrective-phases",children:[e.jsxs("div",{className:"phase-section",children:[e.jsx("strong",{children:"1. INHIBIT (SMR):"}),e.jsx("ul",{children:se.correctives.inhibit.map(ee=>e.jsx("li",{children:ee},ee))})]}),e.jsxs("div",{className:"phase-section",children:[e.jsx("strong",{children:"2. LENGTHEN (Static Stretch):"}),e.jsx("ul",{children:se.correctives.lengthen.map(ee=>e.jsx("li",{children:ee},ee))})]}),e.jsxs("div",{className:"phase-section",children:[e.jsx("strong",{children:"3. ACTIVATE (Isolated Strengthening):"}),e.jsx("ul",{children:se.correctives.activate.map(ee=>e.jsx("li",{children:ee},ee))})]}),e.jsxs("div",{className:"phase-section",children:[e.jsx("strong",{children:"4. INTEGRATE (Functional Movement):"}),e.jsx("ul",{children:se.correctives.integrate.map(ee=>e.jsx("li",{children:ee},ee))})]})]})]},J):null})]}),e.jsxs("div",{className:"phase-recommendation",children:[e.jsx("h4",{children:"Starting OPT Phase Recommendation"}),e.jsxs("div",{className:"recommendation-card",children:[e.jsxs("div",{className:"phase-header",children:[e.jsx("h5",{children:$.phase}),e.jsx("span",{className:"duration",children:$.duration})]}),e.jsxs("div",{className:"recommendation-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Focus:"})," ",$.focus]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Corrective Volume:"})," ",$.correctiveVolume]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reasoning:"})," ",$.reasoning]})]})]})]})]})},F=()=>{const I=x.find(he=>he.id==="single-leg"),$=[{id:"kneeValgus",name:"Knee Moves Inward (Valgus)",description:"Knee adducts and internally rotates during squat",overactive:"Adductor complex, TFL, Vastus lateralis",underactive:"Gluteus medius/maximus, VMO",selected:y.singleLegSquat[`${g}Leg`].kneeValgus.present},{id:"excessiveForwardLean",name:"Excessive Forward Lean",description:"Torso leans forward excessively during movement",overactive:"Hip flexors, Gastrocnemius/Soleus",underactive:"Gluteus maximus, Anterior tibialis",selected:y.singleLegSquat[`${g}Leg`].excessiveForwardLean.present},{id:"hipHike",name:"Hip Hike",description:"Hip elevation on non-stance side",overactive:"Quadratus lumborum, TFL",underactive:"Gluteus medius (stance side)",selected:y.singleLegSquat[`${g}Leg`].hipHike.present}],J=he=>{const Gs=y.singleLegSquat[`${g}Leg`][he].present;Z("singleLegSquat",`${g}Leg`,he,"present",!Gs)},re=$.some(he=>he.selected),se=()=>{_(r,y.singleLegSquat),R(y.singleLegSquat)},ee=()=>{R({})},Y=()=>{N(he=>({...he,singleLegSquat:{...he.singleLegSquat,rightLeg:{kneeValgus:{present:!1,severity:"",notes:""},excessiveForwardLean:{present:!1,severity:"",notes:""},hipHike:{present:!1,severity:"",notes:""}},leftLeg:{kneeValgus:{present:!1,severity:"",notes:""},excessiveForwardLean:{present:!1,severity:"",notes:""},hipHike:{present:!1,severity:"",notes:""}}}}))};return e.jsxs("div",{className:"assessment-page",children:[e.jsx("button",{className:"back-button",onClick:p,children:"← Back to Assessment Selection"}),e.jsxs("div",{className:"assessment-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("h1",{className:"assessment-title",children:[e.jsx("span",{className:"icon",children:"🦵"}),I==null?void 0:I.name]}),e.jsx("span",{className:"assessment-badge",children:I==null?void 0:I.type})]}),e.jsxs("div",{className:"header-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Reps"}),e.jsx("span",{className:"stat-value",children:"5 per side"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Views"}),e.jsx("span",{className:"stat-value",children:"Anterior"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Time"}),e.jsx("span",{className:"stat-value",children:"~3-4 min"})]})]})]}),e.jsxs("div",{className:"protocol-card",children:[e.jsx("h3",{children:"Assessment Protocol"}),e.jsxs("div",{className:"protocol-grid",children:[e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Setup"}),e.jsx("p",{className:"protocol-text",children:"Hands on hips, eyes forward, stance foot pointing straight ahead"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Movement"}),e.jsx("p",{className:"protocol-text",children:"Single-leg squat to comfortable depth, up to 5 reps per side at natural pace"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Observation"}),e.jsx("p",{className:"protocol-text",children:"Knee tracking should align with 2nd-3rd toes. Watch for compensation patterns"})]})]})]}),e.jsxs("div",{className:"compensation-section",children:[e.jsx("h3",{children:"Movement Compensations"}),e.jsxs("div",{className:"side-selector",children:[e.jsx("button",{className:`side-btn ${g==="right"?"active":""}`,onClick:()=>d("right"),children:"Right Side"}),e.jsx("button",{className:`side-btn ${g==="left"?"active":""}`,onClick:()=>d("left"),children:"Left Side"})]}),e.jsx("div",{className:"compensation-grid",children:$.map(he=>e.jsxs("div",{className:`compensation-card ${he.selected?"selected":""}`,onClick:()=>J(he.id),children:[e.jsx("div",{className:"comp-checkbox",children:he.selected?"✅":"⬜"}),e.jsxs("div",{className:"comp-content",children:[e.jsx("h4",{children:he.name}),e.jsx("p",{className:"comp-description",children:he.description}),e.jsxs("div",{className:"comp-muscles",children:[e.jsxs("span",{className:"overactive",children:["Overactive: ",he.overactive]}),e.jsxs("span",{className:"underactive-text",children:["Underactive: ",he.underactive]})]})]})]},he.id))})]}),e.jsxs("div",{className:"assessment-actions",children:[e.jsx("button",{className:"action-btn secondary",onClick:Y,children:"Clear All"}),e.jsx("button",{className:"action-btn secondary",onClick:ee,children:"Skip This Assessment"}),e.jsx("button",{className:"action-btn primary",onClick:se,children:"Save & Continue"})]})]})},Q=()=>{const I=x.find(Y=>Y.id==="pushing"),$=[{id:"lowBackArch",name:"Low-Back Arches",description:"Excessive lumbar extension during pushing movement",overactive:"Hip flexors, Erector spinae",underactive:"Intrinsic core stabilizers",selected:y.pushingAssessment.compensations.lowBackArch.present},{id:"shoulderElevation",name:"Shoulder Elevation",description:"Shoulders elevate during pushing movement",overactive:"Upper trapezius, Levator scapulae",underactive:"Mid/Lower trapezius",selected:y.pushingAssessment.compensations.shoulderElevation.present},{id:"headForward",name:"Head Migrates Forward",description:"Forward head posture during pushing movement",overactive:"Upper trapezius, SCM, Levator scapulae",underactive:"Deep cervical flexors",selected:y.pushingAssessment.compensations.headForward.present}],J=Y=>{const he=y.pushingAssessment.compensations[Y].present;Z("pushingAssessment","compensations",Y,"present",!he)};$.some(Y=>Y.selected);const re=()=>{_(r,y.pushingAssessment),R(y.pushingAssessment)},se=()=>{R({})},ee=()=>{N(Y=>({...Y,pushingAssessment:{...Y.pushingAssessment,compensations:{lowBackArch:{present:!1,severity:"",notes:""},shoulderElevation:{present:!1,severity:"",notes:""},headForward:{present:!1,severity:"",notes:""}}}}))};return e.jsxs("div",{className:"assessment-page",children:[e.jsx("button",{className:"back-button",onClick:p,children:"← Back to Assessment Selection"}),e.jsxs("div",{className:"assessment-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("h1",{className:"assessment-title",children:[e.jsx("span",{className:"icon",children:"👐"}),I==null?void 0:I.name]}),e.jsx("span",{className:"assessment-badge",children:I==null?void 0:I.type})]}),e.jsxs("div",{className:"header-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Reps"}),e.jsx("span",{className:"stat-value",children:"20"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Views"}),e.jsx("span",{className:"stat-value",children:"Lateral"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Time"}),e.jsx("span",{className:"stat-value",children:"~3-4 min"})]})]})]}),e.jsxs("div",{className:"protocol-card",children:[e.jsx("h3",{children:"Assessment Protocol"}),e.jsxs("div",{className:"protocol-grid",children:[e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Setup"}),e.jsx("p",{className:"protocol-text",children:"Split-stance, core braced, cable/band at shoulder height"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Movement"}),e.jsx("p",{className:"protocol-text",children:"20 controlled reps, press handles forward and return to start position"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Observation"}),e.jsx("p",{className:"protocol-text",children:"Watch LPHC stability, shoulder complex position, and head alignment"})]})]})]}),e.jsxs("div",{className:"compensation-section",children:[e.jsx("h3",{children:"Movement Compensations"}),e.jsx("div",{className:"compensation-grid",children:$.map(Y=>e.jsxs("div",{className:`compensation-card ${Y.selected?"selected":""}`,onClick:()=>J(Y.id),children:[e.jsx("div",{className:"comp-checkbox",children:Y.selected?"✅":"⬜"}),e.jsxs("div",{className:"comp-content",children:[e.jsx("h4",{children:Y.name}),e.jsx("p",{className:"comp-description",children:Y.description}),e.jsxs("div",{className:"comp-muscles",children:[e.jsxs("span",{className:"overactive",children:["Overactive: ",Y.overactive]}),e.jsxs("span",{className:"underactive-text",children:["Underactive: ",Y.underactive]})]})]})]},Y.id))})]}),e.jsxs("div",{className:"assessment-actions",children:[e.jsx("button",{className:"action-btn secondary",onClick:ee,children:"Clear All"}),e.jsx("button",{className:"action-btn secondary",onClick:se,children:"Skip This Assessment"}),e.jsx("button",{className:"action-btn primary",onClick:re,children:"Save & Continue"})]})]})},le=()=>{const I=x.find(Y=>Y.id==="pulling"),$=[{id:"lowBackArch",name:"Low-Back Arches",description:"Excessive lumbar extension during pulling movement",overactive:"Hip flexors, Erector spinae",underactive:"Intrinsic core stabilizers",selected:y.pullingAssessment.compensations.lowBackArch.present},{id:"shoulderElevation",name:"Shoulder Elevation",description:"Shoulders elevate during pulling movement",overactive:"Upper trapezius, Levator scapulae",underactive:"Mid/Lower trapezius",selected:y.pullingAssessment.compensations.shoulderElevation.present},{id:"headForward",name:"Head Protrudes Forward",description:"Forward head posture during pulling movement",overactive:"Upper trapezius, SCM, Levator scapulae",underactive:"Deep cervical flexors",selected:y.pullingAssessment.compensations.headForward.present}],J=Y=>{const he=y.pullingAssessment.compensations[Y].present;Z("pullingAssessment","compensations",Y,"present",!he)};$.some(Y=>Y.selected);const re=()=>{_(r,y.pullingAssessment),R(y.pullingAssessment)},se=()=>{R({})},ee=()=>{N(Y=>({...Y,pullingAssessment:{...Y.pullingAssessment,compensations:{lowBackArch:{present:!1,severity:"",notes:""},shoulderElevation:{present:!1,severity:"",notes:""},headForward:{present:!1,severity:"",notes:""}}}}))};return e.jsxs("div",{className:"assessment-page",children:[e.jsx("button",{className:"back-button",onClick:p,children:"← Back to Assessment Selection"}),e.jsxs("div",{className:"assessment-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("h1",{className:"assessment-title",children:[e.jsx("span",{className:"icon",children:"🪄"}),I==null?void 0:I.name]}),e.jsx("span",{className:"assessment-badge",children:I==null?void 0:I.type})]}),e.jsxs("div",{className:"header-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Reps"}),e.jsx("span",{className:"stat-value",children:"20"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Views"}),e.jsx("span",{className:"stat-value",children:"Lateral"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Time"}),e.jsx("span",{className:"stat-value",children:"~3-4 min"})]})]})]}),e.jsxs("div",{className:"protocol-card",children:[e.jsx("h3",{children:"Assessment Protocol"}),e.jsxs("div",{className:"protocol-grid",children:[e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Setup"}),e.jsx("p",{className:"protocol-text",children:"Feet shoulder-width apart, core braced, cable/band at shoulder height"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Movement"}),e.jsx("p",{className:"protocol-text",children:"Pull handles to torso, 20 controlled reps with controlled return"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Observation"}),e.jsx("p",{className:"protocol-text",children:"Watch LPHC stability, shoulder complex retraction, and head alignment"})]})]})]}),e.jsxs("div",{className:"compensation-section",children:[e.jsx("h3",{children:"Movement Compensations"}),e.jsx("div",{className:"compensation-grid",children:$.map(Y=>e.jsxs("div",{className:`compensation-card ${Y.selected?"selected":""}`,onClick:()=>J(Y.id),children:[e.jsx("div",{className:"comp-checkbox",children:Y.selected?"✅":"⬜"}),e.jsxs("div",{className:"comp-content",children:[e.jsx("h4",{children:Y.name}),e.jsx("p",{className:"comp-description",children:Y.description}),e.jsxs("div",{className:"comp-muscles",children:[e.jsxs("span",{className:"overactive",children:["Overactive: ",Y.overactive]}),e.jsxs("span",{className:"underactive-text",children:["Underactive: ",Y.underactive]})]})]})]},Y.id))})]}),e.jsxs("div",{className:"assessment-actions",children:[e.jsx("button",{className:"action-btn secondary",onClick:ee,children:"Clear All"}),e.jsx("button",{className:"action-btn secondary",onClick:se,children:"Skip This Assessment"}),e.jsx("button",{className:"action-btn primary",onClick:re,children:"Save & Continue"})]})]})},xe=()=>{const I=x.find(se=>se.id==="overhead-press"),$=()=>{const se={completed:!0,completedAt:new Date().toISOString(),notes:"Basic overhead movement pattern assessment completed"};_(r,se),R(se)},J=()=>{R({})},re=m.includes("overhead-press");return e.jsxs("div",{className:"assessment-page",children:[e.jsx("button",{className:"back-button",onClick:p,children:"← Back to Assessment Selection"}),e.jsxs("div",{className:"assessment-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("h1",{className:"assessment-title",children:[e.jsx("span",{className:"icon",children:"🙌"}),I==null?void 0:I.name]}),e.jsx("span",{className:"assessment-badge optional",children:"Optional"})]}),e.jsxs("div",{className:"header-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Reps"}),e.jsx("span",{className:"stat-value",children:"10-15"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Views"}),e.jsx("span",{className:"stat-value",children:"All Planes"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Time"}),e.jsx("span",{className:"stat-value",children:"~2-3 min"})]})]})]}),e.jsxs("div",{className:"protocol-card",children:[e.jsx("h3",{children:"Assessment Protocol"}),e.jsxs("div",{className:"protocol-grid",children:[e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Setup"}),e.jsx("p",{className:"protocol-text",children:"Seated or standing position, dumbbells or bodyweight resistance"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Movement"}),e.jsx("p",{className:"protocol-text",children:"Press overhead with controlled tempo, 10-15 repetitions"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Observation"}),e.jsx("p",{className:"protocol-text",children:"Monitor shoulder elevation, forward head posture, and low back arch"})]})]})]}),e.jsxs("div",{className:"optional-info-card",children:[e.jsx("h3",{children:"Assessment Focus Areas"}),e.jsxs("div",{className:"focus-grid",children:[e.jsxs("div",{className:"focus-item",children:[e.jsx("span",{className:"focus-icon",children:"🏋️"}),e.jsx("span",{className:"focus-text",children:"Shoulder Stability"})]}),e.jsxs("div",{className:"focus-item",children:[e.jsx("span",{className:"focus-icon",children:"📐"}),e.jsx("span",{className:"focus-text",children:"Overhead Range"})]}),e.jsxs("div",{className:"focus-item",children:[e.jsx("span",{className:"focus-icon",children:"🔄"}),e.jsx("span",{className:"focus-text",children:"Movement Quality"})]}),e.jsxs("div",{className:"focus-item",children:[e.jsx("span",{className:"focus-icon",children:"⚖️"}),e.jsx("span",{className:"focus-text",children:"Postural Control"})]})]})]}),e.jsxs("div",{className:"assessment-actions",children:[e.jsx("button",{className:"action-btn secondary",onClick:J,children:"Skip This Assessment"}),e.jsx("button",{className:"action-btn primary",onClick:$,disabled:re,children:re?"✅ Completed":"Mark Complete"})]})]})},be=()=>{const I=x.find(ee=>ee.id==="star-balance"),$=()=>{const ee={completed:!0,completedAt:new Date().toISOString(),notes:"Multi-directional balance assessment completed"};_(r,ee),R(ee)},J=()=>{R({})},re=m.includes("star-balance"),se=[{name:"Forward",icon:"⬆️"},{name:"Forward-Right",icon:"↗️"},{name:"Right",icon:"➡️"},{name:"Back-Right",icon:"↘️"},{name:"Backward",icon:"⬇️"},{name:"Back-Left",icon:"↙️"},{name:"Left",icon:"⬅️"},{name:"Forward-Left",icon:"↖️"}];return e.jsxs("div",{className:"assessment-page",children:[e.jsx("button",{className:"back-button",onClick:p,children:"← Back to Assessment Selection"}),e.jsxs("div",{className:"assessment-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("h1",{className:"assessment-title",children:[e.jsx("span",{className:"icon",children:"⭐"}),I==null?void 0:I.name]}),e.jsx("span",{className:"assessment-badge optional",children:"Optional"})]}),e.jsxs("div",{className:"header-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Directions"}),e.jsx("span",{className:"stat-value",children:"8 Ways"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Each Leg"}),e.jsx("span",{className:"stat-value",children:"3 Trials"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Time"}),e.jsx("span",{className:"stat-value",children:"~5-6 min"})]})]})]}),e.jsxs("div",{className:"protocol-card",children:[e.jsx("h3",{children:"Assessment Protocol"}),e.jsxs("div",{className:"protocol-grid",children:[e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Setup"}),e.jsx("p",{className:"protocol-text",children:"Single-leg stance, hands on hips, establish balance"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Movement"}),e.jsx("p",{className:"protocol-text",children:"Reach opposite leg in 8 directions, return to center"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Observation"}),e.jsx("p",{className:"protocol-text",children:"Balance maintenance, compensation patterns, reach distance"})]})]})]}),e.jsxs("div",{className:"directions-card",children:[e.jsx("h3",{children:"Movement Directions"}),e.jsx("div",{className:"directions-grid",children:se.map((ee,Y)=>e.jsxs("div",{className:"direction-item",children:[e.jsx("span",{className:"direction-icon",children:ee.icon}),e.jsx("span",{className:"direction-name",children:ee.name})]},Y))})]}),e.jsxs("div",{className:"assessment-actions",children:[e.jsx("button",{className:"action-btn secondary",onClick:J,children:"Skip This Assessment"}),e.jsx("button",{className:"action-btn primary",onClick:$,disabled:re,children:re?"✅ Completed":"Mark Complete"})]})]})},Te=()=>{const I=x.find(ee=>ee.id==="gait-analysis"),$=()=>{const ee={completed:!0,completedAt:new Date().toISOString(),notes:"Gait pattern analysis completed"};_(r,ee),R(ee)},J=()=>{R({})},re=m.includes("gait-analysis"),se=[{phase:"Initial Contact",description:"Heel strike, foot position",icon:"👠"},{phase:"Loading Response",description:"Weight acceptance, knee flexion",icon:"⚖️"},{phase:"Mid Stance",description:"Single leg support, hip stability",icon:"🏃"},{phase:"Terminal Stance",description:"Heel off, push-off preparation",icon:"🦵"},{phase:"Pre-swing",description:"Toe off, hip flexion initiation",icon:"🔄"},{phase:"Swing Phase",description:"Leg advancement, clearance",icon:"🌊"}];return e.jsxs("div",{className:"assessment-page",children:[e.jsx("button",{className:"back-button",onClick:p,children:"← Back to Assessment Selection"}),e.jsxs("div",{className:"assessment-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsxs("h1",{className:"assessment-title",children:[e.jsx("span",{className:"icon",children:"🚶‍♂️"}),I==null?void 0:I.name]}),e.jsx("span",{className:"assessment-badge optional",children:"Optional"})]}),e.jsxs("div",{className:"header-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Distance"}),e.jsx("span",{className:"stat-value",children:"10-20 steps"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Speeds"}),e.jsx("span",{className:"stat-value",children:"Walk & Jog"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Time"}),e.jsx("span",{className:"stat-value",children:"~4-5 min"})]})]})]}),e.jsxs("div",{className:"protocol-card",children:[e.jsx("h3",{children:"Assessment Protocol"}),e.jsxs("div",{className:"protocol-grid",children:[e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Setup"}),e.jsx("p",{className:"protocol-text",children:"Clear pathway, comfortable footwear, natural pace"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Movement"}),e.jsx("p",{className:"protocol-text",children:"Walk and jog naturally, multiple passes for observation"})]}),e.jsxs("div",{className:"protocol-item",children:[e.jsx("span",{className:"protocol-label",children:"Observation"}),e.jsx("p",{className:"protocol-text",children:"Foot strike pattern, knee tracking, hip stability, arm swing"})]})]})]}),e.jsxs("div",{className:"gait-phases-card",children:[e.jsx("h3",{children:"Gait Cycle Analysis"}),e.jsx("div",{className:"gait-phases-grid",children:se.map((ee,Y)=>e.jsxs("div",{className:"gait-phase-item",children:[e.jsx("span",{className:"phase-icon",children:ee.icon}),e.jsxs("div",{className:"phase-content",children:[e.jsx("h4",{children:ee.phase}),e.jsx("p",{children:ee.description})]})]},Y))})]}),e.jsxs("div",{className:"assessment-actions",children:[e.jsx("button",{className:"action-btn secondary",onClick:J,children:"Skip This Assessment"}),e.jsx("button",{className:"action-btn primary",onClick:$,disabled:re,children:re?"✅ Completed":"Mark Complete"})]})]})},Ae=()=>{if(!r)return null;switch(r){case"overhead-squat":return e.jsxs("div",{className:"selected-assessment-container",children:[e.jsxs("div",{className:"assessment-header",children:[e.jsx("h3",{children:"🏋️‍♂️ Overhead Squat Assessment"}),e.jsx("p",{children:"NASM primary transitional movement screen"})]}),e.jsxs("div",{className:"assessment-tabs",children:[e.jsxs("button",{className:`assessment-tab ${o==="setup"?"active":""}`,onClick:()=>h("setup"),children:[e.jsx("span",{className:"tab-icon",children:"⚙️"}),e.jsx("span",{className:"tab-name",children:"Setup"})]}),e.jsxs("button",{className:`assessment-tab ${o==="assessment"?"active":""}`,onClick:()=>h("assessment"),children:[e.jsx("span",{className:"tab-icon",children:"🏃‍♂️"}),e.jsx("span",{className:"tab-name",children:"Assessment"})]}),e.jsxs("button",{className:`assessment-tab ${o==="modifications"?"active":""}`,onClick:()=>h("modifications"),children:[e.jsx("span",{className:"tab-icon",children:"🔍"}),e.jsx("span",{className:"tab-name",children:"Modifications"})]}),e.jsxs("button",{className:`assessment-tab ${o==="analysis"?"active":""}`,onClick:()=>h("analysis"),children:[e.jsx("span",{className:"tab-icon",children:"📊"}),e.jsx("span",{className:"tab-name",children:"Analysis"})]})]}),e.jsxs("div",{className:"tab-content",children:[o==="setup"&&X(),o==="assessment"&&ae(),o==="modifications"&&me(),o==="analysis"&&fe()]}),e.jsx("div",{className:"assessment-actions",children:e.jsx("button",{className:"btn-complete-assessment",onClick:()=>R(y),children:m.includes(r)?"Update & Return":"Complete Assessment"})})]});case"single-leg":return F();case"pushing":return Q();case"pulling":return le();case"overhead-press":return xe();case"star-balance":return be();case"gait-analysis":return Te();default:return e.jsx("div",{className:"assessment-placeholder",children:"Assessment not found"})}},we=()=>{if(!v){V(`Please complete all required assessments. ${j}/${f.length} completed.`);return}const I={compensations:y,phaseRecommendation:Le(),methodology:"NASM_OHSA",timestamp:new Date().toISOString(),compensationCount:y.compensationCount,severityScore:y.severityScore,completedAssessments:m,selectedQuickTags:b,additionalNotes:A,summary:{totalAssessments:x.length,completedAssessments:m.length,requiredCompleted:j,requiredTotal:f.length,canProceed:v}};t.setAssessmentData({...s.assessmentData,step:4,movementAssessment:I,timestamp:new Date().toISOString()}),t.setCurrentStep(5)};return e.jsxs("div",{className:"nasm-movement-assessment-step",children:[i==="selection"?e.jsx(H,{}):e.jsxs("div",{className:"individual-assessment-view",children:[e.jsx("div",{className:"assessment-back-nav",children:e.jsx("button",{className:"btn-back-to-selection",onClick:p,children:"← Back to Assessment Selection"})}),Ae()]}),e.jsx("div",{className:"navigation-section",children:e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{onClick:()=>t.setCurrentStep(3),className:"btn-secondary",children:"← Step 3: Static Posture"}),e.jsx("button",{onClick:we,className:"btn-primary",disabled:!v,children:"Complete Movement Assessment → Step 5"})]})})]})},il=()=>{var i,n;const{state:s,actions:t}=Me();return e.jsxs("div",{className:"periodization-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"📅 Periodization"}),e.jsx("p",{className:"step-description",children:"Complete periodization strategy with Bromley wave integration"})]}),e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"🌊 Bromley Wave Periodization"}),e.jsx("p",{children:"Enhanced periodization with Specificity, Recovery, and Novelty principles"}),e.jsxs("div",{className:"periodization-options",children:[e.jsxs("div",{className:"wave-type-selection",children:[e.jsx("h4",{children:"Wave Type"}),e.jsxs("div",{className:"wave-options",children:[e.jsxs("button",{className:`wave-btn ${((i=s.periodization)==null?void 0:i.waveType)==="volumizing"?"active":""}`,onClick:()=>t.updatePeriodization({waveType:"volumizing"}),children:["📈 Volumizing Waves",e.jsx("span",{className:"wave-description",children:"3×12 → 4×10 → 5×8"})]}),e.jsxs("button",{className:`wave-btn ${((n=s.periodization)==null?void 0:n.waveType)==="intensifying"?"active":""}`,onClick:()=>t.updatePeriodization({waveType:"intensifying"}),children:["💪 Intensifying Waves",e.jsx("span",{className:"wave-description",children:"5×5 → 4×4 → 3×3"})]})]})]}),e.jsxs("div",{className:"phase-structure",children:[e.jsx("h4",{children:"Phase Structure"}),e.jsxs("div",{className:"phases",children:[e.jsxs("div",{className:"phase-item",children:[e.jsx("strong",{children:"Base Phase:"})," 6-8 weeks of volume building"]}),e.jsxs("div",{className:"phase-item",children:[e.jsx("strong",{children:"Peak Phase:"})," 4-6 weeks of intensity focus"]}),e.jsxs("div",{className:"phase-item",children:[e.jsx("strong",{children:"Deload:"})," Every 3-4 weeks"]})]})]})]})]}),e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>t.setCurrentStep("5a"),children:"← Back"}),e.jsx("button",{className:"btn-primary",onClick:()=>t.setCurrentStep(7),children:"Continue to Program Design →"})]})]})},nl=()=>{var i,n;const{state:s,actions:t}=Me();return e.jsxs("div",{className:"implementation-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"📊 Implementation & Monitoring"}),e.jsx("p",{className:"step-description",children:"Complete implementation with Bromley monitoring protocols"})]}),e.jsxs("div",{className:"content-section",children:[e.jsx("h3",{children:"Program Summary"}),e.jsxs("div",{className:"program-summary",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Goal:"})," ",s.primaryGoal||"Not set"]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"System:"})," ",s.selectedSystem||"Not selected"]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Duration:"})," ",((i=s.timeline)==null?void 0:i.weeks)||"Not set"," weeks"]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("strong",{children:"Wave Type:"})," ",((n=s.periodization)==null?void 0:n.waveType)||"Not selected"]})]}),e.jsx("h3",{children:"🔄 Bromley Monitoring Features"}),e.jsxs("div",{className:"monitoring-features",children:[e.jsxs("div",{className:"feature-item",children:[e.jsx("strong",{children:"SRN Tracking:"})," Specificity, Recovery, Novelty metrics"]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("strong",{children:"Wave Progression:"})," Automatic load adjustments"]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("strong",{children:"RPE Monitoring:"})," Effort-based progression"]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("strong",{children:"AMRAP Testing:"})," Regular strength assessments"]})]}),e.jsx("h3",{children:"Next Steps"}),e.jsx("div",{className:"next-steps",children:e.jsxs("ol",{children:[e.jsx("li",{children:"Begin with assessment week"}),e.jsx("li",{children:"Start base phase training"}),e.jsx("li",{children:"Monitor weekly progress"}),e.jsx("li",{children:"Adjust based on RPE feedback"}),e.jsx("li",{children:"Follow wave progression"})]})})]}),e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>t.setCurrentStep(7),children:"← Back"}),e.jsx("button",{className:"btn-primary",onClick:()=>{t.finalizeProgram()},children:"Start Program! 🚀"})]}),e.jsxs("div",{className:"bromley-integration-complete",children:[e.jsx("h3",{children:"🎯 Bromley Integration Complete!"}),e.jsxs("div",{className:"completion-status",children:["✅ SRN Framework Applied",e.jsx("br",{}),"✅ Wave Periodization Ready",e.jsx("br",{}),"✅ Goal-System Match Confirmed",e.jsx("br",{}),"✅ Enhanced Assessment Protocols",e.jsx("br",{}),"✅ Progress Monitoring Enabled"]})]})]})};function rl({title:s,titleId:t,...i},n){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?k.createElement("title",{id:t},s):null,k.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const Ys=k.forwardRef(rl);function al({title:s,titleId:t,...i},n){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?k.createElement("title",{id:t},s):null,k.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Qe=k.forwardRef(al);function ol({title:s,titleId:t,...i},n){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?k.createElement("title",{id:t},s):null,k.createElement("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 0 1-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 0 1 6.126 3.537ZM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 0 1 0 .75l-1.732 3c-.229.397-.76.5-1.067.161A5.23 5.23 0 0 1 6.75 12a5.23 5.23 0 0 1 1.37-3.536ZM10.878 17.13c-.447-.098-.623-.608-.394-1.004l1.733-3.002a.75.75 0 0 1 .65-.375h3.465c.457 0 .81.407.672.842a5.252 5.252 0 0 1-6.126 3.539Z"}),k.createElement("path",{fillRule:"evenodd",d:"M21 12.75a.75.75 0 1 0 0-1.5h-.783a8.22 8.22 0 0 0-.237-1.357l.734-.267a.75.75 0 1 0-.513-1.41l-.735.268a8.24 8.24 0 0 0-.689-1.192l.6-.503a.75.75 0 1 0-.964-1.149l-.6.504a8.3 8.3 0 0 0-1.054-.885l.391-.678a.75.75 0 1 0-1.299-.75l-.39.676a8.188 8.188 0 0 0-1.295-.47l.136-.77a.75.75 0 0 0-1.477-.26l-.136.77a8.36 8.36 0 0 0-1.377 0l-.136-.77a.75.75 0 1 0-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 0 0-1.3.75l.392.678a8.29 8.29 0 0 0-1.054.885l-.6-.504a.75.75 0 1 0-.965 1.149l.6.503a8.243 8.243 0 0 0-.689 1.192L3.8 8.216a.75.75 0 1 0-.513 1.41l.735.267a8.222 8.222 0 0 0-.238 1.356h-.783a.75.75 0 0 0 0 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 0 0 .513 1.41l.735-.268c.197.417.428.816.69 1.191l-.6.504a.75.75 0 0 0 .963 1.15l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 0 0 1.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.77a.75.75 0 0 0 1.477.261l.137-.772a8.332 8.332 0 0 0 1.376 0l.136.772a.75.75 0 1 0 1.477-.26l-.136-.771a8.19 8.19 0 0 0 1.294-.47l.391.677a.75.75 0 0 0 1.3-.75l-.393-.679a8.29 8.29 0 0 0 1.054-.885l.601.504a.75.75 0 0 0 .964-1.15l-.6-.503c.261-.375.492-.774.69-1.191l.735.267a.75.75 0 1 0 .512-1.41l-.734-.267c.115-.439.195-.892.237-1.356h.784Zm-2.657-3.06a6.744 6.744 0 0 0-1.19-2.053 6.784 6.784 0 0 0-1.82-1.51A6.705 6.705 0 0 0 12 5.25a6.8 6.8 0 0 0-1.225.11 6.7 6.7 0 0 0-2.15.793 6.784 6.784 0 0 0-2.952 3.489.76.76 0 0 1-.036.098A6.74 6.74 0 0 0 5.251 12a6.74 6.74 0 0 0 3.366 5.842l.009.005a6.704 6.704 0 0 0 2.18.798l.022.003a6.792 6.792 0 0 0 2.368-.004 6.704 6.704 0 0 0 2.205-.811 6.785 6.785 0 0 0 1.762-1.484l.009-.01.009-.01a6.743 6.743 0 0 0 1.18-2.066c.253-.707.39-1.469.39-2.263a6.74 6.74 0 0 0-.408-2.309Z",clipRule:"evenodd"}))}const ll=k.forwardRef(ol);function cl({title:s,titleId:t,...i},n){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?k.createElement("title",{id:t},s):null,k.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const dl=k.forwardRef(cl);function ml({title:s,titleId:t,...i},n){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?k.createElement("title",{id:t},s):null,k.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const hl=k.forwardRef(ml);function ul({title:s,titleId:t,...i},n){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},i),s?k.createElement("title",{id:t},s):null,k.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const pl=k.forwardRef(ul),oi=k.createContext({});function li(s){const t=k.useRef(null);return t.current===null&&(t.current=s()),t.current}const ci=typeof window<"u",Or=ci?k.useLayoutEffect:k.useEffect,mt=k.createContext(null);function di(s,t){s.indexOf(t)===-1&&s.push(t)}function mi(s,t){const i=s.indexOf(t);i>-1&&s.splice(i,1)}const Ue=(s,t,i)=>i>t?t:i<s?s:i;let hi=()=>{};const Ye={},Fr=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function Dr(s){return typeof s=="object"&&s!==null}const Br=s=>/^0[^.\s]+$/u.test(s);function ui(s){let t;return()=>(t===void 0&&(t=s()),t)}const He=s=>s,xl=(s,t)=>i=>t(s(i)),Vs=(...s)=>s.reduce(xl),As=(s,t,i)=>{const n=t-s;return n===0?1:(i-s)/n};class pi{constructor(){this.subscriptions=[]}add(t){return di(this.subscriptions,t),()=>mi(this.subscriptions,t)}notify(t,i,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,i,n);else for(let l=0;l<r;l++){const a=this.subscriptions[l];a&&a(t,i,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const We=s=>s*1e3,Ge=s=>s/1e3;function Ir(s,t){return t?s*(1e3/t):0}const Vr=(s,t,i)=>(((1-3*i+3*t)*s+(3*i-6*t))*s+3*t)*s,gl=1e-7,fl=12;function yl(s,t,i,n,r){let l,a,c=0;do a=t+(i-t)/2,l=Vr(a,n,r)-s,l>0?i=a:t=a;while(Math.abs(l)>gl&&++c<fl);return a}function Hs(s,t,i,n){if(s===t&&i===n)return He;const r=l=>yl(l,0,1,s,i);return l=>l===0||l===1?l:Vr(r(l),t,n)}const Hr=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,zr=s=>t=>1-s(1-t),Wr=Hs(.33,1.53,.69,.99),xi=zr(Wr),Gr=Hr(xi),$r=s=>(s*=2)<1?.5*xi(s):.5*(2-Math.pow(2,-10*(s-1))),gi=s=>1-Math.sin(Math.acos(s)),Ur=zr(gi),Yr=Hr(gi),bl=Hs(.42,0,1,1),vl=Hs(0,0,.58,1),Kr=Hs(.42,0,.58,1),jl=s=>Array.isArray(s)&&typeof s[0]!="number",Qr=s=>Array.isArray(s)&&typeof s[0]=="number",Nl={linear:He,easeIn:bl,easeInOut:Kr,easeOut:vl,circIn:gi,circInOut:Yr,circOut:Ur,backIn:xi,backInOut:Gr,backOut:Wr,anticipate:$r},wl=s=>typeof s=="string",pn=s=>{if(Qr(s)){hi(s.length===4);const[t,i,n,r]=s;return Hs(t,i,n,r)}else if(wl(s))return Nl[s];return s},Ks=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Sl(s,t){let i=new Set,n=new Set,r=!1,l=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function o(m){a.has(m)&&(h.schedule(m),s()),m(c)}const h={schedule:(m,u=!1,b=!1)=>{const A=b&&r?i:n;return u&&a.add(m),A.has(m)||A.add(m),m},cancel:m=>{n.delete(m),a.delete(m)},process:m=>{if(c=m,r){l=!0;return}r=!0,[i,n]=[n,i],i.forEach(o),i.clear(),r=!1,l&&(l=!1,h.process(m))}};return h}const kl=40;function Xr(s,t){let i=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>i=!0,a=Ks.reduce((f,M)=>(f[M]=Sl(l),f),{}),{setup:c,read:o,resolveKeyframes:h,preUpdate:m,update:u,preRender:b,render:C,postRender:A}=a,q=()=>{const f=Ye.useManualTiming?r.timestamp:performance.now();i=!1,Ye.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(f-r.timestamp,kl),1)),r.timestamp=f,r.isProcessing=!0,c.process(r),o.process(r),h.process(r),m.process(r),u.process(r),b.process(r),C.process(r),A.process(r),r.isProcessing=!1,i&&t&&(n=!1,s(q))},g=()=>{i=!0,n=!0,r.isProcessing||s(q)};return{schedule:Ks.reduce((f,M)=>{const v=a[M];return f[M]=(j,P=!1,w=!1)=>(i||g(),v.schedule(j,P,w)),f},{}),cancel:f=>{for(let M=0;M<Ks.length;M++)a[Ks[M]].cancel(f)},state:r,steps:a}}const{schedule:Ne,cancel:ss,state:Ee,steps:gt}=Xr(typeof requestAnimationFrame<"u"?requestAnimationFrame:He,!0);let et;function Cl(){et=void 0}const Fe={now:()=>(et===void 0&&Fe.set(Ee.isProcessing||Ye.useManualTiming?Ee.timestamp:performance.now()),et),set:s=>{et=s,queueMicrotask(Cl)}},Jr=s=>t=>typeof t=="string"&&t.startsWith(s),fi=Jr("--"),Pl=Jr("var(--"),yi=s=>Pl(s)?Rl.test(s.split("/*")[0].trim()):!1,Rl=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,js={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Es={...js,transform:s=>Ue(0,1,s)},Qs={...js,default:1},Cs=s=>Math.round(s*1e5)/1e5,bi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ml(s){return s==null}const Tl=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vi=(s,t)=>i=>!!(typeof i=="string"&&Tl.test(i)&&i.startsWith(s)||t&&!Ml(i)&&Object.prototype.hasOwnProperty.call(i,t)),Zr=(s,t,i)=>n=>{if(typeof n!="string")return n;const[r,l,a,c]=n.match(bi);return{[s]:parseFloat(r),[t]:parseFloat(l),[i]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},Al=s=>Ue(0,255,s),ft={...js,transform:s=>Math.round(Al(s))},ls={test:vi("rgb","red"),parse:Zr("red","green","blue"),transform:({red:s,green:t,blue:i,alpha:n=1})=>"rgba("+ft.transform(s)+", "+ft.transform(t)+", "+ft.transform(i)+", "+Cs(Es.transform(n))+")"};function El(s){let t="",i="",n="",r="";return s.length>5?(t=s.substring(1,3),i=s.substring(3,5),n=s.substring(5,7),r=s.substring(7,9)):(t=s.substring(1,2),i=s.substring(2,3),n=s.substring(3,4),r=s.substring(4,5),t+=t,i+=i,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Ot={test:vi("#"),parse:El,transform:ls.transform},zs=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),Xe=zs("deg"),$e=zs("%"),ce=zs("px"),_l=zs("vh"),ql=zs("vw"),xn={...$e,parse:s=>$e.parse(s)/100,transform:s=>$e.transform(s*100)},us={test:vi("hsl","hue"),parse:Zr("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:i,alpha:n=1})=>"hsla("+Math.round(s)+", "+$e.transform(Cs(t))+", "+$e.transform(Cs(i))+", "+Cs(Es.transform(n))+")"},Re={test:s=>ls.test(s)||Ot.test(s)||us.test(s),parse:s=>ls.test(s)?ls.parse(s):us.test(s)?us.parse(s):Ot.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?ls.transform(s):us.transform(s),getAnimatableNone:s=>{const t=Re.parse(s);return t.alpha=0,Re.transform(t)}},Ll=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ol(s){var t,i;return isNaN(s)&&typeof s=="string"&&(((t=s.match(bi))==null?void 0:t.length)||0)+(((i=s.match(Ll))==null?void 0:i.length)||0)>0}const ea="number",sa="color",Fl="var",Dl="var(",gn="${}",Bl=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _s(s){const t=s.toString(),i=[],n={color:[],number:[],var:[]},r=[];let l=0;const c=t.replace(Bl,o=>(Re.test(o)?(n.color.push(l),r.push(sa),i.push(Re.parse(o))):o.startsWith(Dl)?(n.var.push(l),r.push(Fl),i.push(o)):(n.number.push(l),r.push(ea),i.push(parseFloat(o))),++l,gn)).split(gn);return{values:i,split:c,indexes:n,types:r}}function ta(s){return _s(s).values}function ia(s){const{split:t,types:i}=_s(s),n=t.length;return r=>{let l="";for(let a=0;a<n;a++)if(l+=t[a],r[a]!==void 0){const c=i[a];c===ea?l+=Cs(r[a]):c===sa?l+=Re.transform(r[a]):l+=r[a]}return l}}const Il=s=>typeof s=="number"?0:Re.test(s)?Re.getAnimatableNone(s):s;function Vl(s){const t=ta(s);return ia(s)(t.map(Il))}const ts={test:Ol,parse:ta,createTransformer:ia,getAnimatableNone:Vl};function yt(s,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?s+(t-s)*6*i:i<1/2?t:i<2/3?s+(t-s)*(2/3-i)*6:s}function Hl({hue:s,saturation:t,lightness:i,alpha:n}){s/=360,t/=100,i/=100;let r=0,l=0,a=0;if(!t)r=l=a=i;else{const c=i<.5?i*(1+t):i+t-i*t,o=2*i-c;r=yt(o,c,s+1/3),l=yt(o,c,s),a=yt(o,c,s-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(a*255),alpha:n}}function at(s,t){return i=>i>0?t:s}const Se=(s,t,i)=>s+(t-s)*i,bt=(s,t,i)=>{const n=s*s,r=i*(t*t-n)+n;return r<0?0:Math.sqrt(r)},zl=[Ot,ls,us],Wl=s=>zl.find(t=>t.test(s));function fn(s){const t=Wl(s);if(!t)return!1;let i=t.parse(s);return t===us&&(i=Hl(i)),i}const yn=(s,t)=>{const i=fn(s),n=fn(t);if(!i||!n)return at(s,t);const r={...i};return l=>(r.red=bt(i.red,n.red,l),r.green=bt(i.green,n.green,l),r.blue=bt(i.blue,n.blue,l),r.alpha=Se(i.alpha,n.alpha,l),ls.transform(r))},Ft=new Set(["none","hidden"]);function Gl(s,t){return Ft.has(s)?i=>i<=0?s:t:i=>i>=1?t:s}function $l(s,t){return i=>Se(s,t,i)}function ji(s){return typeof s=="number"?$l:typeof s=="string"?yi(s)?at:Re.test(s)?yn:Kl:Array.isArray(s)?na:typeof s=="object"?Re.test(s)?yn:Ul:at}function na(s,t){const i=[...s],n=i.length,r=s.map((l,a)=>ji(l)(l,t[a]));return l=>{for(let a=0;a<n;a++)i[a]=r[a](l);return i}}function Ul(s,t){const i={...s,...t},n={};for(const r in i)s[r]!==void 0&&t[r]!==void 0&&(n[r]=ji(s[r])(s[r],t[r]));return r=>{for(const l in n)i[l]=n[l](r);return i}}function Yl(s,t){const i=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const l=t.types[r],a=s.indexes[l][n[l]],c=s.values[a]??0;i[r]=c,n[l]++}return i}const Kl=(s,t)=>{const i=ts.createTransformer(t),n=_s(s),r=_s(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Ft.has(s)&&!r.values.length||Ft.has(t)&&!n.values.length?Gl(s,t):Vs(na(Yl(n,r),r.values),i):at(s,t)};function ra(s,t,i){return typeof s=="number"&&typeof t=="number"&&typeof i=="number"?Se(s,t,i):ji(s)(s,t)}const Ql=s=>{const t=({timestamp:i})=>s(i);return{start:(i=!0)=>Ne.update(t,i),stop:()=>ss(t),now:()=>Ee.isProcessing?Ee.timestamp:Fe.now()}},aa=(s,t,i=10)=>{let n="";const r=Math.max(Math.round(t/i),2);for(let l=0;l<r;l++)n+=Math.round(s(l/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ot=2e4;function Ni(s){let t=0;const i=50;let n=s.next(t);for(;!n.done&&t<ot;)t+=i,n=s.next(t);return t>=ot?1/0:t}function Xl(s,t=100,i){const n=i({...s,keyframes:[0,t]}),r=Math.min(Ni(n),ot);return{type:"keyframes",ease:l=>n.next(r*l).value/t,duration:Ge(r)}}const Jl=5;function oa(s,t,i){const n=Math.max(t-Jl,0);return Ir(i-s(n),t-n)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vt=.001;function Zl({duration:s=Ce.duration,bounce:t=Ce.bounce,velocity:i=Ce.velocity,mass:n=Ce.mass}){let r,l,a=1-t;a=Ue(Ce.minDamping,Ce.maxDamping,a),s=Ue(Ce.minDuration,Ce.maxDuration,Ge(s)),a<1?(r=h=>{const m=h*a,u=m*s,b=m-i,C=Dt(h,a),A=Math.exp(-u);return vt-b/C*A},l=h=>{const u=h*a*s,b=u*i+i,C=Math.pow(a,2)*Math.pow(h,2)*s,A=Math.exp(-u),q=Dt(Math.pow(h,2),a);return(-r(h)+vt>0?-1:1)*((b-C)*A)/q}):(r=h=>{const m=Math.exp(-h*s),u=(h-i)*s+1;return-vt+m*u},l=h=>{const m=Math.exp(-h*s),u=(i-h)*(s*s);return m*u});const c=5/s,o=sc(r,l,c);if(s=We(s),isNaN(o))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:s};{const h=Math.pow(o,2)*n;return{stiffness:h,damping:a*2*Math.sqrt(n*h),duration:s}}}const ec=12;function sc(s,t,i){let n=i;for(let r=1;r<ec;r++)n=n-s(n)/t(n);return n}function Dt(s,t){return s*Math.sqrt(1-t*t)}const tc=["duration","bounce"],ic=["stiffness","damping","mass"];function bn(s,t){return t.some(i=>s[i]!==void 0)}function nc(s){let t={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...s};if(!bn(s,ic)&&bn(s,tc))if(s.visualDuration){const i=s.visualDuration,n=2*Math.PI/(i*1.2),r=n*n,l=2*Ue(.05,1,1-(s.bounce||0))*Math.sqrt(r);t={...t,mass:Ce.mass,stiffness:r,damping:l}}else{const i=Zl(s);t={...t,...i,mass:Ce.mass},t.isResolvedFromDuration=!0}return t}function lt(s=Ce.visualDuration,t=Ce.bounce){const i=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:n,restDelta:r}=i;const l=i.keyframes[0],a=i.keyframes[i.keyframes.length-1],c={done:!1,value:l},{stiffness:o,damping:h,mass:m,duration:u,velocity:b,isResolvedFromDuration:C}=nc({...i,velocity:-Ge(i.velocity||0)}),A=b||0,q=h/(2*Math.sqrt(o*m)),g=a-l,d=Ge(Math.sqrt(o/m)),x=Math.abs(g)<5;n||(n=x?Ce.restSpeed.granular:Ce.restSpeed.default),r||(r=x?Ce.restDelta.granular:Ce.restDelta.default);let f;if(q<1){const v=Dt(d,q);f=j=>{const P=Math.exp(-q*d*j);return a-P*((A+q*d*g)/v*Math.sin(v*j)+g*Math.cos(v*j))}}else if(q===1)f=v=>a-Math.exp(-d*v)*(g+(A+d*g)*v);else{const v=d*Math.sqrt(q*q-1);f=j=>{const P=Math.exp(-q*d*j),w=Math.min(v*j,300);return a-P*((A+q*d*g)*Math.sinh(w)+v*g*Math.cosh(w))/v}}const M={calculatedDuration:C&&u||null,next:v=>{const j=f(v);if(C)c.done=v>=u;else{let P=v===0?A:0;q<1&&(P=v===0?We(A):oa(f,v,j));const w=Math.abs(P)<=n,T=Math.abs(a-j)<=r;c.done=w&&T}return c.value=c.done?a:j,c},toString:()=>{const v=Math.min(Ni(M),ot),j=aa(P=>M.next(v*P).value,v,30);return v+"ms "+j},toTransition:()=>{}};return M}lt.applyToOptions=s=>{const t=Xl(s,100,lt);return s.ease=t.ease,s.duration=We(t.duration),s.type="keyframes",s};function Bt({keyframes:s,velocity:t=0,power:i=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:a,min:c,max:o,restDelta:h=.5,restSpeed:m}){const u=s[0],b={done:!1,value:u},C=w=>c!==void 0&&w<c||o!==void 0&&w>o,A=w=>c===void 0?o:o===void 0||Math.abs(c-w)<Math.abs(o-w)?c:o;let q=i*t;const g=u+q,d=a===void 0?g:a(g);d!==g&&(q=d-u);const x=w=>-q*Math.exp(-w/n),f=w=>d+x(w),M=w=>{const T=x(w),p=f(w);b.done=Math.abs(T)<=h,b.value=b.done?d:p};let v,j;const P=w=>{C(b.value)&&(v=w,j=lt({keyframes:[b.value,A(b.value)],velocity:oa(f,w,b.value),damping:r,stiffness:l,restDelta:h,restSpeed:m}))};return P(0),{calculatedDuration:null,next:w=>{let T=!1;return!j&&v===void 0&&(T=!0,M(w),P(w)),v!==void 0&&w>=v?j.next(w-v):(!T&&M(w),b)}}}function rc(s,t,i){const n=[],r=i||Ye.mix||ra,l=s.length-1;for(let a=0;a<l;a++){let c=r(s[a],s[a+1]);if(t){const o=Array.isArray(t)?t[a]||He:t;c=Vs(o,c)}n.push(c)}return n}function ac(s,t,{clamp:i=!0,ease:n,mixer:r}={}){const l=s.length;if(hi(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const a=s[0]===s[1];s[0]>s[l-1]&&(s=[...s].reverse(),t=[...t].reverse());const c=rc(t,n,r),o=c.length,h=m=>{if(a&&m<s[0])return t[0];let u=0;if(o>1)for(;u<s.length-2&&!(m<s[u+1]);u++);const b=As(s[u],s[u+1],m);return c[u](b)};return i?m=>h(Ue(s[0],s[l-1],m)):h}function oc(s,t){const i=s[s.length-1];for(let n=1;n<=t;n++){const r=As(0,t,n);s.push(Se(i,1,r))}}function lc(s){const t=[0];return oc(t,s.length-1),t}function cc(s,t){return s.map(i=>i*t)}function dc(s,t){return s.map(()=>t||Kr).splice(0,s.length-1)}function Ps({duration:s=300,keyframes:t,times:i,ease:n="easeInOut"}){const r=jl(n)?n.map(pn):pn(n),l={done:!1,value:t[0]},a=cc(i&&i.length===t.length?i:lc(t),s),c=ac(a,t,{ease:Array.isArray(r)?r:dc(t,r)});return{calculatedDuration:s,next:o=>(l.value=c(o),l.done=o>=s,l)}}const mc=s=>s!==null;function wi(s,{repeat:t,repeatType:i="loop"},n,r=1){const l=s.filter(mc),c=r<0||t&&i!=="loop"&&t%2===1?0:l.length-1;return!c||n===void 0?l[c]:n}const hc={decay:Bt,inertia:Bt,tween:Ps,keyframes:Ps,spring:lt};function la(s){typeof s.type=="string"&&(s.type=hc[s.type])}class Si{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const uc=s=>s/100;class ki extends Si{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:i}=this.options;i&&i.updatedAt!==Fe.now()&&this.tick(Fe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;la(t);const{type:i=Ps,repeat:n=0,repeatDelay:r=0,repeatType:l,velocity:a=0}=t;let{keyframes:c}=t;const o=i||Ps;o!==Ps&&typeof c[0]!="number"&&(this.mixKeyframes=Vs(uc,ra(c[0],c[1])),c=[0,100]);const h=o({...t,keyframes:c});l==="mirror"&&(this.mirroredGenerator=o({...t,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=Ni(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=h}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:n,totalDuration:r,mixKeyframes:l,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:o}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:u,repeatType:b,repeatDelay:C,type:A,onUpdate:q,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const d=this.currentTime-h*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?d<0:d>r;this.currentTime=Math.max(d,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let f=this.currentTime,M=n;if(u){const w=Math.min(this.currentTime,r)/c;let T=Math.floor(w),p=w%1;!p&&w>=1&&(p=1),p===1&&T--,T=Math.min(T,u+1),!!(T%2)&&(b==="reverse"?(p=1-p,C&&(p-=C/c)):b==="mirror"&&(M=a)),f=Ue(0,1,p)*c}const v=x?{done:!1,value:m[0]}:M.next(f);l&&(v.value=l(v.value));let{done:j}=v;!x&&o!==null&&(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return P&&A!==Bt&&(v.value=wi(m,this.options,g,this.speed)),q&&q(v.value),P&&this.finish(),v}then(t,i){return this.finished.then(t,i)}get duration(){return Ge(this.calculatedDuration)}get time(){return Ge(this.currentTime)}set time(t){var i;t=We(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fe.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Ge(this.currentTime))}play(){var r,l;if(this.isStopped)return;const{driver:t=Ql,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(l=(r=this.options).onPlay)==null||l.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=i??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function pc(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const cs=s=>s*180/Math.PI,It=s=>{const t=cs(Math.atan2(s[1],s[0]));return Vt(t)},xc={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:It,rotateZ:It,skewX:s=>cs(Math.atan(s[1])),skewY:s=>cs(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},Vt=s=>(s=s%360,s<0&&(s+=360),s),vn=It,jn=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),Nn=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),gc={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jn,scaleY:Nn,scale:s=>(jn(s)+Nn(s))/2,rotateX:s=>Vt(cs(Math.atan2(s[6],s[5]))),rotateY:s=>Vt(cs(Math.atan2(-s[2],s[0]))),rotateZ:vn,rotate:vn,skewX:s=>cs(Math.atan(s[4])),skewY:s=>cs(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function Ht(s){return s.includes("scale")?1:0}function zt(s,t){if(!s||s==="none")return Ht(t);const i=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(i)n=gc,r=i;else{const c=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=xc,r=c}if(!r)return Ht(t);const l=n[t],a=r[1].split(",").map(yc);return typeof l=="function"?l(a):a[l]}const fc=(s,t)=>{const{transform:i="none"}=getComputedStyle(s);return zt(i,t)};function yc(s){return parseFloat(s.trim())}const Ns=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ws=new Set(Ns),wn=s=>s===js||s===ce,bc=new Set(["x","y","z"]),vc=Ns.filter(s=>!bc.has(s));function jc(s){const t=[];return vc.forEach(i=>{const n=s.getValue(i);n!==void 0&&(t.push([i,n.get()]),n.set(i.startsWith("scale")?1:0))}),t}const ds={width:({x:s},{paddingLeft:t="0",paddingRight:i="0"})=>s.max-s.min-parseFloat(t)-parseFloat(i),height:({y:s},{paddingTop:t="0",paddingBottom:i="0"})=>s.max-s.min-parseFloat(t)-parseFloat(i),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>zt(t,"x"),y:(s,{transform:t})=>zt(t,"y")};ds.translateX=ds.x;ds.translateY=ds.y;const ms=new Set;let Wt=!1,Gt=!1,$t=!1;function ca(){if(Gt){const s=Array.from(ms).filter(n=>n.needsMeasurement),t=new Set(s.map(n=>n.element)),i=new Map;t.forEach(n=>{const r=jc(n);r.length&&(i.set(n,r),n.render())}),s.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=i.get(n);r&&r.forEach(([l,a])=>{var c;(c=n.getValue(l))==null||c.set(a)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Gt=!1,Wt=!1,ms.forEach(s=>s.complete($t)),ms.clear()}function da(){ms.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Gt=!0)})}function Nc(){$t=!0,da(),ca(),$t=!1}class Ci{constructor(t,i,n,r,l,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=n,this.motionValue=r,this.element=l,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ms.add(this),Wt||(Wt=!0,Ne.read(da),Ne.resolveKeyframes(ca))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:n,motionValue:r}=this;if(t[0]===null){const l=r==null?void 0:r.get(),a=t[t.length-1];if(l!==void 0)t[0]=l;else if(n&&i){const c=n.readValue(i,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),r&&l===void 0&&r.set(t[0])}pc(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ms.delete(this)}cancel(){this.state==="scheduled"&&(ms.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wc=s=>s.startsWith("--");function Sc(s,t,i){wc(t)?s.style.setProperty(t,i):s.style[t]=i}const kc=ui(()=>window.ScrollTimeline!==void 0),Cc={};function Pc(s,t){const i=ui(s);return()=>Cc[t]??i()}const ma=Pc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ks=([s,t,i,n])=>`cubic-bezier(${s}, ${t}, ${i}, ${n})`,Sn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ks([0,.65,.55,1]),circOut:ks([.55,0,1,.45]),backIn:ks([.31,.01,.66,-.59]),backOut:ks([.33,1.53,.69,.99])};function ha(s,t){if(s)return typeof s=="function"?ma()?aa(s,t):"ease-out":Qr(s)?ks(s):Array.isArray(s)?s.map(i=>ha(i,t)||Sn.easeOut):Sn[s]}function Rc(s,t,i,{delay:n=0,duration:r=300,repeat:l=0,repeatType:a="loop",ease:c="easeOut",times:o}={},h=void 0){const m={[t]:i};o&&(m.offset=o);const u=ha(c,r);Array.isArray(u)&&(m.easing=u);const b={delay:n,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:l+1,direction:a==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),s.animate(m,b)}function ua(s){return typeof s=="function"&&"applyToOptions"in s}function Mc({type:s,...t}){return ua(s)&&ma()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Tc extends Si{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:n,keyframes:r,pseudoElement:l,allowFlatten:a=!1,finalKeyframe:c,onComplete:o}=t;this.isPseudoElement=!!l,this.allowFlatten=a,this.options=t,hi(typeof t.type!="string");const h=Mc(t);this.animation=Rc(i,n,r,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=wi(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):Sc(i,n,m),this.animation.cancel()}o==null||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,n;const t=((n=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:n.call(i).duration)||0;return Ge(Number(t))}get time(){return Ge(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=We(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&kc()?(this.animation.timeline=t,He):i(this)}}const pa={anticipate:$r,backInOut:Gr,circInOut:Yr};function Ac(s){return s in pa}function Ec(s){typeof s.ease=="string"&&Ac(s.ease)&&(s.ease=pa[s.ease])}const kn=10;class _c extends Tc{constructor(t){Ec(t),la(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:n,onComplete:r,element:l,...a}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const c=new ki({...a,autoplay:!1}),o=We(this.finishedTime??this.time);i.setWithVelocity(c.sample(o-kn).value,c.sample(o).value,kn),c.stop()}}const Cn=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(ts.test(s)||s==="0")&&!s.startsWith("url("));function qc(s){const t=s[0];if(s.length===1)return!0;for(let i=0;i<s.length;i++)if(s[i]!==t)return!0}function Lc(s,t,i,n){const r=s[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const l=s[s.length-1],a=Cn(r,t),c=Cn(l,t);return!a||!c?!1:qc(s)||(i==="spring"||ua(i))&&n}function Ut(s){s.duration=0,s.type}const Oc=new Set(["opacity","clipPath","filter","transform"]),Fc=ui(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Dc(s){var m;const{motionValue:t,name:i,repeatDelay:n,repeatType:r,damping:l,type:a}=s;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:h}=t.owner.getProps();return Fc()&&i&&Oc.has(i)&&(i!=="transform"||!h)&&!o&&!n&&r!=="mirror"&&l!==0&&a!=="inertia"}const Bc=40;class Ic extends Si{constructor({autoplay:t=!0,delay:i=0,type:n="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:a="loop",keyframes:c,name:o,motionValue:h,element:m,...u}){var A;super(),this.stop=()=>{var q,g;this._animation&&(this._animation.stop(),(q=this.stopTimeline)==null||q.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Fe.now();const b={autoplay:t,delay:i,type:n,repeat:r,repeatDelay:l,repeatType:a,name:o,motionValue:h,element:m,...u},C=(m==null?void 0:m.KeyframeResolver)||Ci;this.keyframeResolver=new C(c,(q,g,d)=>this.onKeyframesResolved(q,g,b,!d),o,h,m),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(t,i,n,r){this.keyframeResolver=void 0;const{name:l,type:a,velocity:c,delay:o,isHandoff:h,onUpdate:m}=n;this.resolvedAt=Fe.now(),Lc(t,l,a,c)||((Ye.instantAnimations||!o)&&(m==null||m(wi(t,n,i))),t[0]=t[t.length-1],Ut(n),n.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Bc?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...n,keyframes:t},C=!h&&Dc(b)?new _c({...b,element:b.motionValue.owner.current}):new ki(b);C.finished.then(()=>this.notifyFinished()).catch(He),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Nc()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Vc=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hc(s){const t=Vc.exec(s);if(!t)return[,];const[,i,n,r]=t;return[`--${i??n}`,r]}function xa(s,t,i=1){const[n,r]=Hc(s);if(!n)return;const l=window.getComputedStyle(t).getPropertyValue(n);if(l){const a=l.trim();return Fr(a)?parseFloat(a):a}return yi(r)?xa(r,t,i+1):r}function Pi(s,t){return(s==null?void 0:s[t])??(s==null?void 0:s.default)??s}const ga=new Set(["width","height","top","left","right","bottom",...Ns]),zc={test:s=>s==="auto",parse:s=>s},fa=s=>t=>t.test(s),ya=[js,ce,$e,Xe,ql,_l,zc],Pn=s=>ya.find(fa(s));function Wc(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||Br(s):!0}const Gc=new Set(["brightness","contrast","saturate","opacity"]);function $c(s){const[t,i]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[n]=i.match(bi)||[];if(!n)return s;const r=i.replace(n,"");let l=Gc.has(t)?1:0;return n!==i&&(l*=100),t+"("+l+r+")"}const Uc=/\b([a-z-]*)\(.*?\)/gu,Yt={...ts,getAnimatableNone:s=>{const t=s.match(Uc);return t?t.map($c).join(" "):s}},Rn={...js,transform:Math.round},Yc={rotate:Xe,rotateX:Xe,rotateY:Xe,rotateZ:Xe,scale:Qs,scaleX:Qs,scaleY:Qs,scaleZ:Qs,skew:Xe,skewX:Xe,skewY:Xe,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:Es,originX:xn,originY:xn,originZ:ce},Ri={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...Yc,zIndex:Rn,fillOpacity:Es,strokeOpacity:Es,numOctaves:Rn},Kc={...Ri,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:Yt,WebkitFilter:Yt},ba=s=>Kc[s];function va(s,t){let i=ba(s);return i!==Yt&&(i=ts),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const Qc=new Set(["auto","none","0"]);function Xc(s,t,i){let n=0,r;for(;n<s.length&&!r;){const l=s[n];typeof l=="string"&&!Qc.has(l)&&_s(l).values.length&&(r=s[n]),n++}if(r&&i)for(const l of t)s[l]=va(i,r)}class Jc extends Ci{constructor(t,i,n,r,l){super(t,i,n,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:n}=this;if(!i||!i.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let h=t[o];if(typeof h=="string"&&(h=h.trim(),yi(h))){const m=xa(h,i.current);m!==void 0&&(t[o]=m),o===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!ga.has(n)||t.length!==2)return;const[r,l]=t,a=Pn(r),c=Pn(l);if(a!==c)if(wn(a)&&wn(c))for(let o=0;o<t.length;o++){const h=t[o];typeof h=="string"&&(t[o]=parseFloat(h))}else ds[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||Wc(t[r]))&&n.push(r);n.length&&Xc(t,n,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[n](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){var c;const{element:t,name:i,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(i);r&&r.jump(this.measuredOrigin,!1);const l=n.length-1,a=n[l];n[l]=ds[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([o,h])=>{t.getValue(o).set(h)}),this.resolveNoneKeyframes()}}function Zc(s,t,i){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let n=document;const r=(i==null?void 0:i[s])??n.querySelectorAll(s);return r?Array.from(r):[]}return Array.from(s)}const ja=(s,t)=>t&&typeof s=="number"?t.transform(s):s;function Na(s){return Dr(s)&&"offsetHeight"in s}const Mn=30,ed=s=>!isNaN(parseFloat(s));class sd{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var l;const r=Fe.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Fe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ed(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new pi);const n=this.events[t].add(i);return t==="change"?()=>{n(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,n){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Mn)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Mn);return Ir(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bs(s,t){return new sd(s,t)}const{schedule:Mi}=Xr(queueMicrotask,!1),ze={x:!1,y:!1};function wa(){return ze.x||ze.y}function td(s){return s==="x"||s==="y"?ze[s]?null:(ze[s]=!0,()=>{ze[s]=!1}):ze.x||ze.y?null:(ze.x=ze.y=!0,()=>{ze.x=ze.y=!1})}function Sa(s,t){const i=Zc(s),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[i,r,()=>n.abort()]}function Tn(s){return!(s.pointerType==="touch"||wa())}function id(s,t,i={}){const[n,r,l]=Sa(s,i),a=c=>{if(!Tn(c))return;const{target:o}=c,h=t(o,c);if(typeof h!="function"||!o)return;const m=u=>{Tn(u)&&(h(u),o.removeEventListener("pointerleave",m))};o.addEventListener("pointerleave",m,r)};return n.forEach(c=>{c.addEventListener("pointerenter",a,r)}),l}const ka=(s,t)=>t?s===t?!0:ka(s,t.parentElement):!1,Ti=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,nd=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rd(s){return nd.has(s.tagName)||s.tabIndex!==-1}const st=new WeakSet;function An(s){return t=>{t.key==="Enter"&&s(t)}}function jt(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ad=(s,t)=>{const i=s.currentTarget;if(!i)return;const n=An(()=>{if(st.has(i))return;jt(i,"down");const r=An(()=>{jt(i,"up")}),l=()=>jt(i,"cancel");i.addEventListener("keyup",r,t),i.addEventListener("blur",l,t)});i.addEventListener("keydown",n,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",n),t)};function En(s){return Ti(s)&&!wa()}function od(s,t,i={}){const[n,r,l]=Sa(s,i),a=c=>{const o=c.currentTarget;if(!En(c))return;st.add(o);const h=t(o,c),m=(C,A)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",b),st.has(o)&&st.delete(o),En(C)&&typeof h=="function"&&h(C,{success:A})},u=C=>{m(C,o===window||o===document||i.useGlobalTarget||ka(o,C.target))},b=C=>{m(C,!1)};window.addEventListener("pointerup",u,r),window.addEventListener("pointercancel",b,r)};return n.forEach(c=>{(i.useGlobalTarget?window:c).addEventListener("pointerdown",a,r),Na(c)&&(c.addEventListener("focus",h=>ad(h,r)),!rd(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function Ca(s){return Dr(s)&&"ownerSVGElement"in s}function ld(s){return Ca(s)&&s.tagName==="svg"}const qe=s=>!!(s&&s.getVelocity),cd=[...ya,Re,ts],dd=s=>cd.find(fa(s)),Ai=k.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class md extends k.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const n=i.offsetParent,r=Na(n)&&n.offsetWidth||0,l=this.props.sizeRef.current;l.height=i.offsetHeight||0,l.width=i.offsetWidth||0,l.top=i.offsetTop,l.left=i.offsetLeft,l.right=r-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hd({children:s,isPresent:t,anchorX:i,root:n}){const r=k.useId(),l=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=k.useContext(Ai);return k.useInsertionEffect(()=>{const{width:o,height:h,top:m,left:u,right:b}=a.current;if(t||!l.current||!o||!h)return;const C=i==="left"?`left: ${u}`:`right: ${b}`;l.current.dataset.motionPopId=r;const A=document.createElement("style");c&&(A.nonce=c);const q=n??document.head;return q.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${h}px !important;
            ${C}px !important;
            top: ${m}px !important;
          }
        `),()=>{q.contains(A)&&q.removeChild(A)}},[t]),e.jsx(md,{isPresent:t,childRef:l,sizeRef:a,children:k.cloneElement(s,{ref:l})})}const ud=({children:s,initial:t,isPresent:i,onExitComplete:n,custom:r,presenceAffectsLayout:l,mode:a,anchorX:c,root:o})=>{const h=li(pd),m=k.useId();let u=!0,b=k.useMemo(()=>(u=!1,{id:m,initial:t,isPresent:i,custom:r,onExitComplete:C=>{h.set(C,!0);for(const A of h.values())if(!A)return;n&&n()},register:C=>(h.set(C,!1),()=>h.delete(C))}),[i,h,n]);return l&&u&&(b={...b}),k.useMemo(()=>{h.forEach((C,A)=>h.set(A,!1))},[i]),k.useEffect(()=>{!i&&!h.size&&n&&n()},[i]),a==="popLayout"&&(s=e.jsx(hd,{isPresent:i,anchorX:c,root:o,children:s})),e.jsx(mt.Provider,{value:b,children:s})};function pd(){return new Map}function Pa(s=!0){const t=k.useContext(mt);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:n,register:r}=t,l=k.useId();k.useEffect(()=>{if(s)return r(l)},[s]);const a=k.useCallback(()=>s&&n&&n(l),[l,n,s]);return!i&&n?[!1,a]:[!0]}const Xs=s=>s.key||"";function _n(s){const t=[];return k.Children.forEach(s,i=>{k.isValidElement(i)&&t.push(i)}),t}const hs=({children:s,custom:t,initial:i=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:l="sync",propagate:a=!1,anchorX:c="left",root:o})=>{const[h,m]=Pa(a),u=k.useMemo(()=>_n(s),[s]),b=a&&!h?[]:u.map(Xs),C=k.useRef(!0),A=k.useRef(u),q=li(()=>new Map),[g,d]=k.useState(u),[x,f]=k.useState(u);Or(()=>{C.current=!1,A.current=u;for(let j=0;j<x.length;j++){const P=Xs(x[j]);b.includes(P)?q.delete(P):q.get(P)!==!0&&q.set(P,!1)}},[x,b.length,b.join("-")]);const M=[];if(u!==g){let j=[...u];for(let P=0;P<x.length;P++){const w=x[P],T=Xs(w);b.includes(T)||(j.splice(P,0,w),M.push(w))}return l==="wait"&&M.length&&(j=M),f(_n(j)),d(u),null}const{forceRender:v}=k.useContext(oi);return e.jsx(e.Fragment,{children:x.map(j=>{const P=Xs(j),w=a&&!h?!1:u===x||b.includes(P),T=()=>{if(q.has(P))q.set(P,!0);else return;let p=!0;q.forEach(R=>{R||(p=!1)}),p&&(v==null||v(),f(A.current),a&&(m==null||m()),n&&n())};return e.jsx(ud,{isPresent:w,initial:!C.current||i?void 0:!1,custom:t,presenceAffectsLayout:r,mode:l,root:o,onExitComplete:w?void 0:T,anchorX:c,children:j},P)})})},Ra=k.createContext({strict:!1}),qn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vs={};for(const s in qn)vs[s]={isEnabled:t=>qn[s].some(i=>!!t[i])};function xd(s){for(const t in s)vs[t]={...vs[t],...s[t]}}const gd=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ct(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||gd.has(s)}let Ma=s=>!ct(s);function fd(s){typeof s=="function"&&(Ma=t=>t.startsWith("on")?!ct(t):s(t))}try{fd(require("@emotion/is-prop-valid").default)}catch{}function yd(s,t,i){const n={};for(const r in s)r==="values"&&typeof s.values=="object"||(Ma(r)||i===!0&&ct(r)||!t&&!ct(r)||s.draggable&&r.startsWith("onDrag"))&&(n[r]=s[r]);return n}const ht=k.createContext({});function ut(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function qs(s){return typeof s=="string"||Array.isArray(s)}const Ei=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_i=["initial",...Ei];function pt(s){return ut(s.animate)||_i.some(t=>qs(s[t]))}function Ta(s){return!!(pt(s)||s.variants)}function bd(s,t){if(pt(s)){const{initial:i,animate:n}=s;return{initial:i===!1||qs(i)?i:void 0,animate:qs(n)?n:void 0}}return s.inherit!==!1?t:{}}function vd(s){const{initial:t,animate:i}=bd(s,k.useContext(ht));return k.useMemo(()=>({initial:t,animate:i}),[Ln(t),Ln(i)])}function Ln(s){return Array.isArray(s)?s.join(" "):s}const Ls={};function jd(s){for(const t in s)Ls[t]=s[t],fi(t)&&(Ls[t].isCSSVariable=!0)}function Aa(s,{layout:t,layoutId:i}){return ws.has(s)||s.startsWith("origin")||(t||i!==void 0)&&(!!Ls[s]||s==="opacity")}const Nd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wd=Ns.length;function Sd(s,t,i){let n="",r=!0;for(let l=0;l<wd;l++){const a=Ns[l],c=s[a];if(c===void 0)continue;let o=!0;if(typeof c=="number"?o=c===(a.startsWith("scale")?1:0):o=parseFloat(c)===0,!o||i){const h=ja(c,Ri[a]);if(!o){r=!1;const m=Nd[a]||a;n+=`${m}(${h}) `}i&&(t[a]=h)}}return n=n.trim(),i?n=i(t,r?"":n):r&&(n="none"),n}function qi(s,t,i){const{style:n,vars:r,transformOrigin:l}=s;let a=!1,c=!1;for(const o in t){const h=t[o];if(ws.has(o)){a=!0;continue}else if(fi(o)){r[o]=h;continue}else{const m=ja(h,Ri[o]);o.startsWith("origin")?(c=!0,l[o]=m):n[o]=m}}if(t.transform||(a||i?n.transform=Sd(t,s.transform,i):n.transform&&(n.transform="none")),c){const{originX:o="50%",originY:h="50%",originZ:m=0}=l;n.transformOrigin=`${o} ${h} ${m}`}}const Li=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ea(s,t,i){for(const n in t)!qe(t[n])&&!Aa(n,i)&&(s[n]=t[n])}function kd({transformTemplate:s},t){return k.useMemo(()=>{const i=Li();return qi(i,t,s),Object.assign({},i.vars,i.style)},[t])}function Cd(s,t){const i=s.style||{},n={};return Ea(n,i,s),Object.assign(n,kd(s,t)),n}function Pd(s,t){const i={},n=Cd(s,t);return s.drag&&s.dragListener!==!1&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(i.tabIndex=0),i.style=n,i}const Rd={offset:"stroke-dashoffset",array:"stroke-dasharray"},Md={offset:"strokeDashoffset",array:"strokeDasharray"};function Td(s,t,i=1,n=0,r=!0){s.pathLength=1;const l=r?Rd:Md;s[l.offset]=ce.transform(-n);const a=ce.transform(t),c=ce.transform(i);s[l.array]=`${a} ${c}`}function _a(s,{attrX:t,attrY:i,attrScale:n,pathLength:r,pathSpacing:l=1,pathOffset:a=0,...c},o,h,m){if(qi(s,c,h),o){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:u,style:b}=s;u.transform&&(b.transform=u.transform,delete u.transform),(b.transform||u.transformOrigin)&&(b.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),b.transform&&(b.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete u.transformBox),t!==void 0&&(u.x=t),i!==void 0&&(u.y=i),n!==void 0&&(u.scale=n),r!==void 0&&Td(u,r,l,a,!1)}const qa=()=>({...Li(),attrs:{}}),La=s=>typeof s=="string"&&s.toLowerCase()==="svg";function Ad(s,t,i,n){const r=k.useMemo(()=>{const l=qa();return _a(l,t,La(n),s.transformTemplate,s.style),{...l.attrs,style:{...l.style}}},[t]);if(s.style){const l={};Ea(l,s.style,s),r.style={...l,...r.style}}return r}const Ed=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Oi(s){return typeof s!="string"||s.includes("-")?!1:!!(Ed.indexOf(s)>-1||/[A-Z]/u.test(s))}function _d(s,t,i,{latestValues:n},r,l=!1){const c=(Oi(s)?Ad:Pd)(t,n,r,s),o=yd(t,typeof s=="string",l),h=s!==k.Fragment?{...o,...c,ref:i}:{},{children:m}=t,u=k.useMemo(()=>qe(m)?m.get():m,[m]);return k.createElement(s,{...h,children:u})}function On(s){const t=[{},{}];return s==null||s.values.forEach((i,n)=>{t[0][n]=i.get(),t[1][n]=i.getVelocity()}),t}function Fi(s,t,i,n){if(typeof t=="function"){const[r,l]=On(n);t=t(i!==void 0?i:s.custom,r,l)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[r,l]=On(n);t=t(i!==void 0?i:s.custom,r,l)}return t}function tt(s){return qe(s)?s.get():s}function qd({scrapeMotionValuesFromProps:s,createRenderState:t},i,n,r){return{latestValues:Ld(i,n,r,s),renderState:t()}}function Ld(s,t,i,n){const r={},l=n(s,{});for(const b in l)r[b]=tt(l[b]);let{initial:a,animate:c}=s;const o=pt(s),h=Ta(s);t&&h&&!o&&s.inherit!==!1&&(a===void 0&&(a=t.initial),c===void 0&&(c=t.animate));let m=i?i.initial===!1:!1;m=m||a===!1;const u=m?c:a;if(u&&typeof u!="boolean"&&!ut(u)){const b=Array.isArray(u)?u:[u];for(let C=0;C<b.length;C++){const A=Fi(s,b[C]);if(A){const{transitionEnd:q,transition:g,...d}=A;for(const x in d){let f=d[x];if(Array.isArray(f)){const M=m?f.length-1:0;f=f[M]}f!==null&&(r[x]=f)}for(const x in q)r[x]=q[x]}}}return r}const Oa=s=>(t,i)=>{const n=k.useContext(ht),r=k.useContext(mt),l=()=>qd(s,t,n,r);return i?l():li(l)};function Di(s,t,i){var l;const{style:n}=s,r={};for(const a in n)(qe(n[a])||t.style&&qe(t.style[a])||Aa(a,s)||((l=i==null?void 0:i.getValue(a))==null?void 0:l.liveStyle)!==void 0)&&(r[a]=n[a]);return r}const Od=Oa({scrapeMotionValuesFromProps:Di,createRenderState:Li});function Fa(s,t,i){const n=Di(s,t,i);for(const r in s)if(qe(s[r])||qe(t[r])){const l=Ns.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[l]=s[r]}return n}const Fd=Oa({scrapeMotionValuesFromProps:Fa,createRenderState:qa}),Dd=Symbol.for("motionComponentSymbol");function ps(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Bd(s,t,i){return k.useCallback(n=>{n&&s.onMount&&s.onMount(n),t&&(n?t.mount(n):t.unmount()),i&&(typeof i=="function"?i(n):ps(i)&&(i.current=n))},[t])}const Bi=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Id="framerAppearId",Da="data-"+Bi(Id),Ba=k.createContext({});function Vd(s,t,i,n,r){var q,g;const{visualElement:l}=k.useContext(ht),a=k.useContext(Ra),c=k.useContext(mt),o=k.useContext(Ai).reducedMotion,h=k.useRef(null);n=n||a.renderer,!h.current&&n&&(h.current=n(s,{visualState:t,parent:l,props:i,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:o}));const m=h.current,u=k.useContext(Ba);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&Hd(h.current,i,r,u);const b=k.useRef(!1);k.useInsertionEffect(()=>{m&&b.current&&m.update(i,c)});const C=i[Da],A=k.useRef(!!C&&!((q=window.MotionHandoffIsComplete)!=null&&q.call(window,C))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,C)));return Or(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),A.current&&m.animationState&&m.animationState.animateChanges())}),k.useEffect(()=>{m&&(!A.current&&m.animationState&&m.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var d;(d=window.MotionHandoffMarkAsComplete)==null||d.call(window,C)}),A.current=!1),m.enteringChildren=void 0)}),m}function Hd(s,t,i,n){const{layoutId:r,layout:l,drag:a,dragConstraints:c,layoutScroll:o,layoutRoot:h,layoutCrossfade:m}=t;s.projection=new i(s.latestValues,t["data-framer-portal-id"]?void 0:Ia(s.parent)),s.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!a||c&&ps(c),visualElement:s,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:o,layoutRoot:h})}function Ia(s){if(s)return s.options.allowProjection!==!1?s.projection:Ia(s.parent)}function Nt(s,{forwardMotionProps:t=!1}={},i,n){i&&xd(i);const r=Oi(s)?Fd:Od;function l(c,o){let h;const m={...k.useContext(Ai),...c,layoutId:zd(c)},{isStatic:u}=m,b=vd(c),C=r(c,u);if(!u&&ci){Wd();const A=Gd(m);h=A.MeasureLayout,b.visualElement=Vd(s,C,m,n,A.ProjectionNode)}return e.jsxs(ht.Provider,{value:b,children:[h&&b.visualElement?e.jsx(h,{visualElement:b.visualElement,...m}):null,_d(s,c,Bd(C,b.visualElement,o),C,u,t)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=k.forwardRef(l);return a[Dd]=s,a}function zd({layoutId:s}){const t=k.useContext(oi).id;return t&&s!==void 0?t+"-"+s:s}function Wd(s,t){k.useContext(Ra).strict}function Gd(s){const{drag:t,layout:i}=vs;if(!t&&!i)return{};const n={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(s)||i!=null&&i.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function $d(s,t){if(typeof Proxy>"u")return Nt;const i=new Map,n=(l,a)=>Nt(l,a,s,t),r=(l,a)=>n(l,a);return new Proxy(r,{get:(l,a)=>a==="create"?n:(i.has(a)||i.set(a,Nt(a,void 0,s,t)),i.get(a))})}function Va({top:s,left:t,right:i,bottom:n}){return{x:{min:t,max:i},y:{min:s,max:n}}}function Ud({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function Yd(s,t){if(!t)return s;const i=t({x:s.left,y:s.top}),n=t({x:s.right,y:s.bottom});return{top:i.y,left:i.x,bottom:n.y,right:n.x}}function wt(s){return s===void 0||s===1}function Kt({scale:s,scaleX:t,scaleY:i}){return!wt(s)||!wt(t)||!wt(i)}function os(s){return Kt(s)||Ha(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function Ha(s){return Fn(s.x)||Fn(s.y)}function Fn(s){return s&&s!=="0%"}function dt(s,t,i){const n=s-i,r=t*n;return i+r}function Dn(s,t,i,n,r){return r!==void 0&&(s=dt(s,r,n)),dt(s,i,n)+t}function Qt(s,t=0,i=1,n,r){s.min=Dn(s.min,t,i,n,r),s.max=Dn(s.max,t,i,n,r)}function za(s,{x:t,y:i}){Qt(s.x,t.translate,t.scale,t.originPoint),Qt(s.y,i.translate,i.scale,i.originPoint)}const Bn=.999999999999,In=1.0000000000001;function Kd(s,t,i,n=!1){const r=i.length;if(!r)return;t.x=t.y=1;let l,a;for(let c=0;c<r;c++){l=i[c],a=l.projectionDelta;const{visualElement:o}=l.options;o&&o.props.style&&o.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&gs(s,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,za(s,a)),n&&os(l.latestValues)&&gs(s,l.latestValues))}t.x<In&&t.x>Bn&&(t.x=1),t.y<In&&t.y>Bn&&(t.y=1)}function xs(s,t){s.min=s.min+t,s.max=s.max+t}function Vn(s,t,i,n,r=.5){const l=Se(s.min,s.max,r);Qt(s,t,i,l,n)}function gs(s,t){Vn(s.x,t.x,t.scaleX,t.scale,t.originX),Vn(s.y,t.y,t.scaleY,t.scale,t.originY)}function Wa(s,t){return Va(Yd(s.getBoundingClientRect(),t))}function Qd(s,t,i){const n=Wa(s,i),{scroll:r}=t;return r&&(xs(n.x,r.offset.x),xs(n.y,r.offset.y)),n}const Hn=()=>({translate:0,scale:1,origin:0,originPoint:0}),fs=()=>({x:Hn(),y:Hn()}),zn=()=>({min:0,max:0}),Pe=()=>({x:zn(),y:zn()}),Xt={current:null},Ga={current:!1};function Xd(){if(Ga.current=!0,!!ci)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xt.current=s.matches;s.addEventListener("change",t),t()}else Xt.current=!1}const Jd=new WeakMap;function Zd(s,t,i){for(const n in t){const r=t[n],l=i[n];if(qe(r))s.addValue(n,r);else if(qe(l))s.addValue(n,bs(r,{owner:s}));else if(l!==r)if(s.hasValue(n)){const a=s.getValue(n);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=s.getStaticValue(n);s.addValue(n,bs(a!==void 0?a:r,{owner:s}))}}for(const n in i)t[n]===void 0&&s.removeValue(n);return t}const Wn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class em{scrapeMotionValuesFromProps(t,i,n){return{}}constructor({parent:t,props:i,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:l,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ci,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Fe.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ne.render(this.render,!1,!0))};const{latestValues:o,renderState:h}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=i.initial?{...o}:{},this.renderState=h,this.parent=t,this.props=i,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=pt(i),this.isVariantNode=Ta(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...u}=this.scrapeMotionValuesFromProps(i,{},this);for(const b in u){const C=u[b];o[b]!==void 0&&qe(C)&&C.set(o[b])}}mount(t){var i;this.current=t,Jd.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ga.current||Xd(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xt.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const n=this.features[i];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ws.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{r(),l&&l(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in vs){const i=vs[t];if(!i)continue;const{isEnabled:n,Feature:r}=i;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let n=0;n<Wn.length;n++){const r=Wn[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,a=t[l];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=Zd(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const n=this.values.get(t);i!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&i!==void 0&&(n=bs(i===null?void 0:i,{owner:this}),this.addValue(t,n)),n}readValue(t,i){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Fr(n)||Br(n))?n=parseFloat(n):!dd(n)&&ts.test(i)&&(n=va(t,i)),this.setBaseTarget(t,qe(n)?n.get():n)),qe(n)?n.get():n}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var l;const{initial:i}=this.props;let n;if(typeof i=="string"||typeof i=="object"){const a=Fi(this.props,i,(l=this.presenceContext)==null?void 0:l.custom);a&&(n=a[t])}if(i&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!qe(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new pi),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Mi.render(this.render)}}class $a extends em{constructor(){super(...arguments),this.KeyframeResolver=Jc}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:n}){delete i[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function Ua(s,{style:t,vars:i},n,r){const l=s.style;let a;for(a in t)l[a]=t[a];r==null||r.applyProjectionStyles(l,n);for(a in i)l.setProperty(a,i[a])}function sm(s){return window.getComputedStyle(s)}class tm extends $a{constructor(){super(...arguments),this.type="html",this.renderInstance=Ua}readValueFromInstance(t,i){var n;if(ws.has(i))return(n=this.projection)!=null&&n.isProjecting?Ht(i):fc(t,i);{const r=sm(t),l=(fi(i)?r.getPropertyValue(i):r[i])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:i}){return Wa(t,i)}build(t,i,n){qi(t,i,n.transformTemplate)}scrapeMotionValuesFromProps(t,i,n){return Di(t,i,n)}}const Ya=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function im(s,t,i,n){Ua(s,t,void 0,n);for(const r in t.attrs)s.setAttribute(Ya.has(r)?r:Bi(r),t.attrs[r])}class nm extends $a{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pe}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ws.has(i)){const n=ba(i);return n&&n.default||0}return i=Ya.has(i)?i:Bi(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,n){return Fa(t,i,n)}build(t,i,n){_a(t,i,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,i,n,r){im(t,i,n,r)}mount(t){this.isSVGTag=La(t.tagName),super.mount(t)}}const rm=(s,t)=>Oi(s)?new nm(t):new tm(t,{allowProjection:s!==k.Fragment});function ys(s,t,i){const n=s.getProps();return Fi(n,t,i!==void 0?i:n.custom,s)}const Jt=s=>Array.isArray(s);function am(s,t,i){s.hasValue(t)?s.getValue(t).set(i):s.addValue(t,bs(i))}function om(s){return Jt(s)?s[s.length-1]||0:s}function lm(s,t){const i=ys(s,t);let{transitionEnd:n={},transition:r={},...l}=i||{};l={...l,...n};for(const a in l){const c=om(l[a]);am(s,a,c)}}function cm(s){return!!(qe(s)&&s.add)}function Zt(s,t){const i=s.getValue("willChange");if(cm(i))return i.add(t);if(!i&&Ye.WillChange){const n=new Ye.WillChange("auto");s.addValue("willChange",n),n.add(t)}}function Ka(s){return s.props[Da]}const dm=s=>s!==null;function mm(s,{repeat:t,repeatType:i="loop"},n){const r=s.filter(dm),l=t&&i!=="loop"&&t%2===1?0:r.length-1;return r[l]}const hm={type:"spring",stiffness:500,damping:25,restSpeed:10},um=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),pm={type:"keyframes",duration:.8},xm={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gm=(s,{keyframes:t})=>t.length>2?pm:ws.has(s)?s.startsWith("scale")?um(t[1]):hm:xm;function fm({when:s,delay:t,delayChildren:i,staggerChildren:n,staggerDirection:r,repeat:l,repeatType:a,repeatDelay:c,from:o,elapsed:h,...m}){return!!Object.keys(m).length}const Ii=(s,t,i,n={},r,l)=>a=>{const c=Pi(n,s)||{},o=c.delay||n.delay||0;let{elapsed:h=0}=n;h=h-We(o);const m={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:b=>{t.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:s,motionValue:t,element:l?void 0:r};fm(c)||Object.assign(m,gm(s,m)),m.duration&&(m.duration=We(m.duration)),m.repeatDelay&&(m.repeatDelay=We(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let u=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Ut(m),m.delay===0&&(u=!0)),(Ye.instantAnimations||Ye.skipAnimations)&&(u=!0,Ut(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,u&&!l&&t.get()!==void 0){const b=mm(m.keyframes,c);if(b!==void 0){Ne.update(()=>{m.onUpdate(b),m.onComplete()});return}}return c.isSync?new ki(m):new Ic(m)};function ym({protectedKeys:s,needsAnimating:t},i){const n=s.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,n}function Qa(s,t,{delay:i=0,transitionOverride:n,type:r}={}){let{transition:l=s.getDefaultTransition(),transitionEnd:a,...c}=t;n&&(l=n);const o=[],h=r&&s.animationState&&s.animationState.getState()[r];for(const m in c){const u=s.getValue(m,s.latestValues[m]??null),b=c[m];if(b===void 0||h&&ym(h,m))continue;const C={delay:i,...Pi(l||{},m)},A=u.get();if(A!==void 0&&!u.isAnimating&&!Array.isArray(b)&&b===A&&!C.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const d=Ka(s);if(d){const x=window.MotionHandoffAnimation(d,m,Ne);x!==null&&(C.startTime=x,q=!0)}}Zt(s,m),u.start(Ii(m,u,b,s.shouldReduceMotion&&ga.has(m)?{type:!1}:C,s,q));const g=u.animation;g&&o.push(g)}return a&&Promise.all(o).then(()=>{Ne.update(()=>{a&&lm(s,a)})}),o}function Xa(s,t,i,n=0,r=1){const l=Array.from(s).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),a=s.size,c=(a-1)*n;return typeof i=="function"?i(l,a):r===1?l*n:c-l*n}function ei(s,t,i={}){var o;const n=ys(s,t,i.type==="exit"?(o=s.presenceContext)==null?void 0:o.custom:void 0);let{transition:r=s.getDefaultTransition()||{}}=n||{};i.transitionOverride&&(r=i.transitionOverride);const l=n?()=>Promise.all(Qa(s,n,i)):()=>Promise.resolve(),a=s.variantChildren&&s.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:u,staggerDirection:b}=r;return bm(s,t,h,m,u,b,i)}:()=>Promise.resolve(),{when:c}=r;if(c){const[h,m]=c==="beforeChildren"?[l,a]:[a,l];return h().then(()=>m())}else return Promise.all([l(),a(i.delay)])}function bm(s,t,i=0,n=0,r=0,l=1,a){const c=[];for(const o of s.variantChildren)o.notify("AnimationStart",t),c.push(ei(o,t,{...a,delay:i+(typeof n=="function"?0:n)+Xa(s.variantChildren,o,n,r,l)}).then(()=>o.notify("AnimationComplete",t)));return Promise.all(c)}function vm(s,t,i={}){s.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(l=>ei(s,l,i));n=Promise.all(r)}else if(typeof t=="string")n=ei(s,t,i);else{const r=typeof t=="function"?ys(s,t,i.custom):t;n=Promise.all(Qa(s,r,i))}return n.then(()=>{s.notify("AnimationComplete",t)})}function Ja(s,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==s.length)return!1;for(let n=0;n<i;n++)if(t[n]!==s[n])return!1;return!0}const jm=_i.length;function Za(s){if(!s)return;if(!s.isControllingVariants){const i=s.parent?Za(s.parent)||{}:{};return s.props.initial!==void 0&&(i.initial=s.props.initial),i}const t={};for(let i=0;i<jm;i++){const n=_i[i],r=s.props[n];(qs(r)||r===!1)&&(t[n]=r)}return t}const Nm=[...Ei].reverse(),wm=Ei.length;function Sm(s){return t=>Promise.all(t.map(({animation:i,options:n})=>vm(s,i,n)))}function km(s){let t=Sm(s),i=Gn(),n=!0;const r=o=>(h,m)=>{var b;const u=ys(s,m,o==="exit"?(b=s.presenceContext)==null?void 0:b.custom:void 0);if(u){const{transition:C,transitionEnd:A,...q}=u;h={...h,...q,...A}}return h};function l(o){t=o(s)}function a(o){const{props:h}=s,m=Za(s.parent)||{},u=[],b=new Set;let C={},A=1/0;for(let g=0;g<wm;g++){const d=Nm[g],x=i[d],f=h[d]!==void 0?h[d]:m[d],M=qs(f),v=d===o?x.isActive:null;v===!1&&(A=g);let j=f===m[d]&&f!==h[d]&&M;if(j&&n&&s.manuallyAnimateOnMount&&(j=!1),x.protectedKeys={...C},!x.isActive&&v===null||!f&&!x.prevProp||ut(f)||typeof f=="boolean")continue;const P=Cm(x.prevProp,f);let w=P||d===o&&x.isActive&&!j&&M||g>A&&M,T=!1;const p=Array.isArray(f)?f:[f];let R=p.reduce(r(d),{});v===!1&&(R={});const{prevResolvedValues:_={}}=x,W={..._,...R},y=L=>{w=!0,b.has(L)&&(T=!0,b.delete(L)),x.needsAnimating[L]=!0;const V=s.getValue(L);V&&(V.liveStyle=!1)};for(const L in W){const V=R[L],Z=_[L];if(C.hasOwnProperty(L))continue;let pe=!1;Jt(V)&&Jt(Z)?pe=!Ja(V,Z):pe=V!==Z,pe?V!=null?y(L):b.add(L):V!==void 0&&b.has(L)?y(L):x.protectedKeys[L]=!0}x.prevProp=f,x.prevResolvedValues=R,x.isActive&&(C={...C,...R}),n&&s.blockInitialAnimation&&(w=!1);const N=j&&P;w&&(!N||T)&&u.push(...p.map(L=>{const V={type:d};if(typeof L=="string"&&n&&!N&&s.manuallyAnimateOnMount&&s.parent){const{parent:Z}=s,pe=ys(Z,L);if(Z.enteringChildren&&pe){const{delayChildren:je}=pe.transition||{};V.delay=Xa(Z.enteringChildren,s,je)}}return{animation:L,options:V}}))}if(b.size){const g={};if(typeof h.initial!="boolean"){const d=ys(s,Array.isArray(h.initial)?h.initial[0]:h.initial);d&&d.transition&&(g.transition=d.transition)}b.forEach(d=>{const x=s.getBaseTarget(d),f=s.getValue(d);f&&(f.liveStyle=!0),g[d]=x??null}),u.push({animation:g})}let q=!!u.length;return n&&(h.initial===!1||h.initial===h.animate)&&!s.manuallyAnimateOnMount&&(q=!1),n=!1,q?t(u):Promise.resolve()}function c(o,h){var u;if(i[o].isActive===h)return Promise.resolve();(u=s.variantChildren)==null||u.forEach(b=>{var C;return(C=b.animationState)==null?void 0:C.setActive(o,h)}),i[o].isActive=h;const m=a(o);for(const b in i)i[b].protectedKeys={};return m}return{animateChanges:a,setActive:c,setAnimateFunction:l,getState:()=>i,reset:()=>{i=Gn(),n=!0}}}function Cm(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!Ja(t,s):!1}function as(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gn(){return{animate:as(!0),whileInView:as(),whileHover:as(),whileTap:as(),whileDrag:as(),whileFocus:as(),exit:as()}}class ns{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Pm extends ns{constructor(t){super(t),t.animationState||(t.animationState=km(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ut(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Rm=0;class Mm extends ns{constructor(){super(...arguments),this.id=Rm++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);i&&!t&&r.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Tm={animation:{Feature:Pm},exit:{Feature:Mm}};function Os(s,t,i,n={passive:!0}){return s.addEventListener(t,i,n),()=>s.removeEventListener(t,i)}function Ws(s){return{point:{x:s.pageX,y:s.pageY}}}const Am=s=>t=>Ti(t)&&s(t,Ws(t));function Rs(s,t,i,n){return Os(s,t,Am(i),n)}const eo=1e-4,Em=1-eo,_m=1+eo,so=.01,qm=0-so,Lm=0+so;function Oe(s){return s.max-s.min}function Om(s,t,i){return Math.abs(s-t)<=i}function $n(s,t,i,n=.5){s.origin=n,s.originPoint=Se(t.min,t.max,s.origin),s.scale=Oe(i)/Oe(t),s.translate=Se(i.min,i.max,s.origin)-s.originPoint,(s.scale>=Em&&s.scale<=_m||isNaN(s.scale))&&(s.scale=1),(s.translate>=qm&&s.translate<=Lm||isNaN(s.translate))&&(s.translate=0)}function Ms(s,t,i,n){$n(s.x,t.x,i.x,n?n.originX:void 0),$n(s.y,t.y,i.y,n?n.originY:void 0)}function Un(s,t,i){s.min=i.min+t.min,s.max=s.min+Oe(t)}function Fm(s,t,i){Un(s.x,t.x,i.x),Un(s.y,t.y,i.y)}function Yn(s,t,i){s.min=t.min-i.min,s.max=s.min+Oe(t)}function Ts(s,t,i){Yn(s.x,t.x,i.x),Yn(s.y,t.y,i.y)}function Ve(s){return[s("x"),s("y")]}const to=({current:s})=>s?s.ownerDocument.defaultView:null,Kn=(s,t)=>Math.abs(s-t);function Dm(s,t){const i=Kn(s.x,t.x),n=Kn(s.y,t.y);return Math.sqrt(i**2+n**2)}class io{constructor(t,i,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=kt(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,A=Dm(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!A)return;const{point:q}=b,{timestamp:g}=Ee;this.history.push({...q,timestamp:g});const{onStart:d,onMove:x}=this.handlers;C||(d&&d(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,b)},this.handlePointerMove=(b,C)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=St(C,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(b,C)=>{this.end();const{onEnd:A,onSessionEnd:q,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=kt(b.type==="pointercancel"?this.lastMoveEventInfo:St(C,this.transformPagePoint),this.history);this.startEvent&&A&&A(b,d),q&&q(b,d)},!Ti(t))return;this.dragSnapToOrigin=l,this.handlers=i,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const c=Ws(t),o=St(c,this.transformPagePoint),{point:h}=o,{timestamp:m}=Ee;this.history=[{...h,timestamp:m}];const{onSessionStart:u}=i;u&&u(t,kt(o,this.history)),this.removeListeners=Vs(Rs(this.contextWindow,"pointermove",this.handlePointerMove),Rs(this.contextWindow,"pointerup",this.handlePointerUp),Rs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function St(s,t){return t?{point:t(s.point)}:s}function Qn(s,t){return{x:s.x-t.x,y:s.y-t.y}}function kt({point:s},t){return{point:s,delta:Qn(s,no(t)),offset:Qn(s,Bm(t)),velocity:Im(t,.1)}}function Bm(s){return s[0]}function no(s){return s[s.length-1]}function Im(s,t){if(s.length<2)return{x:0,y:0};let i=s.length-1,n=null;const r=no(s);for(;i>=0&&(n=s[i],!(r.timestamp-n.timestamp>We(t)));)i--;if(!n)return{x:0,y:0};const l=Ge(r.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const a={x:(r.x-n.x)/l,y:(r.y-n.y)/l};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Vm(s,{min:t,max:i},n){return t!==void 0&&s<t?s=n?Se(t,s,n.min):Math.max(s,t):i!==void 0&&s>i&&(s=n?Se(i,s,n.max):Math.min(s,i)),s}function Xn(s,t,i){return{min:t!==void 0?s.min+t:void 0,max:i!==void 0?s.max+i-(s.max-s.min):void 0}}function Hm(s,{top:t,left:i,bottom:n,right:r}){return{x:Xn(s.x,i,r),y:Xn(s.y,t,n)}}function Jn(s,t){let i=t.min-s.min,n=t.max-s.max;return t.max-t.min<s.max-s.min&&([i,n]=[n,i]),{min:i,max:n}}function zm(s,t){return{x:Jn(s.x,t.x),y:Jn(s.y,t.y)}}function Wm(s,t){let i=.5;const n=Oe(s),r=Oe(t);return r>n?i=As(t.min,t.max-n,s.min):n>r&&(i=As(s.min,s.max-r,t.min)),Ue(0,1,i)}function Gm(s,t){const i={};return t.min!==void 0&&(i.min=t.min-s.min),t.max!==void 0&&(i.max=t.max-s.min),i}const si=.35;function $m(s=si){return s===!1?s=0:s===!0&&(s=si),{x:Zn(s,"left","right"),y:Zn(s,"top","bottom")}}function Zn(s,t,i){return{min:er(s,t),max:er(s,i)}}function er(s,t){return typeof s=="number"?s:s[t]||0}const Um=new WeakMap;class Ym{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=u=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Ws(u).point)},a=(u,b)=>{const{drag:C,dragPropagation:A,onDragStart:q}=this.getProps();if(C&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=td(C),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ve(d=>{let x=this.getAxisMotionValue(d).get()||0;if($e.test(x)){const{projection:f}=this.visualElement;if(f&&f.layout){const M=f.layout.layoutBox[d];M&&(x=Oe(M)*(parseFloat(x)/100))}}this.originPoint[d]=x}),q&&Ne.postRender(()=>q(u,b)),Zt(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},c=(u,b)=>{this.latestPointerEvent=u,this.latestPanInfo=b;const{dragPropagation:C,dragDirectionLock:A,onDirectionLock:q,onDrag:g}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:d}=b;if(A&&this.currentDirection===null){this.currentDirection=Km(d),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",b.point,d),this.updateAxis("y",b.point,d),this.visualElement.render(),g&&g(u,b)},o=(u,b)=>{this.latestPointerEvent=u,this.latestPanInfo=b,this.stop(u,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ve(u=>{var b;return this.getAnimationState(u)==="paused"&&((b=this.getAxisMotionValue(u).animation)==null?void 0:b.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new io(t,{onSessionStart:l,onStart:a,onMove:c,onSessionEnd:o,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:to(this.visualElement)})}stop(t,i){const n=t||this.latestPointerEvent,r=i||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Ne.postRender(()=>c(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,n){const{drag:r}=this.getProps();if(!n||!Js(t,r,this.currentDirection))return;const l=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=Vm(a,this.constraints[t],this.elastic[t])),l.set(a)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:i}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,r=this.constraints;t&&ps(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Hm(n.layoutBox,t):this.constraints=!1,this.elastic=$m(i),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ve(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Gm(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!ps(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=Qd(n,r.root,this.visualElement.getTransformPagePoint());let a=zm(r.layout.layoutBox,l);if(i){const c=i(Ud(a));this.hasMutatedConstraints=!!c,c&&(a=Va(c))}return a}startAnimation(t){const{drag:i,dragMomentum:n,dragElastic:r,dragTransition:l,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),o=this.constraints||{},h=Ve(m=>{if(!Js(m,i,this.currentDirection))return;let u=o&&o[m]||{};a&&(u={min:0,max:0});const b=r?200:1e6,C=r?40:1e7,A={type:"inertia",velocity:n?t[m]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...u};return this.startAxisValueAnimation(m,A)});return Promise.all(h).then(c)}startAxisValueAnimation(t,i){const n=this.getAxisMotionValue(t);return Zt(this.visualElement,t),n.start(Ii(t,n,0,i,this.visualElement,!1))}stopAnimation(){Ve(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ve(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[i];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ve(i=>{const{drag:n}=this.getProps();if(!Js(i,n,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(i);if(r&&r.layout){const{min:a,max:c}=r.layout.layoutBox[i];l.set(t[i]-Se(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:n}=this.visualElement;if(!ps(i)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ve(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const o=c.get();r[a]=Wm({min:o,max:o},this.constraints[a])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ve(a=>{if(!Js(a,t,null))return;const c=this.getAxisMotionValue(a),{min:o,max:h}=this.constraints[a];c.set(Se(o,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;Um.set(this.visualElement,this);const t=this.visualElement.current,i=Rs(t,"pointerdown",o=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(o)}),n=()=>{const{dragConstraints:o}=this.getProps();ps(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ne.read(n);const a=Os(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:o,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ve(m=>{const u=this.getAxisMotionValue(m);u&&(this.originPoint[m]+=o[m].translate,u.set(u.get()+o[m].translate))}),this.visualElement.render())});return()=>{a(),i(),l(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:a=si,dragMomentum:c=!0}=t;return{...t,drag:i,dragDirectionLock:n,dragPropagation:r,dragConstraints:l,dragElastic:a,dragMomentum:c}}}function Js(s,t,i){return(t===!0||t===s)&&(i===null||i===s)}function Km(s,t=10){let i=null;return Math.abs(s.y)>t?i="y":Math.abs(s.x)>t&&(i="x"),i}class Qm extends ns{constructor(t){super(t),this.removeGroupControls=He,this.removeListeners=He,this.controls=new Ym(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||He}unmount(){this.removeGroupControls(),this.removeListeners()}}const sr=s=>(t,i)=>{s&&Ne.postRender(()=>s(t,i))};class Xm extends ns{constructor(){super(...arguments),this.removePointerDownListener=He}onPointerDown(t){this.session=new io(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:to(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:sr(t),onStart:sr(i),onMove:n,onEnd:(l,a)=>{delete this.session,r&&Ne.postRender(()=>r(l,a))}}}mount(){this.removePointerDownListener=Rs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const it={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tr(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const Ss={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(ce.test(s))s=parseFloat(s);else return s;const i=tr(s,t.target.x),n=tr(s,t.target.y);return`${i}% ${n}%`}},Jm={correct:(s,{treeScale:t,projectionDelta:i})=>{const n=s,r=ts.parse(s);if(r.length>5)return n;const l=ts.createTransformer(s),a=typeof r[0]!="number"?1:0,c=i.x.scale*t.x,o=i.y.scale*t.y;r[0+a]/=c,r[1+a]/=o;const h=Se(c,o,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),l(r)}};let Ct=!1;class Zm extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:n,layoutId:r}=this.props,{projection:l}=t;jd(eh),l&&(i.group&&i.group.add(l),n&&n.register&&r&&n.register(l),Ct&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),it.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:n,drag:r,isPresent:l}=this.props,{projection:a}=n;return a&&(a.isPresent=l,Ct=!0,r||t.layoutDependency!==i||i===void 0||t.isPresent!==l?a.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?a.promote():a.relegate()||Ne.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mi.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:n}=this.props,{projection:r}=t;Ct=!0,r&&(r.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ro(s){const[t,i]=Pa(),n=k.useContext(oi);return e.jsx(Zm,{...s,layoutGroup:n,switchLayoutGroup:k.useContext(Ba),isPresent:t,safeToRemove:i})}const eh={borderRadius:{...Ss,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ss,borderTopRightRadius:Ss,borderBottomLeftRadius:Ss,borderBottomRightRadius:Ss,boxShadow:Jm};function sh(s,t,i){const n=qe(s)?s:bs(s);return n.start(Ii("",n,t,i)),n.animation}const th=(s,t)=>s.depth-t.depth;class ih{constructor(){this.children=[],this.isDirty=!1}add(t){di(this.children,t),this.isDirty=!0}remove(t){mi(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(th),this.isDirty=!1,this.children.forEach(t)}}function nh(s,t){const i=Fe.now(),n=({timestamp:r})=>{const l=r-i;l>=t&&(ss(n),s(l-t))};return Ne.setup(n,!0),()=>ss(n)}const ao=["TopLeft","TopRight","BottomLeft","BottomRight"],rh=ao.length,ir=s=>typeof s=="string"?parseFloat(s):s,nr=s=>typeof s=="number"||ce.test(s);function ah(s,t,i,n,r,l){r?(s.opacity=Se(0,i.opacity??1,oh(n)),s.opacityExit=Se(t.opacity??1,0,lh(n))):l&&(s.opacity=Se(t.opacity??1,i.opacity??1,n));for(let a=0;a<rh;a++){const c=`border${ao[a]}Radius`;let o=rr(t,c),h=rr(i,c);if(o===void 0&&h===void 0)continue;o||(o=0),h||(h=0),o===0||h===0||nr(o)===nr(h)?(s[c]=Math.max(Se(ir(o),ir(h),n),0),($e.test(h)||$e.test(o))&&(s[c]+="%")):s[c]=h}(t.rotate||i.rotate)&&(s.rotate=Se(t.rotate||0,i.rotate||0,n))}function rr(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const oh=oo(0,.5,Ur),lh=oo(.5,.95,He);function oo(s,t,i){return n=>n<s?0:n>t?1:i(As(s,t,n))}function ar(s,t){s.min=t.min,s.max=t.max}function Ie(s,t){ar(s.x,t.x),ar(s.y,t.y)}function or(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function lr(s,t,i,n,r){return s-=t,s=dt(s,1/i,n),r!==void 0&&(s=dt(s,1/r,n)),s}function ch(s,t=0,i=1,n=.5,r,l=s,a=s){if($e.test(t)&&(t=parseFloat(t),t=Se(a.min,a.max,t/100)-a.min),typeof t!="number")return;let c=Se(l.min,l.max,n);s===l&&(c-=t),s.min=lr(s.min,t,i,c,r),s.max=lr(s.max,t,i,c,r)}function cr(s,t,[i,n,r],l,a){ch(s,t[i],t[n],t[r],t.scale,l,a)}const dh=["x","scaleX","originX"],mh=["y","scaleY","originY"];function dr(s,t,i,n){cr(s.x,t,dh,i?i.x:void 0,n?n.x:void 0),cr(s.y,t,mh,i?i.y:void 0,n?n.y:void 0)}function mr(s){return s.translate===0&&s.scale===1}function lo(s){return mr(s.x)&&mr(s.y)}function hr(s,t){return s.min===t.min&&s.max===t.max}function hh(s,t){return hr(s.x,t.x)&&hr(s.y,t.y)}function ur(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function co(s,t){return ur(s.x,t.x)&&ur(s.y,t.y)}function pr(s){return Oe(s.x)/Oe(s.y)}function xr(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class uh{constructor(){this.members=[]}add(t){di(this.members,t),t.scheduleRender()}remove(t){if(mi(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(r=>t===r);if(i===0)return!1;let n;for(let r=i;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(t,i){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,i&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:n}=t;i.onExitComplete&&i.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ph(s,t,i){let n="";const r=s.x.translate/t.x,l=s.y.translate/t.y,a=(i==null?void 0:i.z)||0;if((r||l||a)&&(n=`translate3d(${r}px, ${l}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:h,rotate:m,rotateX:u,rotateY:b,skewX:C,skewY:A}=i;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),u&&(n+=`rotateX(${u}deg) `),b&&(n+=`rotateY(${b}deg) `),C&&(n+=`skewX(${C}deg) `),A&&(n+=`skewY(${A}deg) `)}const c=s.x.scale*t.x,o=s.y.scale*t.y;return(c!==1||o!==1)&&(n+=`scale(${c}, ${o})`),n||"none"}const Pt=["","X","Y","Z"],xh=1e3;let gh=0;function Rt(s,t,i,n){const{latestValues:r}=t;r[s]&&(i[s]=r[s],t.setStaticValue(s,0),n&&(n[s]=0))}function mo(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const i=Ka(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:r,layoutId:l}=s.options;window.MotionCancelOptimisedAnimation(i,"transform",Ne,!(r||l))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&mo(n)}function ho({attachResizeListener:s,defaultParent:t,measureScroll:i,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(a={},c=t==null?void 0:t()){this.id=gh++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bh),this.nodes.forEach(wh),this.nodes.forEach(Sh),this.nodes.forEach(vh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new ih)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new pi),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const o=this.eventHandlers.get(a);o&&o.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ca(a)&&!ld(a),this.instance=a;const{layoutId:c,layout:o,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||c)&&(this.isLayoutDirty=!0),s){let m,u=0;const b=()=>this.root.updateBlockedByResize=!1;Ne.read(()=>{u=window.innerWidth}),s(a,()=>{const C=window.innerWidth;C!==u&&(u=C,this.root.updateBlockedByResize=!0,m&&m(),m=nh(b,250),it.hasAnimatedSinceResize&&(it.hasAnimatedSinceResize=!1,this.nodes.forEach(yr)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||o)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:u,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||Mh,{onLayoutAnimationStart:q,onLayoutAnimationComplete:g}=h.getProps(),d=!this.targetLayout||!co(this.targetLayout,C),x=!u&&b;if(this.options.layoutRoot||this.resumeFrom||x||u&&(d||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const f={...Pi(A,"layout"),onPlay:q,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(f.delay=0,f.type=!1),this.startAnimation(f),this.setAnimationOrigin(m,x)}else u||yr(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kh),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const u=this.path[m];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:c,layout:o}=this.options;if(c===void 0&&!o)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gr);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fr);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Nh),this.nodes.forEach(fh),this.nodes.forEach(yh)):this.nodes.forEach(fr),this.clearAllSnapshots();const c=Fe.now();Ee.delta=Ue(0,1e3/60,c-Ee.timestamp),Ee.timestamp=c,Ee.isProcessing=!0,gt.update.process(Ee),gt.preRender.process(Ee),gt.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jh),this.sharedNodes.forEach(Ch)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Oe(this.snapshot.measuredBox.x)&&!Oe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const o=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:o,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!lo(this.projectionDelta),o=this.getTransformTemplate(),h=o?o(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||os(this.latestValues)||m)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let o=this.removeElementScroll(c);return a&&(o=this.removeTransform(o)),Th(o),{animationId:this.root.animationId,measuredBox:c,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return Pe();const c=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Ah))){const{scroll:m}=this.root;m&&(xs(c.x,m.offset.x),xs(c.y,m.offset.y))}return c}removeElementScroll(a){var o;const c=Pe();if(Ie(c,a),(o=this.scroll)!=null&&o.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:u,options:b}=m;m!==this.root&&u&&b.layoutScroll&&(u.wasRoot&&Ie(c,a),xs(c.x,u.offset.x),xs(c.y,u.offset.y))}return c}applyTransform(a,c=!1){const o=Pe();Ie(o,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&gs(o,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),os(m.latestValues)&&gs(o,m.latestValues)}return os(this.latestValues)&&gs(o,this.latestValues),o}removeTransform(a){const c=Pe();Ie(c,a);for(let o=0;o<this.path.length;o++){const h=this.path[o];if(!h.instance||!os(h.latestValues))continue;Kt(h.latestValues)&&h.updateSnapshot();const m=Pe(),u=h.measurePageBox();Ie(m,u),dr(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return os(this.latestValues)&&dr(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var b;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const o=!!this.resumingFrom||this!==c;if(!(a||o&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:u}=this.options;if(!(!this.layout||!(m||u))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Ts(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Ie(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fm(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ie(this.target,this.layout.layoutBox),za(this.target,this.targetDelta)):Ie(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Ts(this.relativeTargetOrigin,this.target,C.target),Ie(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Kt(this.parent.latestValues)||Ha(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let o=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(o=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(o=!1),o)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Ie(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,b=this.treeScale.y;Kd(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Pe());const{target:C}=a;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(or(this.prevProjectionDelta.x,this.projectionDelta.x),or(this.prevProjectionDelta.y,this.projectionDelta.y)),Ms(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==b||!xr(this.projectionDelta.x,this.prevProjectionDelta.x)||!xr(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fs(),this.projectionDelta=fs(),this.projectionDeltaWithTransform=fs()}setAnimationOrigin(a,c=!1){const o=this.snapshot,h=o?o.latestValues:{},m={...this.latestValues},u=fs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Pe(),C=o?o.source:void 0,A=this.layout?this.layout.source:void 0,q=C!==A,g=this.getStack(),d=!g||g.members.length<=1,x=!!(q&&!d&&this.options.crossfade===!0&&!this.path.some(Rh));this.animationProgress=0;let f;this.mixTargetDelta=M=>{const v=M/1e3;br(u.x,a.x,v),br(u.y,a.y,v),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ts(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ph(this.relativeTarget,this.relativeTargetOrigin,b,v),f&&hh(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=Pe()),Ie(f,this.relativeTarget)),q&&(this.animationValues=m,ah(m,h,this.latestValues,v,x,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,o,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(o=this.resumingFrom)==null?void 0:o.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{it.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bs(0)),this.currentAnimation=sh(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:o,layout:h,latestValues:m}=a;if(!(!c||!o||!h)){if(this!==a&&this.layout&&h&&uo(this.options.animationType,this.layout.layoutBox,h.layoutBox)){o=this.target||Pe();const u=Oe(this.layout.layoutBox.x);o.x.min=a.target.x.min,o.x.max=o.x.min+u;const b=Oe(this.layout.layoutBox.y);o.y.min=a.target.y.min,o.y.max=o.y.min+b}Ie(c,o),gs(c,m),Ms(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new uh),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:o}={}){const h=this.getStack();h&&h.promote(this,o),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:o}=a;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(c=!0),!c)return;const h={};o.z&&Rt("z",a,h,this.animationValues);for(let m=0;m<Pt.length;m++)Rt(`rotate${Pt[m]}`,a,h,this.animationValues),Rt(`skew${Pt[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const o=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=tt(c==null?void 0:c.pointerEvents)||"",a.transform=o?o(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=tt(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!os(this.latestValues)&&(a.transform=o?o({},""):"none",this.hasProjected=!1);return}a.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let u=ph(this.projectionDeltaWithTransform,this.treeScale,m);o&&(u=o(m,u)),a.transform=u;const{x:b,y:C}=this.projectionDelta;a.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,h.animationValues?a.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:a.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const A in Ls){if(m[A]===void 0)continue;const{correct:q,applyTo:g,isCSSVariable:d}=Ls[A],x=u==="none"?m[A]:q(m[A],h);if(g){const f=g.length;for(let M=0;M<f;M++)a[g[M]]=x}else d?this.options.visualElement.renderState.vars[A]=x:a[A]=x}this.options.layoutId&&(a.pointerEvents=h===this?tt(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(gr),this.root.sharedNodes.clear()}}}function fh(s){s.updateLayout()}function yh(s){var i;const t=((i=s.resumeFrom)==null?void 0:i.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=s.layout,{animationType:l}=s.options,a=t.source!==s.layout.source;l==="size"?Ve(u=>{const b=a?t.measuredBox[u]:t.layoutBox[u],C=Oe(b);b.min=n[u].min,b.max=b.min+C}):uo(l,t.layoutBox,n)&&Ve(u=>{const b=a?t.measuredBox[u]:t.layoutBox[u],C=Oe(n[u]);b.max=b.min+C,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[u].max=s.relativeTarget[u].min+C)});const c=fs();Ms(c,n,t.layoutBox);const o=fs();a?Ms(o,s.applyTransform(r,!0),t.measuredBox):Ms(o,n,t.layoutBox);const h=!lo(c);let m=!1;if(!s.resumeFrom){const u=s.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:b,layout:C}=u;if(b&&C){const A=Pe();Ts(A,t.layoutBox,b.layoutBox);const q=Pe();Ts(q,n,C.layoutBox),co(A,q)||(m=!0),u.options.layoutRoot&&(s.relativeTarget=q,s.relativeTargetOrigin=A,s.relativeParent=u)}}}s.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(s.isLead()){const{onExitComplete:n}=s.options;n&&n()}s.options.transition=void 0}function bh(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function vh(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function jh(s){s.clearSnapshot()}function gr(s){s.clearMeasurements()}function fr(s){s.isLayoutDirty=!1}function Nh(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function yr(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function wh(s){s.resolveTargetDelta()}function Sh(s){s.calcProjection()}function kh(s){s.resetSkewAndRotation()}function Ch(s){s.removeLeadSnapshot()}function br(s,t,i){s.translate=Se(t.translate,0,i),s.scale=Se(t.scale,1,i),s.origin=t.origin,s.originPoint=t.originPoint}function vr(s,t,i,n){s.min=Se(t.min,i.min,n),s.max=Se(t.max,i.max,n)}function Ph(s,t,i,n){vr(s.x,t.x,i.x,n),vr(s.y,t.y,i.y,n)}function Rh(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const Mh={duration:.45,ease:[.4,0,.1,1]},jr=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Nr=jr("applewebkit/")&&!jr("chrome/")?Math.round:He;function wr(s){s.min=Nr(s.min),s.max=Nr(s.max)}function Th(s){wr(s.x),wr(s.y)}function uo(s,t,i){return s==="position"||s==="preserve-aspect"&&!Om(pr(t),pr(i),.2)}function Ah(s){var t;return s!==s.root&&((t=s.scroll)==null?void 0:t.wasRoot)}const Eh=ho({attachResizeListener:(s,t)=>Os(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mt={current:void 0},po=ho({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Mt.current){const s=new Eh({});s.mount(window),s.setOptions({layoutScroll:!0}),Mt.current=s}return Mt.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),_h={pan:{Feature:Xm},drag:{Feature:Qm,ProjectionNode:po,MeasureLayout:ro}};function Sr(s,t,i){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",i==="Start");const r="onHover"+i,l=n[r];l&&Ne.postRender(()=>l(t,Ws(t)))}class qh extends ns{mount(){const{current:t}=this.node;t&&(this.unmount=id(t,(i,n)=>(Sr(this.node,n,"Start"),r=>Sr(this.node,r,"End"))))}unmount(){}}class Lh extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vs(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kr(s,t,i){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",i==="Start");const r="onTap"+(i==="End"?"":i),l=n[r];l&&Ne.postRender(()=>l(t,Ws(t)))}class Oh extends ns{mount(){const{current:t}=this.node;t&&(this.unmount=od(t,(i,n)=>(kr(this.node,n,"Start"),(r,{success:l})=>kr(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ti=new WeakMap,Tt=new WeakMap,Fh=s=>{const t=ti.get(s.target);t&&t(s)},Dh=s=>{s.forEach(Fh)};function Bh({root:s,...t}){const i=s||document;Tt.has(i)||Tt.set(i,{});const n=Tt.get(i),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(Dh,{root:s,...t})),n[r]}function Ih(s,t,i){const n=Bh(t);return ti.set(s,i),n.observe(s),()=>{ti.delete(s),n.unobserve(s)}}const Vh={some:0,all:1};class Hh extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:n,amount:r="some",once:l}=t,a={root:i?i.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:Vh[r]},c=o=>{const{isIntersecting:h}=o;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:u}=this.node.getProps(),b=h?m:u;b&&b(o)};return Ih(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(zh(t,i))&&this.startObserver()}unmount(){}}function zh({viewport:s={}},{viewport:t={}}={}){return i=>s[i]!==t[i]}const Wh={inView:{Feature:Hh},tap:{Feature:Oh},focus:{Feature:Lh},hover:{Feature:qh}},Gh={layout:{ProjectionNode:po,MeasureLayout:ro}},$h={...Tm,...Wh,..._h,...Gh},ye=$d($h,rm),Uh={Foundation:{color:"#3b82f6",description:"Client foundation and initial assessments",steps:[1,2,3,4]},Assessment:{color:"#eab308",description:"Movement analysis and performance testing",steps:[5,6,7]},Programming:{color:"#22c55e",description:"Exercise prescription and program design",steps:[8,9,10,11,12,13]},Implementation:{color:"#dc2626",description:"Periodization and monitoring strategies",steps:[14,15,16,17]}},Ze=[{id:1,name:"Client Intake & PAR-Q",phase:"Foundation",description:"Initial client consultation, health history, and readiness assessment",component:"NASMIntakeStep",isImplemented:!0,requires:["None - Starting point"],outputs:["Health history","PAR-Q clearance","Exercise readiness status"]},{id:2,name:"Vitals & Basic Measurements",phase:"Foundation",description:"Height, weight, body composition, resting heart rate, blood pressure",component:"NASMVitalsStep",isImplemented:!0,requires:["Completed PAR-Q"],outputs:["Height/weight","Body composition","Resting vitals","BMI calculations"]},{id:3,name:"Static Posture Assessment",phase:"Foundation",description:"Anterior, lateral, and posterior postural analysis",component:"NASMStaticPostureStep",isImplemented:!0,requires:["Basic measurements completed"],outputs:["Postural deviations","Muscle imbalance indicators","Visual assessment notes"]},{id:4,name:"Movement Assessments",phase:"Foundation",description:"Overhead squat, single-leg squat, pushing/pulling assessments",component:"NASMMovementAssessmentStep",isImplemented:!0,requires:["Postural assessment completed"],outputs:["Movement compensations","Mobility/stability issues","Exercise contraindications"]},{id:5,name:"Compensation Mapping",phase:"Assessment",description:"Muscle imbalance analysis and corrective strategy development",component:"NASMCompensationStep",isImplemented:!1,requires:["Movement assessments completed"],outputs:["Corrective exercise priorities","Muscle activation strategies"]},{id:6,name:"Performance & Capacity Tests",phase:"Assessment",description:"Push-up test, Davies test, Shark skill, 1RM estimation",component:"NASMPerformanceTestStep",isImplemented:!1,requires:["Movement compensations identified"],outputs:["Strength baselines","Power assessments","Endurance capacity"]},{id:7,name:"Choose Starting OPT Phase",phase:"Assessment",description:"Phase 1-5 selection based on assessment findings",component:"NASMOPTPhaseSelectionStep",isImplemented:!1,requires:["All assessments completed"],outputs:["OPT Phase selection","Training readiness level"]},{id:8,name:"Corrective Warm-up Block",phase:"Programming",description:"SMR and stretching prescription by phase",component:"NASMWarmupStep",isImplemented:!1,requires:["OPT Phase selected"],outputs:["Warm-up protocol","SMR routine","Flexibility program"]},{id:9,name:"Core/Balance/Plyometric Block",phase:"Programming",description:"Phase-appropriate core, balance, and reactive training",component:"NASMOPTPhaseStep",isImplemented:!0,requires:["Corrective warm-up designed"],outputs:["Core training plan","Balance progressions","Plyometric protocols"]},{id:10,name:"SAQ (Speed, Agility, Quickness)",phase:"Programming",description:"Sport-specific drill programming",component:"NASMSAQStep",isImplemented:!1,requires:["Core/balance protocols established"],outputs:["SAQ drill selection","Speed progressions","Agility patterns"]},{id:11,name:"Resistance Training Block",phase:"Programming",description:"Exercise selection, sets, reps, tempo, rest periods",component:"NASMResistanceStep",isImplemented:!1,requires:["SAQ protocols designed"],outputs:["Exercise selection","Training variables","Progressive overload plan"]},{id:12,name:"Cardiorespiratory Plan (FITTE)",phase:"Programming",description:"Heart rate zones and cardio prescription",component:"NASMCardioStep",isImplemented:!1,requires:["Resistance training planned"],outputs:["Cardio prescription","Heart rate zones","FITTE parameters"]},{id:13,name:"Session Template & Weekly Split",phase:"Programming",description:"Microcycle design and session structure",component:"NASMSessionTemplateStep",isImplemented:!1,requires:["All training blocks designed"],outputs:["Session templates","Weekly split","Microcycle structure"]},{id:14,name:"Monthly Progression Rules (Mesocycle)",phase:"Implementation",description:"4-week progression and deload planning",component:"NASMMesocycleStep",isImplemented:!1,requires:["Session templates created"],outputs:["Progression rules","Deload protocols","Mesocycle plan"]},{id:15,name:"Annual Plan (Macrocycle)",phase:"Implementation",description:"Yearly periodization and phase transitions",component:"NASMMacrocycleStep",isImplemented:!1,requires:["Mesocycle protocols established"],outputs:["Annual periodization","Phase transitions","Long-term goals"]},{id:16,name:"Special Population/Constraint Modifications",phase:"Implementation",description:"Population-specific adaptations and equipment constraints",component:"NASMSpecialPopulationStep",isImplemented:!1,requires:["Base program designed"],outputs:["Population adaptations","Equipment modifications","Safety protocols"]},{id:17,name:"Monitoring & Reassessment",phase:"Implementation",description:"KPI tracking and reassessment protocols",component:"NASMMonitoringStep",isImplemented:!1,requires:["Complete program designed"],outputs:["Monitoring protocols","Reassessment schedule","Progress tracking"]}],Yh=s=>{const t=Ze.find(i=>i.id===s);return t||{id:s,name:"Unknown Step",phase:"Foundation",description:"Step not found",component:"DefaultStep",isImplemented:!1,requires:[],outputs:[]}},Cr=s=>{const t=Ze.findIndex(i=>i.id===s);return t>=0&&t<Ze.length-1?Ze[t+1]:null},Pr=s=>{const t=Ze.findIndex(i=>i.id===s);return t>0?Ze[t-1]:null},Kh=()=>{const{state:s,actions:t}=Me(),[i,n]=k.useState({}),[r,l]=k.useState({primaryGoal:"",secondaryGoals:[],specificObjectives:"",programDuration:"",sessionsPerWeek:"",sessionLength:"",timeConstraints:"",trainingExperience:"",previousPrograms:[],currentActivity:"",fitnessLevel:"",parq:{q1_heart_condition:null,q2_chest_pain:null,q3_dizziness:null,q4_chronic_condition:null,q4_conditions_listed:"",q5_medications:null,q5_conditions_medications:"",q6_bone_joint:null,q6_conditions_listed:"",q7_medical_supervision:null,followup_needed:!1,followup_arthritis:{},followup_cancer:{},followup_heart:{},followup_blood_pressure:{},followup_metabolic:{},followup_mental_health:{},followup_respiratory:{},followup_spinal_cord:{},followup_stroke:{},followup_other:{},clearance_status:"pending",medical_clearance_obtained:!1},declaration:{participant_name:"",date_signed:"",signature:"",witness:"",parent_guardian:""},equipmentAccess:[],trainingLocation:"",budget:"",exercisePreferences:[],exerciseDislikes:[],specialRequests:"",motivationalFactors:[]}),[a,c]=k.useState(!1),[o,h]=k.useState({}),m=["Reduce body fat","Increase lean body mass","Improve general performance","Athletic Performance","Injury Prevention/Rehabilitation","Postural Improvement","Cardiovascular Health","Functional Movement","Sport-Specific Training"],u=["Beginning/Novice (0-6 months)","Advanced (6+ months continuous training)"],b=["Full Commercial Gym","Home Gym (Full Equipment)","Home Gym (Basic Equipment)","Bodyweight Only","Dumbbells","Resistance Bands","Kettlebells","Barbells","Cable Machine","Cardio Equipment"],C=(p,R)=>{l(_=>({..._,[p]:R})),i[p]&&n(_=>({..._,[p]:""})),A(p,R)},A=(p,R)=>{let _="";switch(p){case"primaryGoal":R.trim()||(_="Primary goal is required");break;case"programDuration":R.trim()||(_="Program duration is required");break;case"sessionsPerWeek":R.trim()||(_="Sessions per week is required");break;case"trainingExperience":R.trim()||(_="Training experience is required");break;case"equipmentAccess":(!Array.isArray(R)||R.length===0)&&(_="At least one equipment option is required");break}_&&n(W=>({...W,[p]:_}))},q=()=>{const p={};return r.primaryGoal.trim()||(p.primaryGoal="Primary goal is required"),r.programDuration.trim()||(p.programDuration="Program duration is required"),r.sessionsPerWeek.trim()||(p.sessionsPerWeek="Sessions per week is required"),r.trainingExperience.trim()||(p.trainingExperience="Training experience is required"),(!r.equipmentAccess||r.equipmentAccess.length===0)&&(p.equipmentAccess="At least one equipment option is required"),[r.parq.q1_heart_condition,r.parq.q2_chest_pain,r.parq.q3_dizziness,r.parq.q4_chronic_condition,r.parq.q5_medications,r.parq.q6_bone_joint,r.parq.q7_medical_supervision].some(_=>_===null)&&(p.parq="Please complete all PAR-Q+ health screening questions"),n(p),Object.keys(p).length===0},g=(p,R)=>{const _={...r,parq:{...r.parq,[p]:R}};l(_),setTimeout(()=>{const y=[_.parq.q1_heart_condition,_.parq.q2_chest_pain,_.parq.q3_dizziness,_.parq.q4_chronic_condition,_.parq.q5_medications,_.parq.q6_bone_joint,_.parq.q7_medical_supervision].some(N=>N==="yes");l(N=>({...N,parq:{...N.parq,followup_needed:y,clearance_status:y?"needs_medical":"cleared"}})),c(y)},0)},d=(p,R)=>{l(_=>({..._,parq:{..._.parq,[p]:R}}))},x=(p,R)=>{l(_=>({..._,declaration:{..._.declaration,[p]:R}}))},f=(p,R,_)=>{l(W=>({...W,parq:{...W.parq,[`followup_${p}`]:{...W.parq[`followup_${p}`],[R]:_}}}))},M=p=>{h(R=>({...R,[p]:!R[p]}))},v=(p,R)=>{l(_=>({..._,[p]:_[p].includes(R)?_[p].filter(W=>W!==R):[..._[p],R]}))},j=p=>{if(p.preventDefault(),!q())return;if(!P()){n(N=>({...N,parq:"Please complete the PAR-Q+ health screening questions before continuing."}));return}const R=w();if(R==="needs_medical"&&!r.parq.medical_clearance_obtained){n(N=>({...N,medical_clearance:"Medical clearance is required before proceeding. Please obtain clearance from your physician or check the medical clearance box if already obtained."}));return}const _={primary:r.primaryGoal,secondary:r.secondaryGoals,timeline:r.programDuration},W={time:r.timeConstraints,equipment:r.equipmentAccess,parq_clearance:R,preferences:{likes:r.exercisePreferences,dislikes:r.exerciseDislikes}},y={frequency:r.sessionsPerWeek,duration:r.sessionLength,location:r.trainingLocation};t.setAssessmentData({step:1,intakeData:r,goalHierarchy:_,constraints:W,clearanceStatus:R,baselineSchedule:y,timestamp:new Date().toISOString()}),t.setCurrentStep(2)},P=()=>[r.parq.q1_heart_condition,r.parq.q2_chest_pain,r.parq.q3_dizziness,r.parq.q4_chronic_condition,r.parq.q5_medications,r.parq.q6_bone_joint,r.parq.q7_medical_supervision].every(R=>R!==null),w=()=>[r.parq.q1_heart_condition,r.parq.q2_chest_pain,r.parq.q3_dizziness,r.parq.q4_chronic_condition,r.parq.q5_medications,r.parq.q6_bone_joint,r.parq.q7_medical_supervision].some(_=>_==="yes")?"needs_medical":"cleared",T=()=>{const p=r.primaryGoal&&r.programDuration&&r.sessionsPerWeek&&r.trainingExperience&&r.equipmentAccess.length>0,R=P(),_=r.declaration.participant_name&&r.declaration.date_signed;return p&&R&&_};return e.jsxs("div",{className:"step-content",style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsxs("div",{className:"step-header-container",children:[e.jsx("h1",{className:"text-3xl font-bold text-white !important",style:{fontFamily:"'Roboto', sans-serif"},children:"Step 1: Intake & Readiness"}),e.jsx("p",{className:"text-lg text-gray-300 !important",style:{fontFamily:"'Roboto', sans-serif"},children:"Complete client consultation to establish training foundation"}),e.jsx("span",{className:"step-progress",children:"Step 1 of 17"})]}),e.jsxs("div",{className:"progress-pills",children:[e.jsxs("div",{className:"progress-pill active",children:[e.jsx("div",{children:"Foundation"}),e.jsx("small",{children:"Steps 1-2"})]}),e.jsxs("div",{className:"progress-pill",children:[e.jsx("div",{children:"Assessment"}),e.jsx("small",{children:"Steps 3-6"})]}),e.jsxs("div",{className:"progress-pill",children:[e.jsx("div",{children:"Programming"}),e.jsx("small",{children:"Steps 7-12"})]}),e.jsxs("div",{className:"progress-pill",children:[e.jsx("div",{children:"Implementation"}),e.jsx("small",{children:"Steps 13-17"})]})]}),e.jsxs("div",{className:"content-wrapper",children:[e.jsxs("div",{className:"content-card",children:[e.jsx("h3",{className:"text-xl font-bold text-white !important mb-4",style:{fontFamily:"'Roboto', sans-serif"},children:"Training Goals & Objectives"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Primary Goal *"}),e.jsxs("select",{value:r.primaryGoal,onChange:p=>C("primaryGoal",p.target.value),required:!0,className:`w-full border rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors ${i.primaryGoal?"border-red-500":"border-gray-600"}`,style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsx("option",{value:"",children:"Select Primary Goal"}),m.map(p=>e.jsx("option",{value:p,children:p},p))]}),i.primaryGoal&&e.jsx("p",{className:"text-red-500 text-sm mt-1",style:{fontFamily:"'Roboto', sans-serif"},children:i.primaryGoal})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Secondary Goals (Select all that apply)"}),e.jsx("div",{className:"checkbox-group space-y-2",children:m.filter(p=>p!==r.primaryGoal).map(p=>e.jsxs("label",{className:"flex items-center space-x-2 font-medium text-white !important cursor-pointer",style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsx("input",{type:"checkbox",checked:r.secondaryGoals.includes(p),onChange:()=>v("secondaryGoals",p),className:"accent-red-600 h-4 w-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-500"}),e.jsx("span",{children:p})]},p))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Specific Objectives"}),e.jsx("textarea",{value:r.specificObjectives,onChange:p=>C("specificObjectives",p.target.value),placeholder:"Describe specific, measurable objectives...",rows:"3",className:"w-full border border-gray-600 rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors placeholder-gray-400",style:{fontFamily:"'Roboto', sans-serif"}})]})]}),e.jsxs("div",{className:"content-card",children:[e.jsx("h3",{className:"text-xl font-bold text-white !important mb-4",style:{fontFamily:"'Roboto', sans-serif"},children:"Timeline & Availability"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Program Duration *"}),e.jsxs("select",{value:r.programDuration,onChange:p=>C("programDuration",p.target.value),required:!0,className:`w-full border rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors ${i.programDuration?"border-red-500":"border-gray-600"}`,style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsx("option",{value:"",children:"Select Duration"}),e.jsx("option",{value:"4-weeks",children:"4 Weeks"}),e.jsx("option",{value:"8-weeks",children:"8 Weeks"}),e.jsx("option",{value:"12-weeks",children:"12 Weeks"}),e.jsx("option",{value:"16-weeks",children:"16 Weeks"}),e.jsx("option",{value:"6-months",children:"6 Months"}),e.jsx("option",{value:"1-year",children:"1 Year"}),e.jsx("option",{value:"ongoing",children:"Ongoing"})]}),i.programDuration&&e.jsx("p",{className:"text-red-500 text-sm mt-1",style:{fontFamily:"'Roboto', sans-serif"},children:i.programDuration})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Sessions Per Week *"}),e.jsxs("select",{value:r.sessionsPerWeek,onChange:p=>C("sessionsPerWeek",p.target.value),required:!0,className:`w-full border rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors ${i.sessionsPerWeek?"border-red-500":"border-gray-600"}`,style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsx("option",{value:"",children:"Select Frequency"}),e.jsx("option",{value:"2",children:"2 Sessions"}),e.jsx("option",{value:"3",children:"3 Sessions"}),e.jsx("option",{value:"4",children:"4 Sessions"}),e.jsx("option",{value:"5",children:"5 Sessions"}),e.jsx("option",{value:"6",children:"6 Sessions"})]}),i.sessionsPerWeek&&e.jsx("p",{className:"text-red-500 text-sm mt-1",style:{fontFamily:"'Roboto', sans-serif"},children:i.sessionsPerWeek})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Session Length"}),e.jsxs("select",{value:r.sessionLength,onChange:p=>C("sessionLength",p.target.value),className:"w-full border border-gray-600 rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors",style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsx("option",{value:"",children:"Select Length"}),e.jsx("option",{value:"30-min",children:"30 Minutes"}),e.jsx("option",{value:"45-min",children:"45 Minutes"}),e.jsx("option",{value:"60-min",children:"60 Minutes"}),e.jsx("option",{value:"75-min",children:"75 Minutes"}),e.jsx("option",{value:"90-min",children:"90 Minutes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Time Constraints"}),e.jsx("textarea",{value:r.timeConstraints,onChange:p=>C("timeConstraints",p.target.value),placeholder:"Any scheduling limitations, busy periods, travel, etc...",rows:"2",className:"w-full border border-gray-600 rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors placeholder-gray-400",style:{fontFamily:"'Roboto', sans-serif"}})]})]}),e.jsxs("div",{className:"content-card",children:[e.jsx("h3",{className:"text-xl font-bold text-white !important mb-4",style:{fontFamily:"'Roboto', sans-serif"},children:"Training History & Experience"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Training Experience Level *"}),e.jsxs("select",{value:r.trainingExperience,onChange:p=>C("trainingExperience",p.target.value),required:!0,className:`w-full border rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors ${i.trainingExperience?"border-red-500":"border-gray-600"}`,style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsx("option",{value:"",children:"Select Experience"}),u.map(p=>e.jsx("option",{value:p,children:p},p))]}),i.trainingExperience&&e.jsx("p",{className:"text-red-500 text-sm mt-1",style:{fontFamily:"'Roboto', sans-serif"},children:i.trainingExperience})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Current Physical Activity"}),e.jsx("textarea",{value:r.currentActivity,onChange:p=>C("currentActivity",p.target.value),placeholder:"Describe current exercise routine, sports, daily activities...",rows:"3",className:"w-full border border-gray-600 rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors placeholder-gray-400",style:{fontFamily:"'Roboto', sans-serif"}})]})]}),e.jsxs("div",{className:"content-card",children:[e.jsx("h3",{className:"text-xl font-bold text-white !important mb-4",style:{fontFamily:"'Roboto', sans-serif"},children:"PAR-Q+ 2023 - Physical Activity Readiness Questionnaire"}),e.jsx("p",{className:"text-base leading-6 text-gray-300 !important mb-6",style:{fontFamily:"'Roboto', sans-serif"},children:"The health benefits of regular physical activity are clear; however, more vigorous activity increases the risk of adverse events. This questionnaire will tell you whether it is necessary for you to seek further advice from your doctor OR a qualified exercise professional before becoming more physically active."}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white !important",style:{fontFamily:"'Roboto', sans-serif"},children:"GENERAL HEALTH QUESTIONS"}),e.jsx("p",{className:"text-sm text-gray-300 !important mb-4",style:{fontFamily:"'Roboto', sans-serif"},children:"Please read the 7 questions below carefully and answer each one honestly: check YES or NO."}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg border border-gray-600",children:[e.jsx("label",{className:"block text-white !important font-medium mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"1. Has your doctor ever said that you have a heart condition OR high blood pressure?"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q1",value:"yes",checked:r.parq.q1_heart_condition==="yes",onChange:p=>g("q1_heart_condition",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"YES"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q1",value:"no",checked:r.parq.q1_heart_condition==="no",onChange:p=>g("q1_heart_condition",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"NO"})]})]})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg border border-gray-600",children:[e.jsx("label",{className:"block text-white !important font-medium mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"2. Do you feel pain in your chest at rest, during your daily activities of living, OR when you do physical activity?"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q2",value:"yes",checked:r.parq.q2_chest_pain==="yes",onChange:p=>g("q2_chest_pain",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"YES"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q2",value:"no",checked:r.parq.q2_chest_pain==="no",onChange:p=>g("q2_chest_pain",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"NO"})]})]})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg border border-gray-600",children:[e.jsx("label",{className:"block text-white !important font-medium mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"3. Do you lose balance because of dizziness OR have you lost consciousness in the last 12 months?"}),e.jsx("p",{className:"text-sm text-gray-400 !important mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"(Note: if dizziness was associated with over-breathing including during vigorous exercise, answer NO)"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q3",value:"yes",checked:r.parq.q3_dizziness==="yes",onChange:p=>g("q3_dizziness",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"YES"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q3",value:"no",checked:r.parq.q3_dizziness==="no",onChange:p=>g("q3_dizziness",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"NO"})]})]})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg border border-gray-600",children:[e.jsx("label",{className:"block text-white !important font-medium mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"4. Have you ever been diagnosed with another chronic medical condition (other than heart disease or high blood pressure)?"}),e.jsxs("div",{className:"flex space-x-6 mb-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q4",value:"yes",checked:r.parq.q4_chronic_condition==="yes",onChange:p=>g("q4_chronic_condition",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"YES"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q4",value:"no",checked:r.parq.q4_chronic_condition==="no",onChange:p=>g("q4_chronic_condition",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"NO"})]})]}),r.parq.q4_chronic_condition==="yes"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-red-400 !important mb-2",style:{fontFamily:"'Roboto', sans-serif"},children:"PLEASE LIST CONDITION(S) HERE:"}),e.jsx("textarea",{value:r.parq.q4_conditions_listed,onChange:p=>d("q4_conditions_listed",p.target.value),placeholder:"List your chronic medical conditions...",rows:"2",className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-white !important focus:ring-red-500 focus:border-red-500",style:{fontFamily:"'Roboto', sans-serif"}})]})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg border border-gray-600",children:[e.jsx("label",{className:"block text-white !important font-medium mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"5. Are you currently taking prescribed medications for a chronic medical condition?"}),e.jsxs("div",{className:"flex space-x-6 mb-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q5",value:"yes",checked:r.parq.q5_medications==="yes",onChange:p=>g("q5_medications",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"YES"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q5",value:"no",checked:r.parq.q5_medications==="no",onChange:p=>g("q5_medications",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"NO"})]})]}),r.parq.q5_medications==="yes"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-red-400 !important mb-2",style:{fontFamily:"'Roboto', sans-serif"},children:"PLEASE LIST CONDITION(S) AND MEDICATIONS HERE:"}),e.jsx("textarea",{value:r.parq.q5_conditions_medications,onChange:p=>d("q5_conditions_medications",p.target.value),placeholder:"List conditions and medications...",rows:"2",className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-white !important focus:ring-red-500 focus:border-red-500",style:{fontFamily:"'Roboto', sans-serif"}})]})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg border border-gray-600",children:[e.jsx("label",{className:"block text-white !important font-medium mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"6. Do you currently have (or have had within the past 12 months) a bone, joint, or soft tissue problem that could be made worse by becoming more physically active?"}),e.jsx("p",{className:"text-sm text-gray-400 !important mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"(Note: does not limit current ability to be physically active)"}),e.jsxs("div",{className:"flex space-x-6 mb-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q6",value:"yes",checked:r.parq.q6_bone_joint==="yes",onChange:p=>g("q6_bone_joint",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"YES"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q6",value:"no",checked:r.parq.q6_bone_joint==="no",onChange:p=>g("q6_bone_joint",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"NO"})]})]}),r.parq.q6_bone_joint==="yes"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-red-400 !important mb-2",style:{fontFamily:"'Roboto', sans-serif"},children:"PLEASE LIST CONDITION(S) HERE:"}),e.jsx("textarea",{value:r.parq.q6_conditions_listed,onChange:p=>d("q6_conditions_listed",p.target.value),placeholder:"List bone, joint, or soft tissue problems...",rows:"2",className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-white !important focus:ring-red-500 focus:border-red-500",style:{fontFamily:"'Roboto', sans-serif"}})]})]}),e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg border border-gray-600",children:[e.jsx("label",{className:"block text-white !important font-medium mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"7. Has your doctor ever said that you should only do medically supervised physical activity?"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q7",value:"yes",checked:r.parq.q7_medical_supervision==="yes",onChange:p=>g("q7_medical_supervision",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"YES"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"q7",value:"no",checked:r.parq.q7_medical_supervision==="no",onChange:p=>g("q7_medical_supervision",p.target.value),className:"accent-red-600 h-4 w-4 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-white !important font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:"NO"})]})]})]})]}),P()&&e.jsx("div",{className:"parq-results",children:w()==="cleared"?e.jsxs("div",{className:"clearance-box cleared",children:[e.jsx("h4",{children:"✅ You are cleared for physical activity"}),e.jsx("p",{children:"All of your answers were NO. You can proceed with the program design."})]}):e.jsxs("div",{className:"clearance-box needs-clearance",children:[e.jsx("h4",{children:"⚠️ COMPLETE PAGES 2 AND 3"}),e.jsx("p",{children:"You answered YES to one or more questions. You should seek further information before becoming more physically active."}),e.jsx("p",{children:e.jsx("strong",{children:"Complete the ePARmed-X+ at www.eparmedx.com"})}),e.jsx("div",{className:"medical-clearance-option",children:e.jsxs("label",{className:"medical-clearance-label",children:[e.jsx("input",{type:"checkbox",checked:r.parq.medical_clearance_obtained,onChange:p=>g("medical_clearance_obtained",p.target.checked)}),"I have obtained medical clearance from my physician to participate in physical activity"]})})]})}),a&&e.jsxs("div",{className:"parq-followup-sections",children:[e.jsx("h4",{children:"FOLLOW-UP QUESTIONNAIRE SECTIONS"}),e.jsx("p",{className:"followup-note",children:"You answered YES to one or more questions. Complete the relevant sections below based on your conditions."}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("arthritis"),children:[e.jsx("h5",{children:"Arthritis, Osteoporosis, or Back Problems"}),e.jsx("span",{className:"toggle-icon",children:o.arthritis?"−":"+"})]}),o.arthritis&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have difficulty controlling your condition with medications or other physician-prescribed therapies?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"arthritis_control",value:"yes",onChange:p=>f("arthritis","control",p.target.value)}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"arthritis_control",value:"no",onChange:p=>f("arthritis","control",p.target.value)}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have joint problems causing pain, a recent fracture or fracture still healing, or a recent joint injury?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"arthritis_joint",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"arthritis_joint",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("cancer"),children:[e.jsx("h5",{children:"Cancer of any kind"}),e.jsx("span",{className:"toggle-icon",children:o.cancer?"−":"+"})]}),o.cancer&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Does your cancer diagnosis include any of the following types: lung/bronchogenic, multiple myeloma, head/neck?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"cancer_type",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"cancer_type",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Are you currently receiving cancer therapy (such as radiation or chemotherapy)?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"cancer_therapy",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"cancer_therapy",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("heart"),children:[e.jsx("h5",{children:"Heart or Cardiovascular Condition"}),e.jsx("span",{className:"toggle-icon",children:o.heart?"−":"+"})]}),o.heart&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have difficulty controlling your condition with medications or other physician-prescribed therapies?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"heart_control",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"heart_control",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have an irregular heart beat that requires medical management?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"heart_irregular",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"heart_irregular",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have chronic heart failure?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"heart_failure",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"heart_failure",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("blood_pressure"),children:[e.jsx("h5",{children:"High Blood Pressure"}),e.jsx("span",{className:"toggle-icon",children:o.blood_pressure?"−":"+"})]}),o.blood_pressure&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have difficulty controlling your condition with medications or other physician-prescribed therapies?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"bp_control",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"bp_control",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have a resting blood pressure equal to or greater than 160/90 mmHg with or without medication?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"bp_elevated",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"bp_elevated",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("metabolic"),children:[e.jsx("h5",{children:"Metabolic Conditions (Diabetes types)"}),e.jsx("span",{className:"toggle-icon",children:o.metabolic?"−":"+"})]}),o.metabolic&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you often have difficulty controlling your blood sugar levels with foods, medications, or other physician-prescribed therapies?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"diabetes_control",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"diabetes_control",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you often suffer from signs and symptoms of low blood sugar (hypoglycemia) following exercise and/or during activities of daily living?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"diabetes_hypoglycemia",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"diabetes_hypoglycemia",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("mental_health"),children:[e.jsx("h5",{children:"Mental Health Problems or Learning Difficulties"}),e.jsx("span",{className:"toggle-icon",children:o.mental_health?"−":"+"})]}),o.mental_health&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have difficulty controlling your condition with medications or other physician-prescribed therapies?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"mental_control",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"mental_control",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have Down Syndrome AND back problems affecting nerves or muscles?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"mental_downs",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"mental_downs",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("respiratory"),children:[e.jsx("h5",{children:"Respiratory Disease"}),e.jsx("span",{className:"toggle-icon",children:o.respiratory?"−":"+"})]}),o.respiratory&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have difficulty controlling your condition with medications or other physician-prescribed therapies?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"respiratory_control",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"respiratory_control",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Has your doctor ever said your blood oxygen level is low at rest or during exercise and/or that you require supplemental oxygen therapy?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"respiratory_oxygen",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"respiratory_oxygen",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("spinal_cord"),children:[e.jsx("h5",{children:"Spinal Cord Injury"}),e.jsx("span",{className:"toggle-icon",children:o.spinal_cord?"−":"+"})]}),o.spinal_cord&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have difficulty controlling your condition with medications or other physician-prescribed therapies?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"spinal_control",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"spinal_control",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you commonly exhibit low resting blood pressure significant enough to cause dizziness, light-headedness, and/or fainting?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"spinal_hypotension",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"spinal_hypotension",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("stroke"),children:[e.jsx("h5",{children:"Stroke"}),e.jsx("span",{className:"toggle-icon",children:o.stroke?"−":"+"})]}),o.stroke&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have difficulty controlling your condition with medications or other physician-prescribed therapies?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"stroke_control",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"stroke_control",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have any impairment in walking or mobility?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"stroke_mobility",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"stroke_mobility",value:"no"}),"NO"]})]})]})]})]}),e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"followup-header",onClick:()=>M("other"),children:[e.jsx("h5",{children:"Any other medical condition"}),e.jsx("span",{className:"toggle-icon",children:o.other?"−":"+"})]}),o.other&&e.jsxs("div",{className:"followup-content",children:[e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Have you had a blackout, fainted, or lost consciousness as a result of a head injury within the last 12 months OR have you had a diagnosed concussion within the last 12 months?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"other_concussion",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"other_concussion",value:"no"}),"NO"]})]})]}),e.jsxs("div",{className:"followup-question",children:[e.jsx("label",{children:"Do you have a medical condition that is not listed (such as epilepsy, neurological conditions, kidney problems)?"}),e.jsxs("div",{className:"parq-answers",children:[e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"other_unlisted",value:"yes"}),"YES"]}),e.jsxs("label",{className:"parq-answer",children:[e.jsx("input",{type:"radio",name:"other_unlisted",value:"no"}),"NO"]})]})]})]})]}),e.jsx("div",{className:"final-recommendation",children:e.jsxs("div",{className:"recommendation-box needs-medical",children:[e.jsx("h4",{children:"⚠️ RECOMMENDATION"}),e.jsxs("p",{children:["You should seek further information before becoming more physically active. Complete the ",e.jsx("strong",{children:"ePARmed-X+"})," at ",e.jsx("a",{href:"http://www.eparmedx.com",target:"_blank",rel:"noopener noreferrer",children:"www.eparmedx.com"})]})]})})]})]}),e.jsxs("div",{className:"content-card",children:[e.jsx("h3",{children:"Participant Declaration"}),e.jsx("p",{className:"declaration-text",children:"I acknowledge that I have read and completed this questionnaire. Any false or incomplete information may affect my ability to participate safely in physical activity."}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Participant Name *"}),e.jsx("input",{type:"text",value:r.declaration.participant_name,onChange:p=>x("participant_name",p.target.value),placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date *"}),e.jsx("input",{type:"date",value:r.declaration.date_signed,onChange:p=>x("date_signed",p.target.value)})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Signature (Type your name)"}),e.jsx("input",{type:"text",value:r.declaration.signature,onChange:p=>x("signature",p.target.value),placeholder:"Type your name as signature"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Witness (if applicable)"}),e.jsx("input",{type:"text",value:r.declaration.witness,onChange:p=>x("witness",p.target.value),placeholder:"Witness name (if required)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Parent/Guardian Signature (if under 18)"}),e.jsx("input",{type:"text",value:r.declaration.parent_guardian,onChange:p=>x("parent_guardian",p.target.value),placeholder:"Parent/Guardian signature (if applicable)"})]})]}),e.jsxs("div",{className:"content-card",children:[e.jsx("h3",{className:"text-xl font-bold text-white !important mb-4",style:{fontFamily:"'Roboto', sans-serif"},children:"Equipment & Training Environment"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-3 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Equipment Access * (Select all available)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.map(p=>e.jsxs("label",{className:"flex items-center space-x-2 font-medium text-white !important cursor-pointer p-2 hover:bg-gray-800 rounded",style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsx("input",{type:"checkbox",checked:r.equipmentAccess.includes(p),onChange:()=>v("equipmentAccess",p),className:"accent-red-600 h-4 w-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-500"}),e.jsx("span",{children:p})]},p))}),i.equipmentAccess&&e.jsx("p",{className:"text-red-500 text-sm mt-2",style:{fontFamily:"'Roboto', sans-serif"},children:i.equipmentAccess})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"font-medium text-white !important mb-2 block",style:{fontFamily:"'Roboto', sans-serif"},children:"Primary Training Location"}),e.jsxs("select",{value:r.trainingLocation,onChange:p=>C("trainingLocation",p.target.value),className:"w-full border border-gray-600 rounded-md p-2 bg-gray-800 text-white !important text-base leading-6 focus:ring-red-500 focus:border-red-500 transition-colors",style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsx("option",{value:"",children:"Select Location"}),e.jsx("option",{value:"commercial-gym",children:"Commercial Gym"}),e.jsx("option",{value:"home-gym",children:"Home Gym"}),e.jsx("option",{value:"outdoor",children:"Outdoor"}),e.jsx("option",{value:"mixed",children:"Mixed/Various"})]})]})]}),(i.parq||i.medical_clearance)&&e.jsxs("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4 mb-6",children:[i.parq&&e.jsx("p",{className:"text-red-200 text-sm mb-2",style:{fontFamily:"'Roboto', sans-serif"},children:i.parq}),i.medical_clearance&&e.jsx("p",{className:"text-red-200 text-sm",style:{fontFamily:"'Roboto', sans-serif"},children:i.medical_clearance})]})]}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx("form",{onSubmit:j,children:e.jsx("button",{type:"submit",className:`px-8 py-3 rounded-lg font-medium text-base transition-colors ${!T()||w()==="needs_medical"&&!r.parq.medical_clearance_obtained?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white !important"}`,style:{fontFamily:"'Roboto', sans-serif"},disabled:!T()||w()==="needs_medical"&&!r.parq.medical_clearance_obtained,children:T()?w()==="needs_medical"&&!r.parq.medical_clearance_obtained?"Medical Clearance Required":"Complete Intake → Step 2: Vitals & Body Measures":"Complete Required Fields"})})})]})},Qh=()=>{var j,P,w,T,p,R,_,W,y,N,O,L,V,Z,pe,je,Le,H,X,ae,me,fe;const{state:s,actions:t}=Me(),[i,n]=k.useState({restingHR_day1:"",restingHR_day2:"",restingHR_day3:"",averageRHR:"",systolicBP:"",diastolicBP:"",height:"",heightFeet:"",heightInches:"",heightUnit:"feet",weight:"",weightUnit:"lbs",bmi:"",waistCircumference:"",hipCircumference:"",whr:"",clientGender:"male",girths:{neck:"",chest:"",waist:"",hips:"",rightThigh:"",leftThigh:"",rightCalf:"",leftCalf:"",rightBicep:"",leftBicep:""},bodyFatPercentage:"",bodyFatMethod:"",leanBodyMass:"",assessmentMethods:{bioelectrical:!1,hydrostatic:!1,dexaScan:!1,skinfolds:!1,manual:!1},skinfolds:{chest:"",abdominal:"",thigh:"",tricep:"",subscapular:"",suprailiac:"",midaxillary:""},skinfoldMethod:"jackson-pollock-3",clientAge:"",restingMetabolism:"",hydrationStatus:"normal"}),[r,l]=k.useState([]),a=(F,Q)=>{n(le=>{const xe={...le,[F]:Q};return(F==="height"||F==="weight"||F==="heightUnit"||F==="weightUnit")&&(xe.bmi=x(xe)),F.includes("restingHR_day")&&(xe.averageRHR=c(xe)),(F==="waistCircumference"||F==="hipCircumference")&&(xe.whr=o(xe)),xe})},c=F=>{const Q=parseFloat(F.restingHR_day1)||0,le=parseFloat(F.restingHR_day2)||0,xe=parseFloat(F.restingHR_day3)||0,be=[Q,le,xe].filter(Ae=>Ae>0);return be.length===0?"":(be.reduce((Ae,we)=>Ae+we,0)/be.length).toFixed(0)},o=F=>{const Q=parseFloat(F.waistCircumference),le=parseFloat(F.hipCircumference);return!Q||!le?"":(Q/le).toFixed(2)},h=F=>{if(!F)return"";const Q=parseInt(F);return Q<60?{category:"Excellent",color:"#22c55e"}:Q<=70?{category:"Good",color:"#22c55e"}:Q<=80?{category:"Average",color:"#eab308"}:{category:"Poor",color:"#dc2626"}},m=(F,Q)=>{if(!F||!Q)return"";const le=parseInt(F),xe=parseInt(Q);return le>=140||xe>=90?{category:"Hypertensive",color:"#dc2626",warning:!0}:le>=120&&le<=135||xe>=80&&xe<=85?{category:"Prehypertensive",color:"#eab308",warning:!1}:le<120&&xe<80?{category:"Normal",color:"#22c55e",warning:!1}:{category:"Check values",color:"#6b7280",warning:!1}},u=F=>{if(!F)return"";const Q=parseFloat(F);return Q<18.5?{category:"Underweight",class:"below-average",color:"#eab308"}:Q<=24.9?{category:"Normal",class:"normal",color:"#22c55e"}:Q<=29.9?{category:"Overweight",class:"elevated",color:"#eab308"}:Q<=34.9?{category:"Obese Class I",class:"high",color:"#dc2626"}:Q<=39.9?{category:"Obese Class II",class:"very-high",color:"#dc2626"}:{category:"Obese Class III",class:"very-high",color:"#dc2626"}},b=(F,Q)=>{if(!F)return"";const le=parseFloat(F);return Q==="female"?le>.8?{risk:"High",class:"high-risk",color:"#dc2626"}:{risk:"Low",class:"low-risk",color:"#22c55e"}:le>.95?{risk:"High",class:"high-risk",color:"#dc2626"}:{risk:"Low",class:"low-risk",color:"#22c55e"}},C=(F,Q)=>{n(le=>({...le,girths:{...le.girths,[F]:Q}}))},A=(F,Q)=>{n(le=>({...le,assessmentMethods:{...le.assessmentMethods,[F]:Q}}))},q=(F,Q)=>{n(le=>{const xe={...le,skinfolds:{...le.skinfolds,[F]:Q}},be=g(xe.skinfolds,xe.clientAge,xe.clientGender,xe.skinfoldMethod);return be&&(xe.bodyFatPercentage=be,xe.bodyFatMethod="skinfolds"),xe})},g=(F,Q,le,xe)=>{const be=parseFloat(F.chest)||0,Te=parseFloat(F.abdominal)||0,Ae=parseFloat(F.thigh)||0,we=parseFloat(F.tricep)||0,I=parseFloat(F.subscapular)||0,$=parseFloat(F.suprailiac)||0,J=parseFloat(F.midaxillary)||0,re=parseInt(Q)||25;switch(xe){case"jackson-pollock-3":if(le==="male"){if(be&&Te&&Ae){const se=be+Te+Ae;return(495/(1.10938-8267e-7*se+16e-7*se*se-2574e-7*re)-450).toFixed(1)}}else if(we&&$&&Ae){const se=we+$+Ae;return(495/(1.0994921-9929e-7*se+23e-7*se*se-1392e-7*re)-450).toFixed(1)}break;case"jackson-pollock-7":if(le==="male"){if(be&&J&&we&&I&&Te&&$&&Ae){const se=be+J+we+I+Te+$+Ae;return(495/(1.112-43499e-8*se+55e-8*se*se-28826e-8*re)-450).toFixed(1)}}else if(be&&J&&we&&I&&Te&&$&&Ae){const se=be+J+we+I+Te+$+Ae;return(495/(1.097-46971e-8*se+56e-8*se*se-12828e-8*re)-450).toFixed(1)}break;case"durnin-womersley":if(we&&I&&$&&be){const se=we+I+$+be;let ee;return le==="male"?re<=19?ee=1.1533-.0643*Math.log10(se):re<=29?ee=1.1631-.0632*Math.log10(se):re<=39?ee=1.1422-.0544*Math.log10(se):re<=49?ee=1.162-.07*Math.log10(se):ee=1.1715-.0779*Math.log10(se):re<=19?ee=1.1549-.0678*Math.log10(se):re<=29?ee=1.1599-.0717*Math.log10(se):re<=39?ee=1.1423-.0632*Math.log10(se):re<=49?ee=1.1333-.0612*Math.log10(se):ee=1.1339-.0645*Math.log10(se),(495/ee-450).toFixed(1)}break;default:return null}return null},d=(F,Q,le)=>{switch(Q){case"jackson-pollock-3":return le==="male"?["chest","abdominal","thigh"].includes(F):["tricep","suprailiac","thigh"].includes(F);case"jackson-pollock-7":return["chest","midaxillary","tricep","subscapular","abdominal","suprailiac","thigh"].includes(F);case"durnin-womersley":return["tricep","subscapular","suprailiac","chest"].includes(F);default:return!1}},x=F=>{const{height:Q,heightFeet:le,heightInches:xe,weight:be,heightUnit:Te,weightUnit:Ae}=F;if(!be)return"";let we=0,I=parseFloat(be);if(Te==="feet"){if(!le&&!xe)return"";we=(parseFloat(le||0)*12+parseFloat(xe||0))*.0254}else if(Te==="inches"){if(!Q)return"";we=parseFloat(Q)*.0254}else if(Te==="cm"){if(!Q)return"";we=parseFloat(Q)/100}else if(Te==="meters"){if(!Q)return"";we=parseFloat(Q)}return we<=0?"":(Ae==="lbs"&&(I=I*.453592),(I/(we*we)).toFixed(1))},f=()=>{const F=[];if(i.averageRHR){const Q=parseInt(i.averageRHR);Q>100&&F.push("Elevated Resting Heart Rate (>100 bpm)"),Q<50&&F.push("Low Resting Heart Rate (<50 bpm)")}if(i.systolicBP&&i.diastolicBP){const Q=parseInt(i.systolicBP),le=parseInt(i.diastolicBP);Q>=140||le>=90?F.push("Hypertension Risk (≥140/90 mmHg) - Medical clearance recommended"):(Q>=120&&Q<=135||le>=80&&le<=85)&&F.push("Prehypertensive Blood Pressure (120-135/80-85 mmHg)")}if(i.bmi){const Q=parseFloat(i.bmi);Q<18.5&&F.push("Underweight (BMI <18.5)"),Q>=25&&Q<30&&F.push("Overweight (BMI 25-29.9)"),Q>=30&&F.push("Obese (BMI ≥30)")}if(i.whr){const Q=parseFloat(i.whr);i.clientGender==="female"&&Q>.8?F.push("Elevated WHR Risk - Female (>0.80)"):i.clientGender==="male"&&Q>.95&&F.push("Elevated WHR Risk - Male (>0.95)")}if(i.bodyFatPercentage){const Q=parseFloat(i.bodyFatPercentage);i.clientGender==="male"?(Q>25&&F.push("Elevated Body Fat Percentage - Male (>25%)"),Q<6&&F.push("Very Low Body Fat Percentage - Male (<6%)")):(Q>32&&F.push("Elevated Body Fat Percentage - Female (>32%)"),Q<16&&F.push("Very Low Body Fat Percentage - Female (<16%)"))}return F};k.useEffect(()=>{const F=f();l(F)},[i.averageRHR,i.systolicBP,i.diastolicBP,i.bmi,i.bodyFatPercentage,i.whr,i.clientGender]);const M=()=>{var be;const F=f(),Q={weight:i.weight,bmi:i.bmi,waistCircumference:i.waistCircumference,hipCircumference:i.hipCircumference,whr:i.whr,bodyFat:i.bodyFatPercentage,averageRHR:i.averageRHR,bloodPressure:`${i.systolicBP}/${i.diastolicBP}`},le={rhrClass:h(i.averageRHR),bpClass:m(i.systolicBP,i.diastolicBP),bmiClass:u(i.bmi),whrRisk:b(i.whr,i.clientGender)},xe=[];(be=le.bpClass)!=null&&be.warning&&xe.push("Hypertensive blood pressure - Medical clearance recommended"),F.some(Te=>Te.includes("Medical clearance"))&&xe.push("Additional risk factors identified requiring medical attention"),t.setVitalsData&&t.setVitalsData({vitals:{rhr:i.averageRHR,bp:{systolic:i.systolicBP,diastolic:i.diastolicBP},bmi:i.bmi,whr:i.whr,circumferences:i.girths,skinfolds:i.skinfolds,bodyFat:i.bodyFatPercentage},classifications:le,warnings:xe}),t.setAssessmentData({...s.assessmentData,step:2,vitalsData:i,riskFlags:F,trackingBaselines:Q,classifications:le,warnings:xe,timestamp:new Date().toISOString()}),t.setCurrentStep(3)},v=()=>(i.heightUnit==="feet"?i.heightFeet&&i.heightInches!=="":i.height)&&i.weight&&i.restingHR;return e.jsxs("div",{className:"nasm-vitals-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"Step 2: Baseline Vitals & Body Measures"}),e.jsx("p",{children:"Establish physiological baselines and identify risk factors"})]}),e.jsxs("div",{className:"vitals-sections",children:[e.jsxs("div",{className:"vitals-section",children:[e.jsx("h3",{children:"Vital Signs"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group rhr-tracking-group",children:[e.jsx("label",{children:"3-Day Resting Heart Rate Tracking *"}),e.jsx("p",{className:"instruction",children:"Take measurements on 3 consecutive mornings upon waking, before getting out of bed."}),e.jsxs("div",{className:"rhr-inputs",children:[e.jsxs("div",{className:"rhr-day",children:[e.jsx("label",{children:"Day 1 (bpm):"}),e.jsx("input",{type:"number",value:i.restingHR_day1,onChange:F=>a("restingHR_day1",F.target.value),placeholder:"60-100",min:"30",max:"220"})]}),e.jsxs("div",{className:"rhr-day",children:[e.jsx("label",{children:"Day 2 (bpm):"}),e.jsx("input",{type:"number",value:i.restingHR_day2,onChange:F=>a("restingHR_day2",F.target.value),placeholder:"60-100",min:"30",max:"220"})]}),e.jsxs("div",{className:"rhr-day",children:[e.jsx("label",{children:"Day 3 (bpm):"}),e.jsx("input",{type:"number",value:i.restingHR_day3,onChange:F=>a("restingHR_day3",F.target.value),placeholder:"60-100",min:"30",max:"220"})]})]}),i.averageRHR>0&&e.jsxs("div",{className:"rhr-summary",children:[e.jsxs("div",{className:"average-display",children:[e.jsxs("strong",{children:["Average RHR: ",i.averageRHR," bpm"]}),e.jsx("span",{className:`classification ${((j=h(i.averageRHR))==null?void 0:j.class)||""}`,children:(P=h(i.averageRHR))==null?void 0:P.label})]}),((w=h(i.averageRHR))==null?void 0:w.warning)&&e.jsxs("div",{className:"warning-text",children:["⚠️ ",h(i.averageRHR).warning]})]})]}),e.jsxs("div",{className:"form-group bp-group",children:[e.jsx("label",{children:"Blood Pressure (mmHg)"}),e.jsxs("div",{className:"bp-inputs",children:[e.jsxs("div",{className:"bp-input",children:[e.jsx("label",{children:"Systolic:"}),e.jsx("input",{type:"number",value:i.systolicBP,onChange:F=>a("systolicBP",F.target.value),placeholder:"120",min:"80",max:"200"})]}),e.jsx("span",{className:"bp-divider",children:"/"}),e.jsxs("div",{className:"bp-input",children:[e.jsx("label",{children:"Diastolic:"}),e.jsx("input",{type:"number",value:i.diastolicBP,onChange:F=>a("diastolicBP",F.target.value),placeholder:"80",min:"50",max:"120"})]})]}),i.systolicBP>0&&i.diastolicBP>0&&e.jsxs("div",{className:"bp-classification",children:[e.jsxs("div",{className:"bp-reading",children:[e.jsxs("strong",{children:["BP: ",i.systolicBP,"/",i.diastolicBP," mmHg"]}),e.jsx("span",{className:`classification ${((T=m(i.systolicBP,i.diastolicBP))==null?void 0:T.class)||""}`,children:(p=m(i.systolicBP,i.diastolicBP))==null?void 0:p.category})]}),((R=m(i.systolicBP,i.diastolicBP))==null?void 0:R.warning)&&e.jsxs("div",{className:"warning-text",children:["⚠️ ",m(i.systolicBP,i.diastolicBP).warning]})]})]})]})]}),e.jsxs("div",{className:"vitals-section",children:[e.jsx("h3",{children:"Body Measurements"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Height *"}),e.jsxs("div",{className:"height-input-container",children:[i.heightUnit==="feet"?e.jsxs("div",{className:"feet-inches-input",children:[e.jsxs("div",{className:"feet-input",children:[e.jsx("label",{children:"Feet:"}),e.jsxs("select",{value:i.heightFeet,onChange:F=>a("heightFeet",F.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select feet"}),e.jsx("option",{value:"3",children:"3 ft"}),e.jsx("option",{value:"4",children:"4 ft"}),e.jsx("option",{value:"5",children:"5 ft"}),e.jsx("option",{value:"6",children:"6 ft"}),e.jsx("option",{value:"7",children:"7 ft"}),e.jsx("option",{value:"8",children:"8 ft"})]})]}),e.jsxs("div",{className:"inches-input",children:[e.jsx("label",{children:"Inches:"}),e.jsxs("select",{value:i.heightInches,onChange:F=>a("heightInches",F.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select inches"}),e.jsx("option",{value:"0",children:"0 in"}),e.jsx("option",{value:"1",children:"1 in"}),e.jsx("option",{value:"2",children:"2 in"}),e.jsx("option",{value:"3",children:"3 in"}),e.jsx("option",{value:"4",children:"4 in"}),e.jsx("option",{value:"5",children:"5 in"}),e.jsx("option",{value:"6",children:"6 in"}),e.jsx("option",{value:"7",children:"7 in"}),e.jsx("option",{value:"8",children:"8 in"}),e.jsx("option",{value:"9",children:"9 in"}),e.jsx("option",{value:"10",children:"10 in"}),e.jsx("option",{value:"11",children:"11 in"})]})]})]}):e.jsx("div",{className:"single-height-input",children:e.jsx("input",{type:"number",value:i.height,onChange:F=>a("height",F.target.value),placeholder:i.heightUnit==="inches"?"70":i.heightUnit==="cm"?"178":"1.78",step:"0.1",required:!0})}),e.jsxs("select",{value:i.heightUnit,onChange:F=>a("heightUnit",F.target.value),className:"height-unit-select",children:[e.jsx("option",{value:"feet",children:"feet & inches"}),e.jsx("option",{value:"inches",children:"inches"}),e.jsx("option",{value:"cm",children:"cm"}),e.jsx("option",{value:"meters",children:"meters"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weight *"}),e.jsxs("div",{className:"measurement-input",children:[e.jsx("input",{type:"number",value:i.weight,onChange:F=>a("weight",F.target.value),placeholder:"Weight",step:"0.1",required:!0}),e.jsxs("select",{value:i.weightUnit,onChange:F=>a("weightUnit",F.target.value),children:[e.jsx("option",{value:"lbs",children:"lbs"}),e.jsx("option",{value:"kg",children:"kg"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BMI & Health Metrics"}),e.jsxs("div",{className:"health-metrics",children:[e.jsxs("div",{className:"bmi-display",children:[e.jsx("span",{className:"metric-label",children:"BMI:"}),e.jsx("span",{className:"metric-value",children:i.bmi||"—"}),i.bmi&&e.jsx("span",{className:`classification ${((_=u(i.bmi))==null?void 0:_.class)||""}`,children:(W=u(i.bmi))==null?void 0:W.category})]}),i.waistCircumference>0&&i.hipCircumference>0&&e.jsxs("div",{className:"whr-display",children:[e.jsx("span",{className:"metric-label",children:"WHR:"}),e.jsx("span",{className:"metric-value",children:i.whr}),e.jsx("span",{className:`classification ${((y=b(i.whr,i.clientGender))==null?void 0:y.class)||""}`,children:(N=b(i.whr,i.clientGender))==null?void 0:N.risk})]})]})]})]})]}),e.jsxs("div",{className:"vitals-section",children:[e.jsx("h3",{children:"Girth Measurements (inches)"}),e.jsx("p",{className:"section-note",children:"Take measurements at standardized anatomical landmarks"}),e.jsxs("div",{className:"girths-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Neck"}),e.jsx("input",{type:"number",value:i.girths.neck,onChange:F=>C("neck",F.target.value),placeholder:"Neck circumference",step:"0.1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Chest"}),e.jsx("input",{type:"number",value:i.girths.chest,onChange:F=>C("chest",F.target.value),placeholder:"Chest circumference",step:"0.1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Waist * (for WHR)"}),e.jsx("input",{type:"number",value:i.waistCircumference,onChange:F=>a("waistCircumference",F.target.value),placeholder:"Waist circumference",step:"0.1",required:!0}),e.jsx("small",{children:"Narrowest point of torso"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hips * (for WHR)"}),e.jsx("input",{type:"number",value:i.hipCircumference,onChange:F=>a("hipCircumference",F.target.value),placeholder:"Hip circumference",step:"0.1",required:!0}),e.jsx("small",{children:"Widest point of hips"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Waist (Alternative)"}),e.jsx("input",{type:"number",value:i.girths.waist,onChange:F=>C("waist",F.target.value),placeholder:"Waist circumference",step:"0.1"}),e.jsx("small",{children:"Additional measurement point"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hips (Alternative)"}),e.jsx("input",{type:"number",value:i.girths.hips,onChange:F=>C("hips",F.target.value),placeholder:"Hip circumference",step:"0.1"}),e.jsx("small",{children:"Additional measurement point"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Right Arm"}),e.jsx("input",{type:"number",value:i.girths.rightArm,onChange:F=>C("rightArm",F.target.value),placeholder:"Right arm circumference",step:"0.1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Left Arm"}),e.jsx("input",{type:"number",value:i.girths.leftArm,onChange:F=>C("leftArm",F.target.value),placeholder:"Left arm circumference",step:"0.1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Right Thigh"}),e.jsx("input",{type:"number",value:i.girths.rightThigh,onChange:F=>C("rightThigh",F.target.value),placeholder:"Right thigh circumference",step:"0.1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Left Thigh"}),e.jsx("input",{type:"number",value:i.girths.leftThigh,onChange:F=>C("leftThigh",F.target.value),placeholder:"Left thigh circumference",step:"0.1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Right Calf"}),e.jsx("input",{type:"number",value:i.girths.rightCalf,onChange:F=>C("rightCalf",F.target.value),placeholder:"Right calf circumference",step:"0.1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Left Calf"}),e.jsx("input",{type:"number",value:i.girths.leftCalf,onChange:F=>C("leftCalf",F.target.value),placeholder:"Left calf circumference",step:"0.1"})]})]})]}),e.jsxs("div",{className:"vitals-section",children:[e.jsx("h3",{children:"Body Composition (Optional)"}),e.jsx("p",{className:"section-note",children:"Select assessment methods you want to use"}),e.jsxs("div",{className:"assessment-methods",children:[e.jsx("h4",{children:"Assessment Methods"}),e.jsxs("div",{className:"checkbox-grid",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:i.assessmentMethods.bioelectrical,onChange:F=>A("bioelectrical",F.target.checked)}),e.jsx("span",{className:"checkmark"}),"Bioelectrical Impedance"]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:i.assessmentMethods.hydrostatic,onChange:F=>A("hydrostatic",F.target.checked)}),e.jsx("span",{className:"checkmark"}),"Hydrostatic Weighing"]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:i.assessmentMethods.dexaScan,onChange:F=>A("dexaScan",F.target.checked)}),e.jsx("span",{className:"checkmark"}),"DEXA Scan"]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:i.assessmentMethods.skinfolds,onChange:F=>A("skinfolds",F.target.checked)}),e.jsx("span",{className:"checkmark"}),"Skinfold Calipers"]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:i.assessmentMethods.manual,onChange:F=>A("manual",F.target.checked)}),e.jsx("span",{className:"checkmark"}),"Manual Entry"]})]})]}),i.assessmentMethods.manual&&e.jsx("div",{className:"manual-entry-section",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Body Fat Percentage"}),e.jsx("input",{type:"number",value:i.bodyFatPercentage,onChange:F=>a("bodyFatPercentage",F.target.value),placeholder:"% body fat",step:"0.1",min:"3",max:"50"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assessment Method Used"}),e.jsx("input",{type:"text",value:i.bodyFatMethod,onChange:F=>a("bodyFatMethod",F.target.value),placeholder:"e.g., Visual estimation, Previous test"})]})]})})]}),i.assessmentMethods.skinfolds&&e.jsxs("div",{className:"vitals-section",children:[e.jsx("h3",{children:"Skinfold Caliper Assessment"}),e.jsx("p",{className:"section-note",children:"Professional skinfold measurement for body fat percentage calculation"}),e.jsxs("div",{className:"form-row demographics-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Client Age *"}),e.jsx("input",{type:"number",value:i.clientAge,onChange:F=>a("clientAge",F.target.value),placeholder:"Age in years",min:"18",max:"80"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Client Gender *"}),e.jsxs("select",{value:i.clientGender,onChange:F=>a("clientGender",F.target.value),children:[e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"skinfold-table",children:[e.jsx("h4",{children:"Skinfold Caliper Body Composition Assessment"}),e.jsxs("div",{className:"reference-diagram",children:[e.jsx("h5",{children:"📋 Measurement Site Reference"}),e.jsxs("div",{className:"diagram-container",children:[e.jsxs("div",{className:"placeholder-image",children:[e.jsx("p",{children:"📊 Place your skinfold diagram image here"}),e.jsx("p",{children:e.jsx("em",{children:"Save as: src/assets/images/skinfold-diagram-male.png"})}),e.jsx("p",{children:e.jsx("em",{children:"Then uncomment the img tag above and the import statement"})})]}),e.jsx("p",{className:"diagram-caption",children:"Reference diagram showing all 7 skinfold measurement sites. Use this visual guide alongside the detailed location descriptions below."})]})]}),e.jsxs("div",{className:"method-selection",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Skinfold Calculation Method *"}),e.jsxs("select",{value:i.skinfoldMethod,onChange:F=>a("skinfoldMethod",F.target.value),className:"method-selector",children:[e.jsx("option",{value:"jackson-pollock-3",children:"Jackson-Pollock 3-Site (Most Common)"}),e.jsx("option",{value:"jackson-pollock-7",children:"Jackson-Pollock 7-Site (Most Accurate)"}),e.jsx("option",{value:"durnin-womersley",children:"Durnin-Womersley 4-Site (Alternative)"})]})]}),e.jsxs("div",{className:"method-info",children:[i.skinfoldMethod==="jackson-pollock-3"&&e.jsxs("div",{className:"method-description",children:[e.jsx("strong",{children:"3-Site Method:"})," Uses 3 measurements for quick assessment.",e.jsx("br",{}),"Male: Chest, Abdominal, Thigh | Female: Tricep, Suprailiac, Thigh"]}),i.skinfoldMethod==="jackson-pollock-7"&&e.jsxs("div",{className:"method-description",children:[e.jsx("strong",{children:"7-Site Method:"})," Uses all 7 measurements for highest accuracy.",e.jsx("br",{}),"Both: Chest, Midaxillary, Tricep, Subscapular, Abdominal, Suprailiac, Thigh"]}),i.skinfoldMethod==="durnin-womersley"&&e.jsxs("div",{className:"method-description",children:[e.jsx("strong",{children:"Durnin-Womersley Method:"})," Age-specific equations using 4 sites.",e.jsx("br",{}),"Both: Tricep, Subscapular, Suprailiac, Chest (as bicep substitute)"]})]})]}),e.jsx("div",{className:"measurement-instructions",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Instructions:"})," Take measurements on the right side of the body. Pinch skin fold, apply calipers 1cm away from fingers, read after 2 seconds."]})}),e.jsxs("table",{className:"skinfold-measurements-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Site"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Measurement (mm)"}),e.jsx("th",{children:"Required for"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:d("chest",i.skinfoldMethod,i.clientGender)?"required-measurement":"",children:[e.jsx("td",{children:e.jsx("strong",{children:"Chest"})}),e.jsx("td",{children:e.jsx("div",{className:"measurement-description",children:"Diagonal fold halfway between anterior axillary line and nipple"})}),e.jsx("td",{children:e.jsx("input",{type:"number",value:i.skinfolds.chest,onChange:F=>q("chest",F.target.value),placeholder:"mm",step:"0.5",min:"0",max:"50",className:"skinfold-input"})}),e.jsx("td",{children:d("chest",i.skinfoldMethod,i.clientGender)?e.jsx("span",{className:"required-indicator",children:"Required"}):e.jsx("span",{className:"optional-indicator",children:"Optional"})})]}),e.jsxs("tr",{className:d("abdominal",i.skinfoldMethod,i.clientGender)?"required-measurement":"",children:[e.jsx("td",{children:e.jsx("strong",{children:"Abdominal"})}),e.jsx("td",{children:e.jsx("div",{className:"measurement-description",children:"Vertical fold 2cm to the right of the umbilicus"})}),e.jsx("td",{children:e.jsx("input",{type:"number",value:i.skinfolds.abdominal,onChange:F=>q("abdominal",F.target.value),placeholder:"mm",step:"0.5",min:"0",max:"50",className:"skinfold-input"})}),e.jsx("td",{children:d("abdominal",i.skinfoldMethod,i.clientGender)?e.jsx("span",{className:"required-indicator",children:"Required"}):e.jsx("span",{className:"optional-indicator",children:"Optional"})})]}),e.jsxs("tr",{className:d("thigh",i.skinfoldMethod,i.clientGender)?"required-measurement":"",children:[e.jsx("td",{children:e.jsx("strong",{children:"Thigh"})}),e.jsx("td",{children:e.jsx("div",{className:"measurement-description",children:"Vertical fold on anterior thigh midway between inguinal crease and top of patella"})}),e.jsx("td",{children:e.jsx("input",{type:"number",value:i.skinfolds.thigh,onChange:F=>q("thigh",F.target.value),placeholder:"mm",step:"0.5",min:"0",max:"50",className:"skinfold-input"})}),e.jsx("td",{children:d("thigh",i.skinfoldMethod,i.clientGender)?e.jsx("span",{className:"required-indicator",children:"Required"}):e.jsx("span",{className:"optional-indicator",children:"Optional"})})]}),e.jsxs("tr",{className:d("tricep",i.skinfoldMethod,i.clientGender)?"required-measurement":"",children:[e.jsx("td",{children:e.jsx("strong",{children:"Tricep"})}),e.jsx("td",{children:e.jsx("div",{className:"measurement-description",children:"Vertical fold on posterior midline of upper arm, halfway between acromion and olecranon"})}),e.jsx("td",{children:e.jsx("input",{type:"number",value:i.skinfolds.tricep,onChange:F=>q("tricep",F.target.value),placeholder:"mm",step:"0.5",min:"0",max:"50",className:"skinfold-input"})}),e.jsx("td",{children:d("tricep",i.skinfoldMethod,i.clientGender)?e.jsx("span",{className:"required-indicator",children:"Required"}):e.jsx("span",{className:"optional-indicator",children:"Optional"})})]}),e.jsxs("tr",{className:d("subscapular",i.skinfoldMethod,i.clientGender)?"required-measurement":"",children:[e.jsx("td",{children:e.jsx("strong",{children:"Subscapular"})}),e.jsx("td",{children:e.jsx("div",{className:"measurement-description",children:"Diagonal fold below inferior angle of scapula"})}),e.jsx("td",{children:e.jsx("input",{type:"number",value:i.skinfolds.subscapular,onChange:F=>q("subscapular",F.target.value),placeholder:"mm",step:"0.5",min:"0",max:"50",className:"skinfold-input"})}),e.jsx("td",{children:d("subscapular",i.skinfoldMethod,i.clientGender)?e.jsx("span",{className:"required-indicator",children:"Required"}):e.jsx("span",{className:"optional-indicator",children:"Optional"})})]}),e.jsxs("tr",{className:d("suprailiac",i.skinfoldMethod,i.clientGender)?"required-measurement":"",children:[e.jsx("td",{children:e.jsx("strong",{children:"Suprailiac"})}),e.jsx("td",{children:e.jsx("div",{className:"measurement-description",children:"Diagonal fold above iliac crest at anterior axillary line"})}),e.jsx("td",{children:e.jsx("input",{type:"number",value:i.skinfolds.suprailiac,onChange:F=>q("suprailiac",F.target.value),placeholder:"mm",step:"0.5",min:"0",max:"50",className:"skinfold-input"})}),e.jsx("td",{children:d("suprailiac",i.skinfoldMethod,i.clientGender)?e.jsx("span",{className:"required-indicator",children:"Required"}):e.jsx("span",{className:"optional-indicator",children:"Optional"})})]}),e.jsxs("tr",{className:d("midaxillary",i.skinfoldMethod,i.clientGender)?"required-measurement":"",children:[e.jsx("td",{children:e.jsx("strong",{children:"Midaxillary"})}),e.jsx("td",{children:e.jsx("div",{className:"measurement-description",children:"Horizontal fold at xiphoid process level along midaxillary line"})}),e.jsx("td",{children:e.jsx("input",{type:"number",value:i.skinfolds.midaxillary,onChange:F=>q("midaxillary",F.target.value),placeholder:"mm",step:"0.5",min:"0",max:"50",className:"skinfold-input"})}),e.jsx("td",{children:d("midaxillary",i.skinfoldMethod,i.clientGender)?e.jsx("span",{className:"required-indicator",children:"Required"}):e.jsx("span",{className:"optional-indicator",children:"Optional"})})]})]})]}),i.bodyFatPercentage&&i.bodyFatMethod==="skinfolds"&&e.jsxs("div",{className:"calculation-results",children:[e.jsx("h4",{children:"📊 Calculation Results"}),e.jsxs("div",{className:"results-grid",children:[e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Body Fat Percentage:"}),e.jsxs("span",{className:"result-value",children:[i.bodyFatPercentage,"%"]})]}),e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Method:"}),e.jsxs("span",{className:"result-value",children:[i.skinfoldMethod==="jackson-pollock-3"&&`Jackson-Pollock 3-site (${i.clientGender==="male"?"Chest/Abdominal/Thigh":"Tricep/Suprailiac/Thigh"})`,i.skinfoldMethod==="jackson-pollock-7"&&"Jackson-Pollock 7-site (All measurements)",i.skinfoldMethod==="durnin-womersley"&&"Durnin-Womersley 4-site"]})]}),i.weight&&e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Estimated Fat Mass:"}),e.jsxs("span",{className:"result-value",children:[(parseFloat(i.bodyFatPercentage)/100*parseFloat(i.weight)).toFixed(1)," ",i.weightUnit]})]}),i.weight&&e.jsxs("div",{className:"result-item",children:[e.jsx("span",{className:"result-label",children:"Estimated Lean Mass:"}),e.jsxs("span",{className:"result-value",children:[(parseFloat(i.weight)-parseFloat(i.bodyFatPercentage)/100*parseFloat(i.weight)).toFixed(1)," ",i.weightUnit]})]})]})]}),e.jsxs("div",{className:"protocol-indicator",children:[e.jsxs("h5",{children:["Current Protocol: ",i.clientGender==="male"?"Male":"Female"," 3-Site"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Required measurements:"})," "," ",i.clientGender==="male"?"Chest, Abdominal, Thigh":"Tricep, Suprailiac, Thigh"]})]})]})]}),r.length>0&&e.jsxs("div",{className:"risk-flags",children:[e.jsx("h4",{children:"⚠️ Risk Flags Identified:"}),e.jsx("ul",{children:r.map((F,Q)=>e.jsx("li",{className:"risk-flag",children:F},Q))}),e.jsx("p",{className:"risk-note",children:"These flags will inform exercise modifications and monitoring protocols."})]})]}),(i.averageRHR>0||i.bmi>0||i.systolicBP>0&&i.diastolicBP>0)&&e.jsxs("div",{className:"vitals-section",children:[e.jsx("h3",{children:"Vitals Summary & Classifications"}),e.jsxs("div",{className:"summary-grid",children:[i.averageRHR>0&&e.jsxs("div",{className:"summary-item",children:[e.jsx("div",{className:"summary-label",children:"Average Resting HR:"}),e.jsxs("div",{className:"summary-value",children:[e.jsxs("span",{className:"value",children:[i.averageRHR," bpm"]}),e.jsx("span",{className:`classification ${((O=h(i.averageRHR))==null?void 0:O.class)||""}`,children:(L=h(i.averageRHR))==null?void 0:L.label})]})]}),i.systolicBP>0&&i.diastolicBP>0&&e.jsxs("div",{className:"summary-item",children:[e.jsx("div",{className:"summary-label",children:"Blood Pressure:"}),e.jsxs("div",{className:"summary-value",children:[e.jsxs("span",{className:"value",children:[i.systolicBP,"/",i.diastolicBP," mmHg"]}),e.jsx("span",{className:`classification ${((V=m(i.systolicBP,i.diastolicBP))==null?void 0:V.class)||""}`,children:(Z=m(i.systolicBP,i.diastolicBP))==null?void 0:Z.category})]})]}),i.bmi>0&&e.jsxs("div",{className:"summary-item",children:[e.jsx("div",{className:"summary-label",children:"BMI:"}),e.jsxs("div",{className:"summary-value",children:[e.jsx("span",{className:"value",children:i.bmi}),e.jsx("span",{className:`classification ${((pe=u(i.bmi))==null?void 0:pe.class)||""}`,children:(je=u(i.bmi))==null?void 0:je.category})]})]}),i.whr>0&&e.jsxs("div",{className:"summary-item",children:[e.jsx("div",{className:"summary-label",children:"Waist-Hip Ratio:"}),e.jsxs("div",{className:"summary-value",children:[e.jsx("span",{className:"value",children:i.whr}),e.jsxs("span",{className:`classification ${((Le=b(i.whr,i.clientGender))==null?void 0:Le.class)||""}`,children:[(H=b(i.whr,i.clientGender))==null?void 0:H.risk," Risk"]})]})]})]}),(((X=m(i.systolicBP,i.diastolicBP))==null?void 0:X.warning)||((ae=h(i.averageRHR))==null?void 0:ae.warning))&&e.jsxs("div",{className:"medical-warnings",children:[e.jsx("h4",{children:"⚠️ Medical Attention Recommended"}),((me=m(i.systolicBP,i.diastolicBP))==null?void 0:me.warning)&&e.jsxs("div",{className:"warning-item",children:["• ",m(i.systolicBP,i.diastolicBP).warning]}),((fe=h(i.averageRHR))==null?void 0:fe.warning)&&e.jsxs("div",{className:"warning-item",children:["• ",h(i.averageRHR).warning]})]})]}),e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"back-button",onClick:()=>t.setCurrentStep(1),children:"← Back to Intake"}),e.jsx("button",{className:"next-button",onClick:M,disabled:!v(),children:"Complete Vitals → Step 3: Static Posture"})]}),e.jsx("style",{jsx:!0,children:`
                .nasm-vitals-step {
                    padding: 20px;
                    max-width: 900px;
                    margin: 0 auto;
                    background: #111827;
                    color: #f9fafb;
                    border-radius: 8px;
                }

                .step-header {
                    text-align: center;
                    margin-bottom: 30px;
                }

                .step-header h2 {
                    color: #dc2626;
                    margin-bottom: 10px;
                    font-size: 1.8em;
                }

                .step-header p {
                    color: #d1d5db;
                }

                .vitals-sections {
                    display: flex;
                    flex-direction: column;
                    gap: 30px;
                }

                .vitals-section {
                    background: #1f2937;
                    padding: 20px;
                    border-radius: 8px;
                    border-left: 4px solid #dc2626;
                    border: 1px solid #374151;
                }

                .vitals-section h3 {
                    color: #dc2626;
                    margin-bottom: 15px;
                    font-size: 1.2em;
                }

                .section-note {
                    color: #9ca3af;
                    font-style: italic;
                    margin-bottom: 15px;
                }

                .form-group {
                    margin-bottom: 15px;
                }

                .form-row {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 15px;
                }

                .girths-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                    gap: 15px;
                }

                .form-group label {
                    display: block;
                    margin-bottom: 5px;
                    font-weight: 600;
                    color: #f9fafb;
                }

                .form-group input,
                .form-group select {
                    width: 100%;
                    padding: 8px 12px;
                    border: 1px solid #4b5563;
                    border-radius: 4px;
                    font-size: 14px;
                    background: #374151;
                    color: #f9fafb;
                }

                .form-group input:focus,
                .form-group select:focus {
                    outline: none;
                    border-color: #dc2626;
                    box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);
                }

                .measurement-input {
                    display: flex;
                    gap: 8px;
                }

                .measurement-input input {
                    flex: 2;
                }

                .measurement-input select {
                    flex: 1;
                }

                /* Height Input Styles */
                .height-input-container {
                    display: flex;
                    gap: 12px;
                    align-items: center;
                }

                .feet-inches-input {
                    display: flex;
                    gap: 12px;
                    flex: 2;
                }

                .feet-input, .inches-input {
                    display: flex;
                    flex-direction: column;
                    gap: 4px;
                    flex: 1;
                    min-width: 80px;
                }

                .feet-input select, .inches-input select {
                    width: 100%;
                    padding: 8px 12px;
                    border: 1px solid #4b5563;
                    border-radius: 4px;
                    font-size: 14px;
                    background: #374151;
                    color: #f9fafb;
                    min-height: 40px;
                }

                .feet-input select:focus, .inches-input select:focus {
                    outline: none;
                    border-color: #dc2626;
                    box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);
                }

                .feet-input label, .inches-input label {
                    font-size: 12px;
                    color: #d1d5db;
                    font-weight: 500;
                    margin-bottom: 4px;
                }

                .single-height-input {
                    flex: 2;
                }

                .single-height-input input {
                    width: 100%;
                    padding: 8px 12px;
                    border: 1px solid #4b5563;
                    border-radius: 4px;
                    font-size: 14px;
                    background: #374151;
                    color: #f9fafb;
                }

                .height-unit-select {
                    flex: 1;
                    min-width: 120px;
                }

                .bmi-display {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 8px 12px;
                    background: #374151;
                    border-radius: 4px;
                    border: 1px solid #4b5563;
                }

                .bmi-value {
                    font-size: 18px;
                    font-weight: bold;
                    color: #f9fafb;
                }

                .bmi-category {
                    color: #d1d5db;
                    font-size: 14px;
                }

                .risk-flags {
                    background: #451a03;
                    border: 1px solid #dc2626;
                    border-radius: 8px;
                    padding: 15px;
                    margin: 20px 0;
                }

                .risk-flags h4 {
                    margin: 0 0 10px 0;
                    color: #fbbf24;
                }

                .risk-flags ul {
                    margin: 10px 0;
                    padding-left: 20px;
                }

                .risk-flag {
                    color: #fca5a5;
                    font-weight: 500;
                    margin-bottom: 5px;
                }

                .risk-note {
                    color: #fbbf24;
                    font-size: 14px;
                    margin: 10px 0 0 0;
                }

                .step-navigation {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-top: 30px;
                }

                .back-button {
                    background: #4b5563;
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 6px;
                    font-size: 14px;
                    cursor: pointer;
                    transition: background-color 0.2s;
                }

                .back-button:hover {
                    background: #374151;
                }

                .next-button {
                    background: #dc2626;
                    color: white;
                    border: none;
                    padding: 12px 24px;
                    border-radius: 6px;
                    font-size: 16px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s;
                }

                .next-button:hover:not(:disabled) {
                    background: #b91c1c;
                    transform: translateY(-1px);
                }

                .next-button:disabled {
                    background: #4b5563;
                    cursor: not-allowed;
                    transform: none;
                }

                /* Assessment Method Checkboxes */
                .assessment-methods {
                    background: #1f2937;
                    border: 2px solid #dc2626;
                    border-radius: 8px;
                    padding: 20px;
                    margin-bottom: 20px;
                }

                .assessment-methods h4 {
                    color: #dc2626;
                    margin: 0 0 15px 0;
                    font-size: 16px;
                    font-weight: 600;
                }

                .checkbox-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 15px;
                }

                .checkbox-item {
                    display: flex;
                    align-items: center;
                    cursor: pointer;
                    padding: 10px;
                    border-radius: 6px;
                    transition: background-color 0.2s;
                    color: #f9fafb;
                    font-weight: 500;
                }

                .checkbox-item:hover {
                    background: #374151;
                }

                .checkbox-item input[type="checkbox"] {
                    display: none;
                }

                .checkmark {
                    width: 20px;
                    height: 20px;
                    border: 2px solid #dc2626;
                    border-radius: 4px;
                    margin-right: 10px;
                    position: relative;
                    background: #374151;
                }

                .checkbox-item input[type="checkbox"]:checked + .checkmark {
                    background: #dc2626;
                }

                .checkbox-item input[type="checkbox"]:checked + .checkmark::after {
                    content: '✓';
                    position: absolute;
                    left: 3px;
                    top: -2px;
                    color: white;
                    font-weight: bold;
                    font-size: 14px;
                }

                .manual-entry-section {
                    background: #374151;
                    border: 1px solid #4b5563;
                    border-radius: 6px;
                    padding: 15px;
                    margin-top: 15px;
                }

                /* Skinfold Caliper Styles - Red, White, Black Theme */
                .demographics-row {
                    background: #374151;
                    padding: 15px;
                    border-radius: 6px;
                    margin-bottom: 20px;
                    border: 1px solid #4b5563;
                }

                .skinfold-table {
                    margin-top: 20px;
                }

                .skinfold-table h4 {
                    color: #dc2626;
                    margin-bottom: 20px;
                    font-size: 18px;
                }

                /* Reference Diagram Styles */
                .reference-diagram {
                    background: #451a03;
                    border: 2px solid #dc2626;
                    border-radius: 8px;
                    padding: 20px;
                    margin-bottom: 25px;
                    text-align: center;
                }

                .reference-diagram h5 {
                    color: #fbbf24;
                    margin: 0 0 15px 0;
                    font-size: 16px;
                }

                .diagram-container {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 15px;
                }

                .skinfold-reference-image {
                    max-width: 100%;
                    height: auto;
                    max-height: 500px;
                    border: 2px solid #d1d5db;
                    border-radius: 8px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    background: white;
                }

                .placeholder-image {
                    background: #f9fafb;
                    border: 2px dashed #d1d5db;
                    border-radius: 8px;
                    padding: 40px 20px;
                    color: #6b7280;
                    font-style: italic;
                }

                .placeholder-image p {
                    margin: 5px 0;
                }

                .diagram-caption {
                    color: #78350f;
                    font-size: 14px;
                    font-style: italic;
                    margin: 0;
                    max-width: 500px;
                }

                .method-selection {
                    background: white;
                    padding: 20px;
                    border-radius: 8px;
                    margin-bottom: 20px;
                    border: 2px solid #dc2626;
                }

                .method-selector {
                    font-size: 16px;
                    font-weight: 500;
                    padding: 10px 12px;
                    background: white;
                    border: 2px solid #dc2626;
                    border-radius: 6px;
                    color: #1f2937;
                }

                .method-info {
                    margin-top: 15px;
                    padding: 12px;
                    background: #f9fafb;
                    border-radius: 6px;
                    border-left: 4px solid #dc2626;
                }

                .method-description {
                    color: #374151;
                    font-size: 14px;
                    line-height: 1.5;
                }

                .method-description strong {
                    color: #dc2626;
                }

                .measurement-instructions {
                    background: #fef2f2;
                    border-left: 4px solid #dc2626;
                    padding: 12px 16px;
                    margin-bottom: 20px;
                    border-radius: 4px;
                }

                .measurement-instructions p {
                    margin: 0;
                    color: #dc2626;
                    font-size: 14px;
                    font-weight: 500;
                }

                .skinfold-measurements-table {
                    width: 100%;
                    border-collapse: collapse;
                    background: white;
                    border-radius: 8px;
                    overflow: hidden;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                    border: 2px solid #dc2626;
                }

                .skinfold-measurements-table th {
                    background: #dc2626;
                    padding: 12px;
                    text-align: left;
                    font-weight: 600;
                    color: white;
                    border-bottom: 2px solid #b91c1c;
                    font-size: 14px;
                }

                .skinfold-measurements-table td {
                    padding: 12px;
                    border-bottom: 1px solid #e5e7eb;
                    vertical-align: top;
                    color: #374151;
                }

                .skinfold-measurements-table tr:hover {
                    background: #f9fafb;
                }

                .skinfold-measurements-table .required-measurement {
                    background: #fef2f2;
                    border-left: 4px solid #dc2626;
                }

                .required-indicator {
                    background: #dc2626;
                    color: white;
                    padding: 4px 8px;
                    border-radius: 4px;
                    font-size: 12px;
                    font-weight: 600;
                    text-transform: uppercase;
                }

                .optional-indicator {
                    background: #374151;
                    color: white;
                    padding: 4px 8px;
                    border-radius: 4px;
                    font-size: 12px;
                    font-weight: 600;
                    text-transform: uppercase;
                }

                .skinfold-input {
                    width: 80px;
                    padding: 6px 10px;
                    border: 2px solid #d1d5db;
                    border-radius: 4px;
                    font-size: 14px;
                    text-align: center;
                }

                .skinfold-input:focus {
                    outline: none;
                    border-color: #dc2626;
                    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
                }

                .measurement-description {
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                }

                .calculation-results {
                    background: #ecfdf5;
                    border: 1px solid #10b981;
                    border-radius: 8px;
                    padding: 20px;
                    margin-top: 20px;
                }

                .calculation-results h4 {
                    color: #047857;
                    margin: 0 0 15px 0;
                }

                .results-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 12px;
                }

                .result-item {
                    background: white;
                    padding: 12px;
                    border-radius: 6px;
                    border-left: 3px solid #10b981;
                }

                .result-label {
                    display: block;
                    font-size: 12px;
                    color: #6b7280;
                    font-weight: 500;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                .result-value {
                    display: block;
                    font-size: 16px;
                    font-weight: bold;
                    color: #047857;
                    margin-top: 4px;
                }

                .protocol-indicator {
                    background: #fff7ed;
                    border: 1px solid #f59e0b;
                    border-radius: 6px;
                    padding: 15px;
                    margin-top: 20px;
                }

                .protocol-indicator h5 {
                    color: #92400e;
                    margin: 0 0 8px 0;
                    font-size: 14px;
                }

                .protocol-indicator p {
                    color: #78350f;
                    margin: 0;
                    font-size: 13px;
                }

                /* 3-Day RHR Tracking Styles */
                .rhr-tracking-group {
                    border: 1px solid #4b5563;
                    border-radius: 8px;
                    padding: 16px;
                    background: #374151;
                }

                .rhr-inputs {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 12px;
                    margin: 12px 0;
                }

                .rhr-day {
                    display: flex;
                    flex-direction: column;
                    gap: 4px;
                }

                .rhr-day label {
                    font-size: 12px;
                    font-weight: 500;
                    color: #d1d5db;
                }

                .rhr-summary {
                    margin-top: 12px;
                    padding: 12px;
                    background: #1f2937;
                    border-radius: 6px;
                    border: 1px solid #4b5563;
                    color: #f9fafb;
                }

                .average-display {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    margin-bottom: 8px;
                    color: #f9fafb;
                }

                .average-display strong {
                    color: #f9fafb;
                }

                /* Blood Pressure Styles */
                .bp-group {
                    border: 1px solid #4b5563;
                    border-radius: 8px;
                    padding: 16px;
                    background: #374151;
                }

                .bp-inputs {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    margin: 12px 0;
                }

                .bp-input {
                    display: flex;
                    flex-direction: column;
                    gap: 4px;
                }

                .bp-input label {
                    font-size: 12px;
                    font-weight: 500;
                    color: #d1d5db;
                }

                .bp-divider {
                    font-size: 20px;
                    font-weight: bold;
                    color: #d1d5db;
                    margin-top: 16px;
                }

                .bp-classification, .bp-reading {
                    margin-top: 12px;
                    padding: 12px;
                    background: #1f2937;
                    border-radius: 6px;
                    border: 1px solid #4b5563;
                    color: #f9fafb;
                }

                .bp-reading strong {
                    color: #f9fafb;
                }

                /* Health Metrics Styles */
                .form-group .health-metrics {
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                    padding: 12px;
                    background: #374151 !important;
                    border-radius: 6px;
                    border: 1px solid #4b5563;
                    color: #f9fafb;
                }

                .health-metrics .bmi-display, 
                .health-metrics .whr-display {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }

                .health-metrics .metric-label {
                    font-weight: 500;
                    color: #d1d5db !important;
                    min-width: 40px;
                }

                .health-metrics .metric-value {
                    font-weight: bold;
                    color: #f3f4f6 !important;
                    min-width: 50px;
                }

                /* Classification Styles */
                .classification {
                    padding: 2px 8px;
                    border-radius: 12px;
                    font-size: 12px;
                    font-weight: 500;
                    text-transform: uppercase;
                }

                .classification.excellent {
                    background: #dcfce7;
                    color: #166534;
                }

                .classification.good, .classification.normal {
                    background: #d1fae5;
                    color: #15803d;
                }

                .classification.average, .classification.elevated {
                    background: #fef3c7;
                    color: #92400e;
                }

                .classification.below-average, .classification.high {
                    background: #fed7d7;
                    color: #c53030;
                }

                .classification.poor, .classification.very-high {
                    background: #fecaca;
                    color: #b91c1c;
                }

                .classification.low-risk {
                    background: #dcfce7;
                    color: #166534;
                }

                .classification.moderate-risk {
                    background: #fef3c7;
                    color: #92400e;
                }

                .classification.high-risk {
                    background: #fecaca;
                    color: #b91c1c;
                }

                .warning-text {
                    color: #dc2626;
                    font-size: 12px;
                    font-weight: 500;
                    margin-top: 4px;
                    padding: 8px;
                    background: #fef2f2;
                    border-radius: 4px;
                    border-left: 3px solid #dc2626;
                }

                .instruction {
                    font-size: 12px;
                    color: #6b7280;
                    font-style: italic;
                    margin-bottom: 8px;
                }

                /* Summary Section Styles */
                .summary-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 16px;
                    margin-bottom: 20px;
                }

                .summary-item {
                    background: white;
                    padding: 12px;
                    border-radius: 6px;
                    border: 1px solid #d1d5db;
                }

                .summary-label {
                    font-size: 12px;
                    font-weight: 500;
                    color: #6b7280;
                    margin-bottom: 4px;
                }

                .summary-value {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }

                .summary-value .value {
                    font-weight: bold;
                    color: #111827;
                }

                .medical-warnings {
                    background: #fef2f2;
                    border: 1px solid #fecaca;
                    border-radius: 6px;
                    padding: 16px;
                    margin-top: 16px;
                }

                .medical-warnings h4 {
                    color: #dc2626;
                    margin: 0 0 8px 0;
                    font-size: 14px;
                }

                .warning-item {
                    color: #991b1b;
                    font-size: 13px;
                    margin-bottom: 4px;
                }

                @media (max-width: 768px) {
                    .rhr-inputs {
                        grid-template-columns: 1fr;
                    }
                    
                    .bp-inputs {
                        flex-direction: column;
                        align-items: stretch;
                    }
                    
                    .bp-divider {
                        align-self: center;
                        margin: 8px 0;
                    }
                    
                    .health-metrics {
                        gap: 12px;
                    }
                }

                @media (max-width: 768px) {
                    .skinfold-measurements-table {
                        font-size: 12px;
                    }
                    
                    .skinfold-measurements-table th,
                    .skinfold-measurements-table td {
                        padding: 8px;
                    }
                    
                    .results-grid {
                        grid-template-columns: 1fr;
                    }
                }
            `})]})},Xh=()=>{const{state:s,actions:t}=Me(),[i,n]=k.useState("anterior"),[r,l]=k.useState(new Set),[a,c]=k.useState([]),[o,h]=k.useState(""),[m,u]=k.useState({anterior:!1,lateral:!1,posterior:!1}),[b,C]=k.useState({anterior:{footAnkle:{"feet-turned-out-L":!1,"feet-turned-out-R":!1,"feet-turned-out-both":!1,"feet-flattened-L":!1,"feet-flattened-R":!1,"feet-flattened-both":!1,"feet-not-parallel":!1},knees:{"knee-valgus-L":!1,"knee-valgus-R":!1,"knee-valgus-both":!1,"knee-varus-L":!1,"knee-varus-R":!1,"knee-varus-both":!1,"knees-not-aligned-toes":!1},lphc:{"pelvis-not-level-L-higher":!1,"pelvis-not-level-R-higher":!1,"asis-not-same-plane":!1,"excessive-anterior-pelvic-tilt":!1},shoulders:{"elevated-L":!1,"elevated-R":!1,"elevated-both":!1,"rounded-forward-L":!1,"rounded-forward-R":!1,"rounded-forward-both":!1,"not-level-L-higher":!1,"not-level-R-higher":!1},headCervical:{"head-tilt-L":!1,"head-tilt-R":!1,"head-rotation-L":!1,"head-rotation-R":!1,"forward-head-position":!1}},lateral:{footAnkle:{"not-90-degrees":!1,"excessive-pronation":!1,"excessive-supination":!1},knees:{hyperextended:!1,flexed:!1},lphc:{"anterior-pelvic-tilt":!1,"posterior-pelvic-tilt":!1,"not-neutral":!1},shoulders:{"excessively-rounded":!1,"forward-shoulder-position":!1},head:{"forward-head-posture":!1,"excessive-cervical-extension":!1}},posterior:{footAnkle:{"heels-not-parallel":!1,"overly-pronated-L":!1,"overly-pronated-R":!1,"overly-pronated-both":!1,"calcaneal-valgus-varus":!1},knees:{"adducted-L":!1,"adducted-R":!1,"adducted-both":!1,"abducted-L":!1,"abducted-R":!1,"abducted-both":!1},lphc:{"pelvis-not-level-psis":!1,"lateral-pelvic-shift-L":!1,"lateral-pelvic-shift-R":!1},shouldersScapulae:{"elevated-L":!1,"elevated-R":!1,"elevated-both":!1,"protracted-4-inches":!1,"winging-L":!1,"winging-R":!1,"winging-both":!1,"not-level":!1},head:{"tilted-L":!1,"tilted-R":!1,"rotated-L":!1,"rotated-R":!1}},severity:{anterior:{},lateral:{},posterior:{}},quickTags:{anterior:{},lateral:{},posterior:{}},notes:{anterior:{},lateral:{},posterior:{}},assessmentMethod:""}),[A,q]=k.useState([]),g={"feet-turned-out":{likely_tight:["Lateral gastrocnemius","Soleus","Biceps femoris"],likely_weak:["Medial gastrocnemius","Medial hamstrings","Gracilis"]},"feet-flattened":{likely_tight:["Peroneals","Lateral gastrocnemius"],likely_weak:["Posterior tibialis","Anterior tibialis"]},"knee-valgus":{likely_tight:["Adductor complex","IT band","TFL"],likely_weak:["Gluteus medius","Gluteus maximus","VMO"]},"forward-head-position":{likely_tight:["Upper trapezius","Sternocleidomastoid","Suboccipitals"],likely_weak:["Deep cervical flexors","Lower trapezius"]},"anterior-pelvic-tilt":{likely_tight:["Hip flexors","Erector spinae","Latissimus dorsi"],likely_weak:["Gluteus maximus","Hamstrings","Abdominals"]},"rounded-shoulders":{likely_tight:["Pectorals","Latissimus dorsi","Teres major"],likely_weak:["Mid/lower trapezius","Rhomboids","Posterior deltoid"]}},d=(H,X)=>{const ae=b[H][X];return Object.entries(ae).filter(([me,fe])=>me!=="notes"&&me!=="severity"&&me!=="quickTags"&&fe===!0).length},x=H=>{const X=b[H];return Object.keys(X).reduce((ae,me)=>ae+d(H,me),0)},f=()=>["anterior","lateral","posterior"].reduce((H,X)=>H+x(X),0),M=H=>({anterior:{footAnkle:{name:"Foot & Ankle",icon:"🦶",deviations:{"feet-turned-out-L":"Feet Turned Out - Left","feet-turned-out-R":"Feet Turned Out - Right","feet-turned-out-both":"Feet Turned Out - Both","feet-flattened-L":"Feet Flattened - Left","feet-flattened-R":"Feet Flattened - Right","feet-flattened-both":"Feet Flattened - Both","feet-not-parallel":"Feet Not Parallel"}},knees:{name:"Knees",icon:"🦵",deviations:{"knee-valgus-L":"Knee Valgus - Left","knee-valgus-R":"Knee Valgus - Right","knee-valgus-both":"Knee Valgus - Both","knee-varus-L":"Knee Varus - Left","knee-varus-R":"Knee Varus - Right","knee-varus-both":"Knee Varus - Both","knees-not-aligned-toes":"Knees Not Aligned with Toes"}},lphc:{name:"LPHC (Pelvis)",icon:"🔄",deviations:{"pelvis-not-level-L-higher":"Pelvis Not Level - Left Higher","pelvis-not-level-R-higher":"Pelvis Not Level - Right Higher","asis-not-same-plane":"ASIS Not Same Plane","excessive-anterior-pelvic-tilt":"Excessive Anterior Pelvic Tilt"}},shoulders:{name:"Shoulders",icon:"💪",deviations:{"elevated-L":"Elevated - Left","elevated-R":"Elevated - Right","elevated-both":"Elevated - Both","rounded-forward-L":"Rounded Forward - Left","rounded-forward-R":"Rounded Forward - Right","rounded-forward-both":"Rounded Forward - Both","not-level-L-higher":"Not Level - Left Higher","not-level-R-higher":"Not Level - Right Higher"}},headCervical:{name:"Head & Cervical",icon:"🧠",deviations:{"head-tilt-L":"Head Tilt - Left","head-tilt-R":"Head Tilt - Right","head-rotation-L":"Head Rotation - Left","head-rotation-R":"Head Rotation - Right","forward-head-position":"Forward Head Position"}}},lateral:{footAnkle:{name:"Foot & Ankle",icon:"🦶",deviations:{"not-90-degrees":"Not 90 Degrees","excessive-pronation":"Excessive Pronation","excessive-supination":"Excessive Supination"}},knees:{name:"Knees",icon:"🦵",deviations:{hyperextended:"Hyperextended",flexed:"Flexed"}},lphc:{name:"LPHC (Pelvis)",icon:"🔄",deviations:{"anterior-pelvic-tilt":"Anterior Pelvic Tilt","posterior-pelvic-tilt":"Posterior Pelvic Tilt","not-neutral":"Not Neutral"}},shoulders:{name:"Shoulders",icon:"💪",deviations:{"excessively-rounded":"Excessively Rounded","forward-shoulder-position":"Forward Shoulder Position"}},head:{name:"Head & Cervical",icon:"🧠",deviations:{"forward-head-posture":"Forward Head Posture","excessive-cervical-extension":"Excessive Cervical Extension"}}},posterior:{footAnkle:{name:"Foot & Ankle",icon:"🦶",deviations:{"heels-not-parallel":"Heels Not Parallel","overly-pronated-L":"Overly Pronated - Left","overly-pronated-R":"Overly Pronated - Right","overly-pronated-both":"Overly Pronated - Both","calcaneal-valgus-varus":"Calcaneal Valgus/Varus"}},knees:{name:"Knees",icon:"🦵",deviations:{"adducted-L":"Adducted - Left","adducted-R":"Adducted - Right","adducted-both":"Adducted - Both","abducted-L":"Abducted - Left","abducted-R":"Abducted - Right","abducted-both":"Abducted - Both"}},lphc:{name:"LPHC (Pelvis)",icon:"🔄",deviations:{"pelvis-not-level-psis":"Pelvis Not Level - PSIS","lateral-pelvic-shift-L":"Lateral Pelvic Shift - Left","lateral-pelvic-shift-R":"Lateral Pelvic Shift - Right"}},shouldersScapulae:{name:"Shoulders & Scapulae",icon:"💪",deviations:{"elevated-L":"Elevated - Left","elevated-R":"Elevated - Right","elevated-both":"Elevated - Both","protracted-4-inches":"Protracted >4 inches","winging-L":"Winging - Left","winging-R":"Winging - Right","winging-both":"Winging - Both","not-level":"Not Level"}},head:{name:"Head & Cervical",icon:"🧠",deviations:{"tilted-L":"Tilted - Left","tilted-R":"Tilted - Right","rotated-L":"Rotated - Left","rotated-R":"Rotated - Right"}}}})[H]||{},v=(H,X,ae,me)=>{C(fe=>({...fe,[H]:{...fe[H],[X]:{...fe[H][X],[ae]:me}}}))},j=()=>{let H=0;return["anterior","lateral","posterior"].forEach(X=>{Object.values(b[X]).forEach(ae=>{Object.entries(ae).forEach(([me,fe])=>{if(fe===!0&&(me.includes("-L")||me.includes("-R"))){const F=me.includes("-L")?me.replace("-L","-R"):me.replace("-R","-L");ae[F]!==fe&&H++}})})}),Math.floor(H/2)},P=()=>{const H=[],X=b;return[X.anterior.headCervical["forward-head-position"],X.lateral.head["forward-head-posture"],X.anterior.shoulders["rounded-forward-both"],X.lateral.shoulders["excessively-rounded"]].filter(Boolean).length>=2&&H.push("Upper Crossed Syndrome"),[X.anterior.lphc["excessive-anterior-pelvic-tilt"],X.lateral.lphc["anterior-pelvic-tilt"],X.lateral.knees.hyperextended].filter(Boolean).length>=2&&H.push("Lower Crossed Syndrome"),[X.anterior.footAnkle["feet-flattened-both"],X.anterior.knees["knee-valgus-both"],X.lateral.footAnkle["excessive-pronation"]].filter(Boolean).length>=2&&H.push("Pronation Distortion Syndrome"),H},w=()=>{const H=[];return f()===0?(H.push("Excellent postural alignment - continue current practices"),H):(d("anterior","shoulders")+d("anterior","headCervical")+d("lateral","shoulders")+d("lateral","head")>0&&H.push("Upper body postural correction and strengthening"),d("anterior","lphc")+d("lateral","lphc")>0&&H.push("Core stability and hip mobility work"),d("anterior","footAnkle")+d("lateral","footAnkle")+d("posterior","footAnkle")>0&&H.push("Foot and ankle stability training"),j()>2&&H.push("Bilateral movement patterns and unilateral strengthening"),H.length>0?H:["General postural awareness and movement quality"])},T=(H,X)=>{C(ae=>{const me={};return Object.keys(ae[H][X]).forEach(fe=>{me[fe]=!1}),{...ae,[H]:{...ae[H],[X]:me}}})},p=(H,X)=>{C(ae=>{const me={};return Object.keys(ae[H][X]).forEach(fe=>{me[fe]=!1}),{...ae,[H]:{...ae[H],[X]:me}}})},R=()=>{const H={overactive:[],underactive:[]};return["anterior","lateral","posterior"].forEach(X=>{Object.entries(b[X]).forEach(([ae,me])=>{Object.entries(me).forEach(([fe,F])=>{if(F){const Q=fe.replace(/-L|-R|-both/,"");g[Q]&&(H.overactive.push(...g[Q].likely_tight),H.underactive.push(...g[Q].likely_weak))}})})}),H.overactive=[...new Set(H.overactive)],H.underactive=[...new Set(H.underactive)],H},_=()=>{let H=0;return["anterior","lateral","posterior"].forEach(X=>{x(X)>=0&&H++}),H},W=()=>{const H=[];return["anterior","lateral","posterior"].forEach(X=>{Object.entries(b[X]).forEach(([ae,me])=>{Object.entries(me).forEach(([fe,F])=>{if(F===!0&&fe.includes("-L")){const Q=fe.replace("-L","-R");me[Q]||H.push(`${X} ${ae}: Left side deviation only`)}else if(F===!0&&fe.includes("-R")){const Q=fe.replace("-R","-L");me[Q]||H.push(`${X} ${ae}: Right side deviation only`)}})})}),H},y=H=>{c(X=>X.includes(H)?X.filter(ae=>ae!==H):[...X,H])},N=()=>{const H=_();return H<3?(O(`Please complete all three views before proceeding. ${H}/3 completed.`),!1):!0},O=H=>{const X=document.createElement("div");X.className="warning-toast",X.textContent=`⚠️ ${H}`,document.body.appendChild(X),setTimeout(()=>X.remove(),4e3)},L=H=>{const X=document.createElement("div");X.className="success-toast",X.textContent=`✅ ${H} View Complete!`,document.body.appendChild(X),setTimeout(()=>X.remove(),3e3)},V=()=>_()===3,Z=()=>{N()&&Le()},pe=(H,X,ae,me)=>{if(v(H,X,ae,me),me){const fe=document.querySelector(`[data-deviation="${H}-${X}-${ae}"]`);fe&&(fe.classList.add("selected"),setTimeout(()=>fe.classList.remove("selected"),300))}setTimeout(()=>{(x(H)>0||Object.values(b[H]).every(F=>Object.values(F).some(Q=>Q===!0)))&&!m[H]&&(u(F=>({...F,[H]:!0})),L(H.charAt(0).toUpperCase()+H.slice(1)))},100)};k.useEffect(()=>{const H=P();q(H)},[b]);const je=()=>b.assessmentMethod&&f()>=0,Le=()=>{const H={deviations:b,syndromes:A,predictedImbalances:R(),asymmetries:j(),selectedQuickTags:a,additionalNotes:o,viewCompletionStatus:m,summary:{anteriorDeviations:x("anterior"),lateralDeviations:x("lateral"),posteriorDeviations:x("posterior"),totalDeviations:f(),completedViews:_(),allViewsComplete:V()},timestamp:new Date().toISOString()};t.setAssessmentData({...s.assessmentData,step:3,posturalAssessment:H,timestamp:new Date().toISOString()}),t.setCurrentStep(4)};return e.jsxs("div",{className:"assessment-container",children:[e.jsxs("div",{className:"progress-bar",children:[e.jsxs("div",{className:"progress-text",children:["Step 3: Static Posture - ",_(),"/3 Views Complete"]}),e.jsx("div",{className:"progress-track",children:e.jsx("div",{className:"progress-fill",style:{width:`${_()/3*100}%`}})})]}),e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{className:"step-title",children:"Step 3: Static Postural Assessment"}),e.jsx("p",{className:"step-description",children:"NASM kinetic chain checkpoint assessment - observe alignment from multiple views"})]}),e.jsxs("div",{className:"assessment-method-section",children:[e.jsx("label",{className:"method-label",children:"Assessment Method:"}),e.jsxs("div",{className:"method-options",children:[e.jsx("button",{className:`method-btn ${b.assessmentMethod==="plumb-line"?"active":""}`,onClick:()=>C(H=>({...H,assessmentMethod:"plumb-line"})),children:"📏 Plumb Line Grid"}),e.jsx("button",{className:`method-btn ${b.assessmentMethod==="visual"?"active":""}`,onClick:()=>C(H=>({...H,assessmentMethod:"visual"})),children:"👁️ Visual Observation"})]})]}),e.jsxs("div",{className:"assessment-main",children:[e.jsxs("div",{className:"assessment-tabs",children:[e.jsxs("button",{className:`tab-btn ${i==="anterior"?"active":""}`,onClick:()=>n("anterior"),children:["Anterior View",x("anterior")>0&&e.jsxs("span",{className:"deviation-badge",children:["(",x("anterior"),")"]})]}),e.jsxs("button",{className:`tab-btn ${i==="lateral"?"active":""}`,onClick:()=>n("lateral"),children:["Lateral View",x("lateral")>0&&e.jsxs("span",{className:"deviation-badge",children:["(",x("lateral"),")"]})]}),e.jsxs("button",{className:`tab-btn ${i==="posterior"?"active":""}`,onClick:()=>n("posterior"),children:["Posterior View",x("posterior")>0&&e.jsxs("span",{className:"deviation-badge",children:["(",x("posterior"),")"]})]}),e.jsxs("button",{className:`tab-btn summary-tab ${i==="summary"?"active":""}`,onClick:()=>n("summary"),children:["Summary",f()>0&&e.jsxs("span",{className:"deviation-badge total",children:["(",f(),")"]})]})]}),e.jsx("div",{className:"assessment-content",children:i!=="summary"?e.jsxs("div",{className:"assessment-view",children:[e.jsxs("details",{className:"reference-guide",children:[e.jsx("summary",{children:"📐 Plumb Line Reference Guide (click to expand)"}),e.jsxs("div",{className:"reference-content",children:[i==="anterior"&&e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"Anterior View Reference:"})}),e.jsx("p",{children:"Imaginary line from midpoint between heels through midline of pelvis, trunk, and skull. Client should be weight bearing equally on both feet, arms at sides."}),e.jsxs("p",{children:[e.jsx("em",{children:"Look for:"})," Symmetry between left and right sides, proper alignment of body segments."]})]}),i==="lateral"&&e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"Lateral View Reference:"})}),e.jsx("p",{children:"Line through lateral malleolus, middle of femur, center of shoulder, middle of ear. Assess natural spinal curves and joint alignment."}),e.jsxs("p",{children:[e.jsx("em",{children:"Look for:"})," Proper cervical/lumbar lordosis, thoracic kyphosis, joint positioning."]})]}),i==="posterior"&&e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"Posterior View Reference:"})}),e.jsx("p",{children:"Line from midpoint between heels through midline of pelvis, spine, and skull. Observe from behind for symmetry and alignment."}),e.jsxs("p",{children:[e.jsx("em",{children:"Look for:"})," Spinal alignment, scapular positioning, hip levelness, foot positioning."]})]})]})]}),e.jsx("div",{className:"assessment-sections",children:Object.entries(M(i)).map(([H,X])=>e.jsxs("div",{className:"assessment-section",children:[e.jsx("div",{className:"section-header",children:e.jsxs("div",{className:"section-title",children:[e.jsx("span",{className:"section-icon",children:X.icon}),e.jsx("span",{className:"section-name",children:X.name}),e.jsx("span",{className:"completion-indicator",children:d(i,H)===0?"✅":"⚠️"}),e.jsxs("span",{className:"deviation-count",children:[d(i,H)," deviations"]})]})}),e.jsxs("div",{className:"section-actions",children:[e.jsx("button",{className:"btn-small btn-normal",onClick:()=>T(i,H),title:"Mark this section as normal (clear all deviations)",children:"✓ Mark Normal"}),e.jsx("button",{className:"btn-small btn-clear",onClick:()=>p(i,H),title:"Clear all selections in this section",children:"Clear"})]}),e.jsx("div",{className:"deviation-grid",children:Object.entries(X.deviations).map(([ae,me])=>{const fe=ae.includes("both")||!ae.includes("-L")&&!ae.includes("-R"),F=ae.replace(/-L|-R|-both/,""),Q=`${F}-L`,le=`${F}-R`,xe=`${F}-both`;return e.jsxs("div",{className:"deviation-row","data-deviation":`${i}-${H}-${ae}`,children:[e.jsx("span",{className:"deviation-label",children:me.replace(/ - (Left|Right|Both)$/,"")}),e.jsx("div",{className:"side-options",children:fe?e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:b[i][H][ae]||!1,onChange:be=>pe(i,H,ae,be.target.checked)}),"Present"]}):e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:b[i][H][Q]||!1,onChange:be=>pe(i,H,Q,be.target.checked)}),"Left"]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:b[i][H][le]||!1,onChange:be=>pe(i,H,le,be.target.checked)}),"Right"]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:b[i][H][xe]||!1,onChange:be=>pe(i,H,xe,be.target.checked)}),"Both"]})]})})]},ae)})})]},H))}),e.jsxs("div",{className:"notes-section",children:[e.jsx("h4",{children:"🏷️ Quick Tags (click to add):"}),e.jsx("div",{className:"quick-tags",children:["Forward Head","Rounded Shoulders","Anterior Pelvic Tilt","Flat Feet","Knee Valgus","Scoliosis","Winged Scapula","Hip Drop"].map(H=>e.jsx("button",{className:`tag ${a.includes(H)?"active":""}`,onClick:()=>y(H),children:H},H))}),e.jsxs("div",{className:"notes-input",children:[e.jsx("label",{children:"Additional Observations:"}),e.jsx("textarea",{placeholder:"Record any additional postural observations, compensations, or clinical notes...",value:o,onChange:H=>h(H.target.value),rows:3})]})]})]}):e.jsx("div",{className:"summary-view",children:e.jsxs("div",{className:"summary-grid",children:[e.jsxs("div",{className:"summary-card enhanced-summary",children:[e.jsx("h3",{children:"📋 Assessment Summary"}),e.jsxs("div",{className:"summary-stats",children:[e.jsxs("div",{className:"stat-row",children:[e.jsx("span",{children:"Total Deviations:"}),e.jsx("span",{className:"stat-value",children:f()})]}),e.jsxs("div",{className:"stat-row",children:[e.jsx("span",{children:"Anterior View:"}),e.jsxs("span",{className:"stat-value",children:[x("anterior")," issues"]})]}),e.jsxs("div",{className:"stat-row",children:[e.jsx("span",{children:"Lateral View:"}),e.jsxs("span",{className:"stat-value",children:[x("lateral")," issues"]})]}),e.jsxs("div",{className:"stat-row",children:[e.jsx("span",{children:"Posterior View:"}),e.jsxs("span",{className:"stat-value",children:[x("posterior")," issues"]})]})]}),e.jsxs("div",{className:"asymmetries",children:[e.jsx("h4",{children:"🔄 Asymmetries Detected:"}),W().length>0?e.jsx("ul",{className:"asymmetry-list",children:W().map((H,X)=>e.jsx("li",{children:H},X))}):e.jsx("p",{className:"no-asymmetries",children:"No significant asymmetries detected"})]})]}),e.jsxs("div",{className:"summary-card muscle-predictions",children:[e.jsx("h4",{children:"🎯 Predicted Muscle Imbalances:"}),(()=>{const H=R();return H.overactive.length>0||H.underactive.length>0?e.jsxs("div",{className:"muscle-imbalance-grid",children:[H.overactive.length>0&&e.jsxs("div",{className:"overactive",children:[e.jsx("strong",{children:"🔴 Likely Overactive:"}),e.jsx("ul",{children:H.overactive.map((X,ae)=>e.jsx("li",{children:X},ae))})]}),H.underactive.length>0&&e.jsxs("div",{className:"underactive",children:[e.jsx("strong",{children:"🟡 Likely Underactive:"}),e.jsx("ul",{children:H.underactive.map((X,ae)=>e.jsx("li",{children:X},ae))})]})]}):e.jsx("p",{className:"no-predictions",children:"Complete assessment for muscle imbalance predictions"})})()]}),e.jsxs("div",{className:"summary-card stats",children:[e.jsx("h3",{children:"📊 Assessment Statistics"}),e.jsxs("div",{className:"stat-items",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Total Deviations:"}),e.jsx("span",{className:"stat-value",children:f()})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Anterior View:"}),e.jsx("span",{className:"stat-value",children:x("anterior")})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Lateral View:"}),e.jsx("span",{className:"stat-value",children:x("lateral")})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Posterior View:"}),e.jsx("span",{className:"stat-value",children:x("posterior")})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Asymmetries:"}),e.jsx("span",{className:"stat-value",children:j()})]})]})]}),e.jsxs("div",{className:"summary-card distortions",children:[e.jsx("h3",{children:"🎯 Suspected Distortion Patterns"}),A.length>0?e.jsx("div",{className:"distortion-list",children:A.map((H,X)=>e.jsxs("div",{className:"distortion-item",children:[e.jsx("span",{className:"distortion-icon",children:"⚠️"}),e.jsx("span",{className:"distortion-name",children:H})]},X))}):e.jsx("p",{className:"no-distortions",children:"No major distortion patterns detected"})]}),e.jsxs("div",{className:"summary-card focus-areas",children:[e.jsx("h3",{children:"🎯 Suggested Focus Areas"}),e.jsx("div",{className:"focus-list",children:w().map((H,X)=>e.jsxs("div",{className:"focus-item",children:[e.jsx("span",{className:"focus-icon",children:"📍"}),e.jsx("span",{className:"focus-text",children:H})]},X))})]})]})})})]}),e.jsx("div",{className:"floating-actions",children:e.jsx("button",{className:`btn-proceed ${V()?"complete":"incomplete"}`,onClick:Z,disabled:!V(),children:V()?"Continue to Step 4 →":`Complete ${3-_()} more view(s)`})}),e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"back-button",onClick:()=>t.setCurrentStep(2),children:"← Back to Vitals"}),e.jsx("button",{className:"next-button",onClick:Le,disabled:!je(),children:"Complete Posture → Step 4: Dynamic Movement"})]}),e.jsx("style",{jsx:!0,children:`
                .assessment-container {
                    padding: 30px;
                    max-width: 1400px;
                    margin: 0 auto;
                    background: #111827;
                    min-height: 100vh;
                    color: #d1d5db;
                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                }

                /* Progress Bar Styles */
                .progress-bar {
                    background: #1f2937;
                    border-radius: 12px;
                    padding: 20px;
                    margin-bottom: 20px;
                    border: 1px solid #374151;
                }

                .progress-text {
                    color: #f3f4f6;
                    font-weight: 600;
                    margin-bottom: 10px;
                    text-align: center;
                }

                .progress-track {
                    width: 100%;
                    height: 8px;
                    background: #374151;
                    border-radius: 4px;
                    overflow: hidden;
                }

                .progress-fill {
                    height: 100%;
                    background: linear-gradient(90deg, #dc2626, #ef4444);
                    border-radius: 4px;
                    transition: width 0.3s ease;
                }

                /* Quick Action Buttons */
                .section-actions {
                    display: flex;
                    gap: 8px;
                    margin-bottom: 15px;
                    padding: 10px;
                    background: rgba(75, 85, 99, 0.3);
                    border-radius: 6px;
                    border-left: 3px solid #dc2626;
                }

                .btn-small {
                    padding: 4px 12px;
                    font-size: 12px;
                    margin-right: 8px;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                    font-weight: 500;
                    transition: all 0.2s ease;
                    display: flex;
                    align-items: center;
                    gap: 4px;
                }

                .btn-normal {
                    background: #22c55e;
                    color: white;
                }

                .btn-normal:hover {
                    background: #16a34a;
                    transform: translateY(-1px);
                }

                .btn-clear {
                    background: #6b7280;
                    color: white;
                }

                .btn-clear:hover {
                    background: #4b5563;
                    transform: translateY(-1px);
                }

                /* Enhanced Summary Styles */
                .enhanced-summary {
                    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
                    border: 2px solid #4b5563;
                }

                .summary-stats {
                    margin-bottom: 20px;
                }

                .stat-row {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 8px 12px;
                    margin: 4px 0;
                    background: rgba(75, 85, 99, 0.3);
                    border-radius: 4px;
                    border-left: 3px solid #dc2626;
                }

                .stat-row .stat-value {
                    font-weight: 600;
                    color: #ef4444;
                }

                .asymmetries {
                    margin-top: 15px;
                    padding-top: 15px;
                    border-top: 1px solid #4b5563;
                }

                .asymmetries h4 {
                    color: #f3f4f6;
                    margin-bottom: 10px;
                    font-size: 14px;
                }

                .asymmetry-list {
                    list-style: none;
                    padding: 0;
                    margin: 0;
                }

                .asymmetry-list li {
                    padding: 6px 10px;
                    background: rgba(239, 68, 68, 0.1);
                    border-left: 3px solid #ef4444;
                    border-radius: 4px;
                    margin-bottom: 4px;
                    font-size: 13px;
                    color: #fecaca;
                }

                .no-asymmetries {
                    color: #9ca3af;
                    font-style: italic;
                    text-align: center;
                    padding: 10px;
                    background: rgba(34, 197, 94, 0.1);
                    border-radius: 4px;
                    border-left: 3px solid #22c55e;
                }

                .muscle-predictions {
                    background: #374151;
                    border: 1px solid #4b5563;
                }

                .muscle-imbalance-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 15px;
                }

                .overactive, .underactive {
                    padding: 10px;
                    border-radius: 6px;
                }

                .overactive {
                    background: rgba(239, 68, 68, 0.1);
                    border-left: 4px solid #ef4444;
                }

                .underactive {
                    background: rgba(245, 158, 11, 0.1);
                    border-left: 4px solid #f59e0b;
                }

                .overactive strong, .underactive strong {
                    display: block;
                    margin-bottom: 8px;
                    font-size: 13px;
                }

                .overactive ul, .underactive ul {
                    list-style: none;
                    padding: 0;
                    margin: 0;
                }

                .overactive li, .underactive li {
                    padding: 3px 8px;
                    background: rgba(0, 0, 0, 0.2);
                    border-radius: 3px;
                    margin-bottom: 2px;
                    font-size: 12px;
                }

                /* NEW: Reference Guide Styles */
                .reference-guide {
                    background: rgba(220, 38, 38, 0.05);
                    padding: 12px;
                    border-radius: 8px;
                    margin-bottom: 20px;
                    border: 1px solid rgba(220, 38, 38, 0.2);
                }

                .reference-guide summary {
                    cursor: pointer;
                    font-weight: 600;
                    color: #dc2626;
                    padding: 8px;
                    border-radius: 4px;
                    transition: all 0.2s ease;
                }

                .reference-guide summary:hover {
                    background: rgba(220, 38, 38, 0.1);
                }

                .reference-content {
                    margin-top: 10px;
                    padding: 10px;
                    background: rgba(31, 41, 55, 0.5);
                    border-radius: 6px;
                    border-left: 3px solid #dc2626;
                }

                .reference-content p {
                    margin: 8px 0;
                    color: #d1d5db;
                    line-height: 1.5;
                }

                .reference-content strong {
                    color: #f3f4f6;
                }

                .reference-content em {
                    color: #fbbf24;
                    font-style: normal;
                }

                /* Visual Feedback Animations */
                .deviation-row.selected {
                    animation: pulse 0.3s ease;
                    background: rgba(220, 38, 38, 0.1);
                    border-left-color: #dc2626;
                }

                @keyframes pulse {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.02); }
                    100% { transform: scale(1); }
                }

                .deviation-badge {
                    transition: all 0.3s ease;
                }

                .tab-btn .deviation-badge {
                    animation: bounce 0.5s ease;
                }

                @keyframes bounce {
                    0%, 20%, 60%, 100% { transform: translateY(0); }
                    40% { transform: translateY(-3px); }
                    80% { transform: translateY(-1px); }
                }

                /* Enhanced Notes Section */
                .notes-section {
                    background: #374151;
                    border-radius: 12px;
                    padding: 20px;
                    margin-top: 25px;
                    border: 1px solid #4b5563;
                }

                .notes-section h4 {
                    color: #f3f4f6;
                    margin-bottom: 15px;
                    font-size: 16px;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }

                .quick-tags {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 8px;
                    margin-bottom: 20px;
                }

                .tag {
                    padding: 6px 12px;
                    margin: 0;
                    border: 1px solid #dc2626;
                    background: transparent;
                    border-radius: 20px;
                    cursor: pointer;
                    color: #dc2626;
                    font-size: 12px;
                    font-weight: 500;
                    transition: all 0.2s ease;
                }

                .tag:hover {
                    background: rgba(220, 38, 38, 0.1);
                    transform: translateY(-1px);
                }

                .tag.active {
                    background: #dc2626;
                    color: white;
                    box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
                }

                .notes-input {
                    margin-top: 15px;
                }

                .notes-input label {
                    display: block;
                    color: #f3f4f6;
                    font-weight: 500;
                    margin-bottom: 8px;
                }

                .notes-input textarea {
                    width: 100%;
                    background: #4b5563;
                    border: 1px solid #6b7280;
                    border-radius: 6px;
                    padding: 12px;
                    color: #d1d5db;
                    font-family: inherit;
                    resize: vertical;
                    min-height: 80px;
                }

                .notes-input textarea:focus {
                    outline: none;
                    border-color: #dc2626;
                    box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);
                }

                .notes-input textarea::placeholder {
                    color: #9ca3af;
                }

                /* Floating Action Button */
                .floating-actions {
                    position: sticky;
                    bottom: 20px;
                    display: flex;
                    justify-content: flex-end;
                    padding: 20px;
                    background: linear-gradient(transparent, #111827 70%);
                    z-index: 10;
                }

                .btn-proceed {
                    padding: 14px 28px;
                    border-radius: 25px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    border: none;
                    font-size: 16px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }

                .btn-proceed.complete {
                    background: linear-gradient(135deg, #059669, #10b981);
                    color: white;
                    animation: glow 2s ease-in-out infinite alternate;
                }

                .btn-proceed.incomplete {
                    background: #6b7280;
                    color: #d1d5db;
                    cursor: not-allowed;
                }

                .btn-proceed.complete:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(5, 150, 105, 0.4);
                }

                @keyframes glow {
                    from { box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3); }
                    to { box-shadow: 0 4px 25px rgba(5, 150, 105, 0.6); }
                }

                /* Toast Notifications */
                .success-toast, .warning-toast {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 12px 24px;
                    border-radius: 8px;
                    animation: slideIn 0.3s ease;
                    z-index: 1000;
                    font-weight: 500;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                }

                .success-toast {
                    background: #22c55e;
                    color: white;
                }

                .warning-toast {
                    background: #f59e0b;
                    color: white;
                }

                @keyframes slideIn {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }

                .step-header {
                    text-align: center;
                    margin-bottom: 30px;
                    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
                    border-radius: 16px;
                    padding: 30px;
                    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                    border: 1px solid #374151;
                }

                .step-title {
                    color: #dc2626;
                    margin-bottom: 10px;
                    font-size: 2.2em;
                    font-weight: 700;
                }

                .step-description {
                    color: #9ca3af;
                    font-size: 16px;
                    margin: 0;
                }

                .assessment-method-section {
                    background: #1f2937;
                    border-radius: 12px;
                    padding: 20px;
                    margin-bottom: 30px;
                    border: 1px solid #374151;
                }

                .method-label {
                    display: block;
                    margin-bottom: 15px;
                    font-weight: 600;
                    color: #f3f4f6;
                    font-size: 16px;
                }

                .method-options {
                    display: flex;
                    gap: 15px;
                    flex-wrap: wrap;
                }

                .method-btn {
                    padding: 12px 24px;
                    background: #374151;
                    border: 2px solid #4b5563;
                    border-radius: 8px;
                    color: #d1d5db;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }

                .method-btn:hover {
                    background: #4b5563;
                    border-color: #6b7280;
                }

                .method-btn.active {
                    background: #dc2626;
                    border-color: #dc2626;
                    color: white;
                    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.2);
                }

                .assessment-main {
                    background: #1f2937;
                    border-radius: 16px;
                    overflow: hidden;
                    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
                    border: 1px solid #374151;
                }

                .assessment-tabs {
                    display: flex;
                    background: #374151;
                    border-bottom: 1px solid #4b5563;
                }

                .tab-btn {
                    flex: 1;
                    padding: 16px 20px;
                    background: transparent;
                    border: none;
                    color: #9ca3af;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                    position: relative;
                    border-right: 1px solid #4b5563;
                    border-bottom: 3px solid transparent;
                }

                .tab-btn:last-child {
                    border-right: none;
                }

                .tab-btn:hover {
                    background: #4b5563;
                    color: #d1d5db;
                }

                .tab-btn.active {
                    background: #4b5563;
                    color: #dc2626;
                    border-bottom-color: #dc2626;
                    font-weight: 600;
                }

                .tab-btn.summary-tab.active {
                    color: #059669;
                    border-bottom-color: #059669;
                }

                .deviation-badge {
                    background: #dc2626;
                    color: white;
                    border-radius: 12px;
                    padding: 2px 8px;
                    font-size: 12px;
                    font-weight: 600;
                    margin-left: 6px;
                }

                .deviation-badge.total {
                    background: #059669;
                }

                .assessment-content {
                    padding: 30px;
                    min-height: 500px;
                }

                .assessment-sections {
                    display: flex;
                    flex-direction: column;
                    gap: 25px;
                }

                .assessment-section {
                    background: #374151;
                    border-radius: 12px;
                    padding: 20px;
                    border: 1px solid #4b5563;
                }

                .section-header {
                    display: flex;
                    align-items: center;
                    margin-bottom: 20px;
                    padding-bottom: 15px;
                    border-bottom: 1px solid #4b5563;
                }

                .section-title {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    flex: 1;
                }

                .section-icon {
                    font-size: 20px;
                }

                .section-name {
                    font-size: 16px;
                    font-weight: 600;
                    color: #f3f4f6;
                }

                .completion-indicator {
                    font-size: 14px;
                    margin-left: 8px;
                }

                .deviation-count {
                    font-size: 12px;
                    color: #9ca3af;
                    background: #4b5563;
                    padding: 2px 8px;
                    border-radius: 8px;
                    margin-left: 8px;
                }

                .deviation-grid {
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                }

                .deviation-row {
                    padding: 12px;
                    margin: 8px 0;
                    border-left: 3px solid transparent;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    background: #4b5563;
                    border-radius: 6px;
                    transition: all 0.2s ease;
                }

                .deviation-row:hover {
                    background: rgba(220, 38, 38, 0.1);
                    border-left-color: #dc2626;
                }

                .deviation-label {
                    font-weight: 500;
                    color: #e5e7eb;
                    flex: 1;
                }

                .side-options {
                    display: flex;
                    gap: 20px;
                }

                .checkbox-label {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    cursor: pointer;
                    color: #d1d5db;
                    font-size: 14px;
                }

                .checkbox-label input[type="checkbox"] {
                    width: 16px;
                    height: 16px;
                    accent-color: #dc2626;
                    cursor: pointer;
                }

                .summary-view {
                    padding: 20px 0;
                }

                .summary-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                    gap: 25px;
                }

                .summary-card {
                    background: #374151;
                    border-radius: 12px;
                    padding: 20px;
                    border: 1px solid #4b5563;
                }

                .summary-card h3 {
                    color: #f3f4f6;
                    margin-bottom: 15px;
                    font-size: 16px;
                    font-weight: 600;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }

                .stat-items {
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                }

                .stat-item {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 8px;
                    background: #4b5563;
                    border-radius: 4px;
                }

                .stat-label {
                    color: #d1d5db;
                    font-weight: 500;
                }

                .stat-value {
                    color: #dc2626;
                    font-weight: 600;
                    font-size: 16px;
                }

                .distortion-list {
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                }

                .distortion-item {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    padding: 10px;
                    background: #4b5563;
                    border-radius: 6px;
                    border-left: 4px solid #ef4444;
                }

                .distortion-name {
                    font-weight: 500;
                    color: #f3f4f6;
                }

                .no-distortions, .no-predictions {
                    color: #9ca3af;
                    font-style: italic;
                    text-align: center;
                    padding: 15px;
                }

                .imbalance-predictions {
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                }

                .imbalance-group h4 {
                    color: #f3f4f6;
                    margin-bottom: 8px;
                    font-size: 14px;
                    font-weight: 600;
                }

                .imbalance-group ul {
                    list-style: none;
                    padding: 0;
                    margin: 0;
                }

                .imbalance-group li {
                    padding: 4px 8px;
                    background: #4b5563;
                    border-radius: 4px;
                    margin-bottom: 3px;
                    font-size: 13px;
                    color: #d1d5db;
                }

                .imbalance-group.tight li {
                    border-left: 3px solid #ef4444;
                }

                .imbalance-group.weak li {
                    border-left: 3px solid #f59e0b;
                }

                .focus-list {
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                }

                .focus-item {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    padding: 8px;
                    background: #4b5563;
                    border-radius: 4px;
                }

                .focus-text {
                    color: #d1d5db;
                    font-size: 14px;
                }

                .step-navigation {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-top: 30px;
                    padding: 20px 0;
                    border-top: 1px solid #374151;
                }

                .back-button, .next-button {
                    padding: 12px 24px;
                    border-radius: 8px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    border: none;
                    font-size: 16px;
                }

                .back-button {
                    background: #4b5563;
                    color: #d1d5db;
                    border: 1px solid #6b7280;
                }

                .back-button:hover {
                    background: #6b7280;
                }

                .next-button {
                    background: #dc2626;
                    color: white;
                    border: 1px solid #dc2626;
                }

                .next-button:hover:not(:disabled) {
                    background: #b91c1c;
                }

                .next-button:disabled {
                    background: #6b7280;
                    cursor: not-allowed;
                    opacity: 0.5;
                }

                /* Mobile Responsiveness */
                @media (max-width: 768px) {
                    .assessment-container {
                        padding: 20px 15px;
                    }
                    
                    .assessment-tabs {
                        flex-direction: column;
                    }
                    
                    .tab-btn {
                        border-right: none;
                        border-bottom: 1px solid #4b5563;
                    }
                    
                    .deviation-row {
                        flex-direction: column;
                        align-items: flex-start;
                        gap: 10px;
                    }
                    
                    .side-options {
                        flex-direction: column;
                        gap: 8px;
                        align-self: flex-end;
                        width: 100%;
                    }

                    .checkbox-label {
                        padding: 8px;
                        width: 100%;
                        justify-content: center;
                        background: rgba(75, 85, 99, 0.5);
                        border-radius: 4px;
                    }
                    
                    .summary-grid {
                        grid-template-columns: 1fr;
                    }

                    .muscle-imbalance-grid {
                        grid-template-columns: 1fr;
                    }

                    .section-actions {
                        flex-direction: column;
                        gap: 6px;
                    }

                    .btn-small {
                        width: 100%;
                        justify-content: center;
                        margin-right: 0;
                    }

                    .progress-bar {
                        padding: 15px;
                        margin-bottom: 15px;
                    }

                    .progress-text {
                        font-size: 14px;
                    }
                    
                    .step-navigation {
                        flex-direction: column;
                        gap: 15px;
                    }
                    
                    .back-button, .next-button {
                        width: 100%;
                    }

                    .step-title {
                        font-size: 1.8em;
                    }

                    .assessment-main {
                        margin-top: 15px;
                    }

                    .assessment-content {
                        padding: 20px;
                    }

                    .quick-tags {
                        justify-content: center;
                    }

                    .tag {
                        font-size: 11px;
                        padding: 5px 10px;
                    }

                    .floating-actions {
                        position: static;
                        background: none;
                        justify-content: center;
                        padding: 15px;
                    }

                    .btn-proceed {
                        width: 100%;
                        justify-content: center;
                        font-size: 14px;
                        padding: 12px 20px;
                    }

                    .reference-guide {
                        margin-bottom: 15px;
                        padding: 10px;
                    }

                    .reference-content {
                        padding: 8px;
                    }

                    .notes-section {
                        padding: 15px;
                        margin-top: 20px;
                    }

                    .notes-input textarea {
                        font-size: 14px;
                        padding: 10px;
                    }

                    .success-toast, .warning-toast {
                        top: 10px;
                        right: 10px;
                        left: 10px;
                        font-size: 14px;
                        padding: 10px 16px;
                    }
                }
            `})]})},Zs={phase1:{id:"phase1",name:"Phase 1: Stabilization Endurance",category:"Stabilization",description:"Develop muscular endurance, stability, and movement efficiency",duration:"4-6 weeks",level:"Beginner",color:"#dc2626",parameters:{sets:"1-3 sets",reps:"12-20 reps",tempo:"4/2/1 (slow/controlled)",rest:"0-90 seconds",intensity:"50-70% 1RM",load:"Light to moderate"},focus:["Muscular endurance","Core stability","Movement efficiency","Joint mobility","Postural control"],benefits:["Improved movement quality","Enhanced muscular endurance","Better postural control","Injury prevention foundation","Preparation for higher intensities"],exercises:["Ball squats, single-leg balance","Push-ups on ball, planks","Standing cable chest press","Single-leg Romanian deadlift","Overhead squats with light weight"],clientTypes:["Beginner","Deconditioned","Injury history","Movement dysfunction"]},phase2:{id:"phase2",name:"Phase 2: Strength Endurance",category:"Strength",description:"Develop stabilization and prime mover strength simultaneously",duration:"4-6 weeks",level:"Beginner to Intermediate",color:"#dc2626",parameters:{sets:"2-4 sets",reps:"8-12 reps",tempo:"2/0/2 (moderate)",rest:"0-60 seconds",intensity:"70-80% 1RM",load:"Moderate"},focus:["Strength endurance","Stabilization strength","Neuromuscular efficiency","Prime mover strength","Muscular endurance"],benefits:["Enhanced strength endurance","Improved stabilization","Better movement efficiency","Increased lean body mass","Improved muscular endurance"],exercises:["Superset: Bench press + push-ups","Superset: Squats + single-leg squats","Superset: Rows + single-arm rows","Superset: Overhead press + single-arm press","Core stabilization circuits"],clientTypes:["Intermediate","Strength endurance goals","General fitness"]},phase3:{id:"phase3",name:"Phase 3: Muscular Development",category:"Strength",description:"Maximize muscle growth and development",duration:"4-6 weeks",level:"Intermediate to Advanced",color:"#dc2626",parameters:{sets:"3-5 sets",reps:"6-12 reps",tempo:"2/0/2 (controlled)",rest:"0-60 seconds",intensity:"75-85% 1RM",load:"Moderate to heavy"},focus:["Muscular hypertrophy","Muscle growth","Strength development","Body composition","Metabolic enhancement"],benefits:["Increased muscle mass","Enhanced strength","Improved body composition","Better muscular definition","Increased metabolic rate"],exercises:["Traditional strength training","Compound movements","Isolation exercises","Progressive overload protocols","Higher volume training"],clientTypes:["Hypertrophy goals","Body composition","Intermediate to advanced"]},phase4:{id:"phase4",name:"Phase 4: Maximal Strength",category:"Strength",description:"Develop maximum force production capabilities",duration:"4-6 weeks",level:"Advanced",color:"#dc2626",parameters:{sets:"3-5 sets",reps:"1-5 reps",tempo:"X/X/X (explosive)",rest:"3-5 minutes",intensity:"85-100% 1RM",load:"Heavy to maximum"},focus:["Maximal strength","Force production","Neural adaptations","Power development","Performance enhancement"],benefits:["Maximum strength gains","Enhanced power output","Improved rate of force development","Neural efficiency","Athletic performance"],exercises:["Heavy compound movements","Low rep protocols","Olympic lift variations","Heavy squats, deadlifts, presses","Explosive movements"],clientTypes:["Advanced athletes","Strength goals","Performance athletes"]},phase5:{id:"phase5",name:"Phase 5: Power",category:"Power",description:"Develop rate of force production and explosive power",duration:"4-6 weeks",level:"Advanced",color:"#dc2626",parameters:{sets:"3-5 sets",reps:"1-5 reps",tempo:"X/X/X (explosive)",rest:"3-5 minutes",intensity:"30-45% 1RM (speed) / 85-100% 1RM (strength)",load:"Variable (light for speed, heavy for strength)"},focus:["Power development","Rate of force development","Explosive strength","Sport-specific power","Athletic performance"],benefits:["Explosive power gains","Improved athletic performance","Enhanced rate of force development","Sport-specific adaptations","Functional power"],exercises:["Superset: Heavy squats + jump squats","Superset: Bench press + medicine ball throws","Olympic lift variations","Plyometric exercises","Speed and agility drills"],clientTypes:["Elite athletes","Sport performance","Power development goals"]}},At={weight_loss:{primary:"phase1",secondary:"phase2",reasoning:"Stabilization endurance and strength endurance phases maximize caloric expenditure and improve movement efficiency",progression:["phase1","phase2","phase1","phase2"]},muscle_gain:{primary:"phase3",secondary:"phase2",reasoning:"Muscular development phase optimizes hypertrophy while strength endurance provides foundation",progression:["phase1","phase2","phase3","phase2"]},sports_performance:{primary:"phase5",secondary:"phase4",reasoning:"Power development with maximal strength foundation for athletic performance",progression:["phase1","phase2","phase4","phase5"]},general_fitness:{primary:"phase2",secondary:"phase1",reasoning:"Strength endurance provides balanced fitness benefits with stabilization foundation",progression:["phase1","phase2","phase1","phase2"]},strength:{primary:"phase4",secondary:"phase3",reasoning:"Maximal strength development with muscular development support",progression:["phase1","phase2","phase3","phase4"]}},Jh=()=>{const{state:s,actions:t}=Me(),[i,n]=k.useState(null),[r,l]=k.useState(!0),c=(()=>{var C;const u=((C=s.primaryGoal)==null?void 0:C.toLowerCase().replace(" ","_"))||"general_fitness",b=At[u]||At.general_fitness;return{phase:Zs[b.primary],reasoning:b.reasoning,progression:b.progression.map(A=>Zs[A].name)}})(),o=u=>{var C;const b=Zs[u];n(b),t.setMethodologyContext({...s.methodologyContext,selectedOPTPhase:b,phaseParameters:b.parameters,phaseProgression:At[((C=s.primaryGoal)==null?void 0:C.toLowerCase().replace(" ","_"))||"general_fitness"].progression})},h=()=>{i&&t.setCurrentStep(10)},m=({phase:u,isRecommended:b,isSelected:C})=>e.jsxs("div",{className:`phase-card ${C?"selected":""} ${b?"recommended":""}`,onClick:()=>o(u.id),children:[e.jsxs("div",{className:"phase-header",children:[e.jsx("h3",{children:u.name}),e.jsx("div",{className:"phase-category",children:u.category}),b&&e.jsx("div",{className:"recommended-badge",children:"Recommended"})]}),e.jsxs("div",{className:"phase-description",children:[e.jsx("p",{children:u.description}),e.jsxs("div",{className:"phase-details",children:[e.jsxs("span",{className:"duration",children:["Duration: ",u.duration]}),e.jsxs("span",{className:"level",children:["Level: ",u.level]})]})]}),e.jsxs("div",{className:"phase-parameters",children:[e.jsx("h4",{children:"Training Parameters"}),e.jsxs("div",{className:"parameter-grid",children:[e.jsxs("div",{className:"parameter",children:[e.jsx("strong",{children:"Sets:"})," ",u.parameters.sets]}),e.jsxs("div",{className:"parameter",children:[e.jsx("strong",{children:"Reps:"})," ",u.parameters.reps]}),e.jsxs("div",{className:"parameter",children:[e.jsx("strong",{children:"Tempo:"})," ",u.parameters.tempo]}),e.jsxs("div",{className:"parameter",children:[e.jsx("strong",{children:"Rest:"})," ",u.parameters.rest]}),e.jsxs("div",{className:"parameter",children:[e.jsx("strong",{children:"Intensity:"})," ",u.parameters.intensity]}),e.jsxs("div",{className:"parameter",children:[e.jsx("strong",{children:"Load:"})," ",u.parameters.load]})]})]}),e.jsxs("div",{className:"phase-focus",children:[e.jsx("h4",{children:"Primary Focus"}),e.jsx("ul",{children:u.focus.map((A,q)=>e.jsx("li",{children:A},q))})]}),e.jsxs("div",{className:"client-types",children:[e.jsx("h4",{children:"Best For"}),e.jsx("div",{className:"client-type-tags",children:u.clientTypes.map((A,q)=>e.jsx("span",{className:"client-type-tag",children:A},q))})]})]});return e.jsxs("div",{className:"nasm-opt-phase-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("h2",{children:"🎯 NASM OPT Phase Selection"}),e.jsx("p",{children:"Select the appropriate OPT model phase based on your goals and experience level"})]}),r&&e.jsx("div",{className:"recommendation-section",children:e.jsxs("div",{className:"recommendation-card",children:[e.jsxs("h3",{children:["📋 Recommended Phase for ",s.primaryGoal||"Your Goal"]}),e.jsxs("div",{className:"recommended-phase",children:[e.jsx("h4",{children:c.phase.name}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why:"})," ",c.reasoning]})]}),e.jsxs("div",{className:"progression-path",children:[e.jsx("h4",{children:"Suggested Progression"}),e.jsx("div",{className:"progression-timeline",children:c.progression.map((u,b)=>e.jsxs("div",{className:"progression-item",children:[e.jsx("span",{className:"phase-number",children:b+1}),e.jsx("span",{className:"phase-name",children:u})]},b))})]}),e.jsx("button",{className:"dismiss-recommendation",onClick:()=>l(!1),children:"View All Phases"})]})}),e.jsx("div",{className:"phases-grid",children:Object.values(Zs).map(u=>e.jsx(m,{phase:u,isRecommended:u.id===c.phase.id,isSelected:(i==null?void 0:i.id)===u.id},u.id))}),i&&e.jsxs("div",{className:"selection-summary",children:[e.jsxs("div",{className:"selected-phase-summary",children:[e.jsxs("h3",{children:["Selected: ",i.name]}),e.jsx("p",{children:i.description}),e.jsxs("div",{className:"key-benefits",children:[e.jsx("h4",{children:"Key Benefits"}),e.jsx("ul",{children:i.benefits.map((u,b)=>e.jsx("li",{children:u},b))})]})]}),e.jsx("div",{className:"continue-section",children:e.jsxs("button",{className:"continue-btn",onClick:h,children:["Continue with ",i.name," →"]})})]}),e.jsx("style",{jsx:!0,children:`
                .nasm-opt-phase-step {
                    padding: 30px;
                    background: #111827;
                    color: #d1d5db;
                    min-height: 100vh;
                }

                .step-header {
                    text-align: center;
                    margin-bottom: 40px;
                }

                .step-header h2 {
                    color: #dc2626;
                    font-size: 2.5em;
                    margin-bottom: 10px;
                    font-weight: 700;
                }

                .step-header p {
                    font-size: 1.2em;
                    color: #9ca3af;
                }

                .recommendation-section {
                    margin-bottom: 40px;
                }

                .recommendation-card {
                    background: #1f2937;
                    border: 2px solid #dc2626;
                    border-radius: 12px;
                    padding: 30px;
                    max-width: 800px;
                    margin: 0 auto;
                }

                .recommendation-card h3 {
                    color: #dc2626;
                    margin-bottom: 20px;
                    font-size: 1.5em;
                }

                .recommended-phase h4 {
                    color: #ffffff;
                    font-size: 1.3em;
                    margin-bottom: 10px;
                }

                .progression-path {
                    margin-top: 25px;
                }

                .progression-path h4 {
                    color: #dc2626;
                    margin-bottom: 15px;
                }

                .progression-timeline {
                    display: flex;
                    gap: 15px;
                    flex-wrap: wrap;
                }

                .progression-item {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    background: #374151;
                    padding: 8px 12px;
                    border-radius: 6px;
                }

                .phase-number {
                    background: #dc2626;
                    color: white;
                    width: 24px;
                    height: 24px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 0.9em;
                    font-weight: bold;
                }

                .phase-name {
                    font-size: 0.9em;
                    color: #d1d5db;
                }

                .dismiss-recommendation {
                    background: #374151;
                    color: #d1d5db;
                    border: 1px solid #4b5563;
                    padding: 8px 16px;
                    border-radius: 6px;
                    cursor: pointer;
                    margin-top: 20px;
                    transition: all 0.3s ease;
                }

                .dismiss-recommendation:hover {
                    background: #4b5563;
                    border-color: #6b7280;
                }

                .phases-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
                    gap: 25px;
                    margin-bottom: 40px;
                }

                .phase-card {
                    background: #1f2937;
                    border: 2px solid #374151;
                    border-radius: 12px;
                    padding: 25px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    position: relative;
                }

                .phase-card:hover {
                    border-color: #dc2626;
                    transform: translateY(-2px);
                    box-shadow: 0 8px 25px rgba(220, 38, 38, 0.2);
                }

                .phase-card.selected {
                    border-color: #dc2626;
                    background: #292524;
                    box-shadow: 0 0 20px rgba(220, 38, 38, 0.3);
                }

                .phase-card.recommended {
                    border-color: #fbbf24;
                }

                .phase-header {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    margin-bottom: 15px;
                    flex-wrap: wrap;
                    gap: 10px;
                }

                .phase-header h3 {
                    color: #dc2626;
                    font-size: 1.3em;
                    margin: 0;
                    font-weight: 600;
                }

                .phase-category {
                    background: #dc2626;
                    color: white;
                    padding: 4px 12px;
                    border-radius: 20px;
                    font-size: 0.8em;
                    font-weight: 600;
                }

                .recommended-badge {
                    background: #fbbf24;
                    color: #111827;
                    padding: 4px 12px;
                    border-radius: 20px;
                    font-size: 0.8em;
                    font-weight: 600;
                }

                .phase-description {
                    margin-bottom: 20px;
                }

                .phase-description p {
                    color: #d1d5db;
                    line-height: 1.5;
                    margin-bottom: 10px;
                }

                .phase-details {
                    display: flex;
                    gap: 15px;
                    font-size: 0.9em;
                    color: #9ca3af;
                }

                .phase-parameters {
                    margin-bottom: 20px;
                }

                .phase-parameters h4 {
                    color: #dc2626;
                    font-size: 1.1em;
                    margin-bottom: 10px;
                }

                .parameter-grid {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 8px;
                }

                .parameter {
                    background: #374151;
                    padding: 8px;
                    border-radius: 6px;
                    font-size: 0.9em;
                }

                .parameter strong {
                    color: #dc2626;
                }

                .phase-focus {
                    margin-bottom: 20px;
                }

                .phase-focus h4 {
                    color: #dc2626;
                    font-size: 1.1em;
                    margin-bottom: 10px;
                }

                .phase-focus ul {
                    list-style: none;
                    padding: 0;
                    margin: 0;
                }

                .phase-focus li {
                    color: #d1d5db;
                    font-size: 0.9em;
                    padding: 4px 0;
                    border-left: 3px solid #dc2626;
                    padding-left: 12px;
                    margin-bottom: 4px;
                }

                .client-types h4 {
                    color: #dc2626;
                    font-size: 1.1em;
                    margin-bottom: 10px;
                }

                .client-type-tags {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 8px;
                }

                .client-type-tag {
                    background: #374151;
                    color: #d1d5db;
                    padding: 4px 8px;
                    border-radius: 4px;
                    font-size: 0.8em;
                    border: 1px solid #4b5563;
                }

                .selection-summary {
                    background: #1f2937;
                    border: 2px solid #dc2626;
                    border-radius: 12px;
                    padding: 30px;
                    margin-top: 30px;
                }

                .selected-phase-summary h3 {
                    color: #dc2626;
                    font-size: 1.5em;
                    margin-bottom: 10px;
                }

                .selected-phase-summary p {
                    color: #d1d5db;
                    margin-bottom: 20px;
                    font-size: 1.1em;
                }

                .key-benefits h4 {
                    color: #dc2626;
                    margin-bottom: 10px;
                }

                .key-benefits ul {
                    list-style: none;
                    padding: 0;
                    margin: 0;
                }

                .key-benefits li {
                    color: #d1d5db;
                    padding: 6px 0;
                    border-left: 3px solid #dc2626;
                    padding-left: 15px;
                    margin-bottom: 6px;
                }

                .continue-section {
                    margin-top: 30px;
                    text-align: center;
                }

                .continue-btn {
                    background: #dc2626;
                    color: white;
                    border: none;
                    padding: 15px 30px;
                    border-radius: 8px;
                    font-size: 1.2em;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                }

                .continue-btn:hover {
                    background: #b91c1c;
                    transform: translateY(-2px);
                    box-shadow: 0 8px 25px rgba(220, 38, 38, 0.3);
                }

                @media (max-width: 768px) {
                    .phases-grid {
                        grid-template-columns: 1fr;
                    }
                    
                    .parameter-grid {
                        grid-template-columns: 1fr;
                    }
                    
                    .progression-timeline {
                        flex-direction: column;
                    }
                }
            `})]})},Zh=()=>{var T;const{state:s,actions:t}=Me();_o();const[i,n]=qo(),[r,l]=k.useState(new Set),[a,c]=k.useState(!0),[o,h]=k.useState(0),[m,u]=k.useState(!1),[b,C]=k.useState(!1),[A,q]=k.useState(new Set),g=parseInt(i.get("step"))||null,d=g||s.currentStep||1,x=Yh(d),f=p=>{n(R=>{const _=new URLSearchParams(R);return _.set("step",p.toString()),_}),t.setCurrentStep(p),u(!1)};k.useEffect(()=>{d>1&&l(p=>{const R=new Set(p);for(let _=1;_<d;_++)R.add(_);return R})},[d]),k.useEffect(()=>{s.currentStep&&!g&&n(p=>{const R=new URLSearchParams(p);return R.set("step",s.currentStep.toString()),R})},[s.currentStep,g,n]),k.useEffect(()=>{const p=()=>{const R=window.innerWidth>=1024;C(R),R&&u(!1)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),k.useEffect(()=>{const p=v();q(R=>new Set([...R,p]))},[d]),k.useEffect(()=>{c(!1);const p=setTimeout(()=>{c(!0),h(R=>R+1)},150);return()=>clearTimeout(p)},[d]);const M=(Ze||[]).map(p=>({id:p.id,title:p.name,phase:p.phase})),v=()=>{if(M.length===0)return"foundation";const p=M.find(_=>_.id===d);return((p==null?void 0:p.phase)||"Foundation").toLowerCase()},j={foundation:M.filter(p=>p.phase==="Foundation"),assessment:M.filter(p=>p.phase==="Assessment"),programming:M.filter(p=>p.phase==="Programming"),implementation:M.filter(p=>p.phase==="Implementation")},P=p=>{q(R=>{const _=new Set(R);return _.has(p)?_.delete(p):_.add(p),_})},w=p=>{switch(p){case 1:return e.jsx(Kh,{});case 2:return e.jsx(Qh,{});case 3:return e.jsx(Xh,{});case 4:return e.jsx(Lr,{});case 5:return e.jsxs("div",{className:"coming-soon p-6 bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4 tracking-wide",style:{fontFamily:"'Roboto', sans-serif"},children:"Step 5: Compensation Mapping"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",style:{fontFamily:"'Roboto', sans-serif"},children:"Coming soon - Muscle imbalance analysis and corrective strategy"}),e.jsx("button",{onClick:()=>f(6),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",style:{fontFamily:"'Roboto', sans-serif"},children:"Skip to Performance Tests →"})]});case 6:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4 tracking-wide",children:"Step 6: Performance & Capacity Tests"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Coming soon - Push-up test, Davies test, Shark skill, 1RM estimation"}),e.jsx("button",{onClick:()=>f(7),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to OPT Phase Selection →"})]});case 7:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4 tracking-wide",children:"Step 7: Choose Starting OPT Phase"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Coming soon - Phase 1-5 selection based on assessment findings"}),e.jsx("button",{onClick:()=>f(8),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Corrective Warm-up →"})]});case 8:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4 tracking-wide",children:"Step 8: Corrective Warm-up Block"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Coming soon - SMR and stretching prescription by phase"}),e.jsx("button",{onClick:()=>f(9),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Core/Balance/Plyo →"})]});case 9:return e.jsx(Jh,{});case 10:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Step 10: SAQ (Speed, Agility, Quickness)"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Coming soon - Sport-specific drill programming"}),e.jsx("button",{onClick:()=>f(11),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Resistance Training →"})]});case 11:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Step 11: Resistance Training Block"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Coming soon - Exercise selection, sets, reps, tempo, rest periods"}),e.jsx("button",{onClick:()=>f(12),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Cardio Plan →"})]});case 12:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Step 12: Cardiorespiratory Plan (FITTE)"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Coming soon - Heart rate zones and cardio prescription"}),e.jsx("button",{onClick:()=>f(13),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Session Template →"})]});case 13:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Step 13: Session Template & Weekly Split"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Coming soon - Microcycle design and session structure"}),e.jsx("button",{onClick:()=>f(14),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Mesocycle →"})]});case 14:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Step 14: Monthly Progression Rules (Mesocycle)"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Coming soon - 4-week progression and deload planning"}),e.jsx("button",{onClick:()=>f(15),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Macrocycle →"})]});case 15:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Step 15: Annual Plan (Macrocycle)"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Coming soon - Yearly periodization and phase transitions"}),e.jsx("button",{onClick:()=>f(16),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Special Populations →"})]});case 16:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Step 16: Special Population/Constraint Modifications"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Coming soon - Population-specific adaptations and equipment constraints"}),e.jsx("button",{onClick:()=>f(17),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors",children:"Skip to Monitoring →"})]});case 17:return e.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Step 17: Monitoring & Reassessment"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Coming soon - KPI tracking and reassessment protocols"}),e.jsxs("div",{className:"mt-6 p-4 bg-green-800 rounded-lg border border-green-600",children:[e.jsx("h4",{className:"text-green-100 text-lg font-semibold mb-2",children:"🎉 NASM OPT Program Design Complete!"}),e.jsx("p",{className:"text-green-200",children:"You have completed the comprehensive 17-step NASM program design process."})]})]});default:return e.jsx("div",{children:"Step not found"})}};return e.jsx(qr,{title:"NASM Program Workflow",subtitle:"Assessment, corrective strategy, and phased programming",breadcrumbs:[{label:"Dashboard",to:"/dashboard"},{label:"Programs",to:"/programs"},{label:"NASM Workflow"}],glass:!0,actions:[e.jsxs("span",{className:"inline-block px-3 py-1 bg-red-600 text-white rounded-full text-sm font-medium",style:{fontFamily:"'Roboto', sans-serif"},children:["Step ",d," of 17"]},"progress")],children:e.jsxs("div",{className:"workflow-container text-white",style:{fontFamily:"'Roboto', sans-serif"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[18rem_1fr] gap-6 pb-20 lg:pb-6",children:[e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 md:hidden mb-4",children:e.jsx("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:`${d/17*100}%`}})}),e.jsx(rt,{title:"Phase Navigation",children:e.jsxs(ye.div,{className:"order-first",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,ease:"easeOut"},children:[e.jsx("div",{className:"md:hidden mb-4",children:e.jsxs("button",{onClick:()=>u(!m),className:"w-full p-3 bg-gray-700 rounded-lg border border-gray-600 text-white font-medium flex items-center justify-between hover:bg-gray-600 transition-colors",children:[e.jsx("span",{className:"text-sm text-white tracking-wide",children:"☰ Step Navigation"}),e.jsx(ye.div,{animate:{rotate:m?180:0},transition:{duration:.2},className:"text-red-400",children:"▼"})]})}),e.jsxs("div",{className:`${m?"block":"hidden"} md:block flex flex-col space-y-2 mb-6`,children:[e.jsx(ye.button,{onClick:()=>P("foundation"),className:`px-4 py-3 rounded-md transition-all duration-200 text-left ${d<=2?"bg-red-600 text-white":d>2?"bg-green-800 text-green-100 hover:bg-green-700":"bg-gray-700 text-white hover:bg-red-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(pl,{className:"w-5 h-5 text-white"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-medium text-white tracking-wide",style:{fontFamily:"'Roboto', sans-serif"},children:"Foundation"}),e.jsx("small",{className:"text-sm text-gray-300",style:{fontFamily:"'Roboto', sans-serif"},children:"Steps 1-2"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d>2&&e.jsx(Ys,{className:"w-4 h-4 text-white"}),e.jsx(ye.div,{animate:{rotate:A.has("foundation")?180:0},transition:{duration:.2},children:e.jsx(Qe,{className:"w-4 h-4 text-white"})})]})]})}),e.jsx(ye.button,{onClick:()=>P("assessment"),className:`px-4 py-3 rounded-md transition-all duration-200 text-left ${d>=3&&d<=6?"bg-red-600 text-white":d>6?"bg-green-800 text-green-100 hover:bg-green-700":"bg-gray-700 text-white hover:bg-red-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(dl,{className:"w-5 h-5 text-white"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-medium text-white tracking-wide",style:{fontFamily:"'Roboto', sans-serif"},children:"Assessment"}),e.jsx("small",{className:"text-sm text-gray-300",style:{fontFamily:"'Roboto', sans-serif"},children:"Steps 3-6"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d>6&&e.jsx(Ys,{className:"w-4 h-4 text-white"}),e.jsx(ye.div,{animate:{rotate:A.has("assessment")?180:0},transition:{duration:.2},children:e.jsx(Qe,{className:"w-4 h-4 text-white"})})]})]})}),e.jsx(ye.button,{onClick:()=>P("programming"),className:`px-4 py-3 rounded-md transition-all duration-200 text-left ${d>=7&&d<=12?"bg-red-600 text-white":d>12?"bg-green-800 text-green-100 hover:bg-green-700":"bg-gray-700 text-white hover:bg-red-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ll,{className:"w-5 h-5 text-white"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-medium text-white tracking-wide",style:{fontFamily:"'Roboto', sans-serif"},children:"Programming"}),e.jsx("small",{className:"text-sm text-gray-300",style:{fontFamily:"'Roboto', sans-serif"},children:"Steps 7-12"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d>12&&e.jsx(Ys,{className:"w-4 h-4 text-white"}),e.jsx(ye.div,{animate:{rotate:A.has("programming")?180:0},transition:{duration:.2},children:e.jsx(Qe,{className:"w-4 h-4 text-white"})})]})]})}),e.jsx(ye.button,{onClick:()=>P("implementation"),className:`px-4 py-3 rounded-md transition-all duration-200 text-left ${d>=13?"bg-red-600 text-white":"bg-gray-700 text-white hover:bg-red-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(hl,{className:"w-5 h-5 text-white"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-medium text-white tracking-wide",style:{fontFamily:"'Roboto', sans-serif"},children:"Implementation"}),e.jsx("small",{className:"text-sm text-gray-300",style:{fontFamily:"'Roboto', sans-serif"},children:"Steps 13-17"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d===17&&e.jsx(Ys,{className:"w-4 h-4 text-white"}),e.jsx(ye.div,{animate:{rotate:A.has("implementation")?180:0},transition:{duration:.2},children:e.jsx(Qe,{className:"w-4 h-4 text-white"})})]})]})})]}),e.jsxs("div",{className:`${m?"block":"hidden"} md:block flex flex-col space-y-2`,children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",style:{fontFamily:"'Roboto', sans-serif"},children:"All Steps"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ye.button,{onClick:()=>P("foundation"),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-all duration-200",whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsx("span",{className:"text-white font-medium text-sm",children:"Foundation (Steps 1-2)"}),e.jsx(ye.div,{animate:{rotate:A.has("foundation")?180:0},transition:{duration:.2},children:e.jsx(Qe,{className:"w-4 h-4 text-gray-300"})})]}),e.jsx(hs,{children:A.has("foundation")&&e.jsx(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"ml-4 space-y-1",children:j.foundation.map((p,R)=>{const _=p.id===d,W=p.id<d;return e.jsx(ye.button,{onClick:()=>f(p.id),className:`w-full px-3 py-2 rounded-md transition-all duration-200 text-left ${_?"bg-red-600 text-white":W?"bg-green-800 text-green-100 hover:bg-green-700":"bg-gray-600 text-white hover:bg-red-600"}`,whileHover:{scale:1.01},whileTap:{scale:.99},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:R*.05},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-white tracking-wide",children:["Step ",p.id]}),e.jsx("div",{className:`text-xs mt-1 ${_?"text-white":W?"text-green-200":"text-gray-300"}`,children:p.title})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[W&&e.jsx("span",{className:"text-green-400 text-sm",children:"✓"}),_&&e.jsx("span",{className:"text-white text-sm",children:"→"})]})]})},p.id)})})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ye.button,{onClick:()=>P("assessment"),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-all duration-200",whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsx("span",{className:"text-white font-medium text-sm",children:"Assessment (Steps 3-6)"}),e.jsx(ye.div,{animate:{rotate:A.has("assessment")?180:0},transition:{duration:.2},children:e.jsx(Qe,{className:"w-4 h-4 text-gray-300"})})]}),e.jsx(hs,{children:A.has("assessment")&&e.jsx(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"ml-4 space-y-1",children:j.assessment.map((p,R)=>{const _=p.id===d,W=p.id<d;return e.jsx(ye.button,{onClick:()=>f(p.id),className:`w-full px-3 py-2 rounded-md transition-all duration-200 text-left text-sm ${_?"bg-red-600 text-white":W?"bg-green-800 text-green-100 hover:bg-green-700":"bg-gray-600 text-white hover:bg-red-600"}`,whileHover:{scale:1.01},whileTap:{scale:.99},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:R*.05},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-white",children:["Step ",p.id]}),e.jsx("div",{className:`text-xs mt-1 ${_?"text-white":W?"text-green-200":"text-gray-300"}`,children:p.title})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[W&&e.jsx("span",{className:"text-green-400 text-sm",children:"✓"}),_&&e.jsx("span",{className:"text-white text-sm",children:"→"})]})]})},p.id)})})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ye.button,{onClick:()=>P("programming"),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-all duration-200",whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsx("span",{className:"text-white font-medium text-sm",children:"Programming (Steps 7-12)"}),e.jsx(ye.div,{animate:{rotate:A.has("programming")?180:0},transition:{duration:.2},children:e.jsx(Qe,{className:"w-4 h-4 text-gray-300"})})]}),e.jsx(hs,{children:A.has("programming")&&e.jsx(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"ml-4 space-y-1",children:j.programming.map((p,R)=>{const _=p.id===d,W=p.id<d;return e.jsx(ye.button,{onClick:()=>f(p.id),className:`w-full px-3 py-2 rounded-md transition-all duration-200 text-left text-sm ${_?"bg-red-600 text-white":W?"bg-green-800 text-green-100 hover:bg-green-700":"bg-gray-600 text-white hover:bg-red-600"}`,whileHover:{scale:1.01},whileTap:{scale:.99},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:R*.05},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-white",children:["Step ",p.id]}),e.jsx("div",{className:`text-xs mt-1 ${_?"text-white":W?"text-green-200":"text-gray-300"}`,children:p.title})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[W&&e.jsx("span",{className:"text-green-400 text-sm",children:"✓"}),_&&e.jsx("span",{className:"text-white text-sm",children:"→"})]})]})},p.id)})})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ye.button,{onClick:()=>P("implementation"),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-all duration-200",whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsx("span",{className:"text-white font-medium text-sm",children:"Implementation (Steps 13-17)"}),e.jsx(ye.div,{animate:{rotate:A.has("implementation")?180:0},transition:{duration:.2},children:e.jsx(Qe,{className:"w-4 h-4 text-gray-300"})})]}),e.jsx(hs,{children:A.has("implementation")&&e.jsx(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"ml-4 space-y-1",children:j.implementation.map((p,R)=>{const _=p.id===d,W=p.id<d;return e.jsx(ye.button,{onClick:()=>f(p.id),className:`w-full px-3 py-2 rounded-md transition-all duration-200 text-left text-sm ${_?"bg-red-600 text-white":W?"bg-green-800 text-green-100 hover:bg-green-700":"bg-gray-600 text-white hover:bg-red-600"}`,whileHover:{scale:1.01},whileTap:{scale:.99},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:R*.05},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-white",children:["Step ",p.id]}),e.jsx("div",{className:`text-xs mt-1 ${_?"text-white":W?"text-green-200":"text-gray-300"}`,children:p.title})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[W&&e.jsx("span",{className:"text-green-400 text-sm",children:"✓"}),_&&e.jsx("span",{className:"text-white text-sm",children:"→"})]})]})},p.id)})})})]})]})]})}),e.jsx(rt,{title:x?`Step ${x.id}: ${x.name}`:"Current Step",children:e.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[e.jsx(hs,{mode:"wait",children:e.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},children:x&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 lg:p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-4 sm:space-y-0 sm:space-x-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-lg flex items-center justify-center text-white text-lg lg:text-xl flex-shrink-0",style:{backgroundColor:((T=Uh[x.phase])==null?void 0:T.color)||"#dc2626"},children:x.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-lg lg:text-xl font-bold text-white mb-2",style:{fontFamily:"'Roboto', sans-serif"},children:["Step ",x.id,": ",x.name]}),e.jsx("p",{className:"text-sm lg:text-base leading-6 text-gray-300",style:{fontFamily:"'Roboto', sans-serif"},children:x.description})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs(ye.div,{className:"bg-gray-900 rounded-lg p-3 lg:p-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1},children:[e.jsx("h4",{className:"font-semibold text-red-400 mb-2 text-sm lg:text-base",style:{fontFamily:"'Roboto', sans-serif"},children:"Requires:"}),e.jsx("ul",{className:"space-y-1",children:(x.requires||[]).map((p,R)=>e.jsxs(ye.li,{className:"text-sm lg:text-base leading-6 text-gray-300",style:{fontFamily:"'Roboto', sans-serif"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2+R*.1},children:["• ",p]},R))})]}),e.jsxs(ye.div,{className:"bg-gray-900 rounded-lg p-3 lg:p-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1},children:[e.jsx("h4",{className:"font-semibold text-green-400 mb-2 text-sm lg:text-base",style:{fontFamily:"'Roboto', sans-serif"},children:"Outputs:"}),e.jsx("ul",{className:"space-y-1",children:(x.outputs||[]).map((p,R)=>e.jsxs(ye.li,{className:"text-sm lg:text-base leading-6 text-gray-300",style:{fontFamily:"'Roboto', sans-serif"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2+R*.1},children:["• ",p]},R))})]})]})]})},`step-info-${d}`)}),e.jsx(hs,{mode:"wait",children:e.jsx(ye.div,{initial:{opacity:0,scale:.95,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-30},transition:{duration:.4,ease:"easeInOut",scale:{duration:.3},y:{duration:.4}},className:`bg-gray-800 rounded-lg p-4 lg:p-6 border border-gray-700 transition-opacity duration-300 ease-in-out ${a?"opacity-100":"opacity-0"}`,children:w(d)},`step-content-${d}-${o}`)}),e.jsxs(ye.div,{className:"hidden md:flex items-center justify-between space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[e.jsx(ye.button,{onClick:()=>{const p=Pr(d);p&&f(p.id)},disabled:d===1,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${d===1?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,whileHover:{scale:d===1?1:1.05},whileTap:{scale:d===1?1:.95},transition:{duration:.2},children:"← Previous Step"}),e.jsx(ye.div,{className:"flex-1 max-w-xs",whileHover:{scale:1.02},transition:{duration:.2},children:e.jsx("select",{value:d,onChange:p=>f(parseInt(p.target.value)),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",children:(Ze||[]).map(p=>e.jsxs("option",{value:p.id,children:["Step ",p.id,": ",p.name]},p.id))})}),e.jsx(ye.button,{onClick:()=>{const p=Cr(d);p&&f(p.id)},disabled:d===17,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${d===17?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,whileHover:{scale:d===17?1:1.05},whileTap:{scale:d===17?1:.95},transition:{duration:.2},children:"Next Step →"})]})]})})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(ye.div,{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-4 z-50",initial:{opacity:0,y:100},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 max-w-screen-xl mx-auto",children:[e.jsx(ye.button,{onClick:()=>{const p=Pr(d);p&&f(p.id)},disabled:d===1,className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${d===1?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,whileHover:{scale:d===1?1:1.02},whileTap:{scale:d===1?1:.95},transition:{duration:.2},children:"← Previous"}),e.jsxs("div",{className:"flex flex-col items-center px-4",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Step"}),e.jsxs("div",{className:"text-lg font-bold text-white",children:[d,"/17"]}),e.jsx("div",{className:"w-16 bg-gray-700 rounded-full h-1 mt-1",children:e.jsx("div",{className:"bg-red-600 h-1 rounded-full transition-all duration-300",style:{width:`${d/17*100}%`}})})]}),e.jsx(ye.button,{onClick:()=>{const p=Cr(d);p&&f(p.id)},disabled:d===17,className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${d===17?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,whileHover:{scale:d===17?1:1.02},whileTap:{scale:d===17?1:.95},transition:{duration:.2},children:"Next →"})]})})})]})})},eu=()=>{const{state:s,actions:t}=Me(),[i,n]=k.useState(!1);Er(!!i);const r=[{id:"system-recommendation",name:"Choose Methodology",icon:"🏛️",step:1,phase:"Methodology Foundation",description:"Select your training methodology and approach",features:["System Selection","Methodology Overview","Approach Comparison"]},{id:"primary-goal",name:"Training Goals",icon:"🎯",step:2,phase:"User Info",description:"Training focus and objectives (methodology-specific)",features:["Methodology-Aware Goals","Goal-System Integration"]},{id:"experience-level",name:"Experience Level",icon:"📈",step:3,phase:"User Info",description:"Program complexity level and methodology experience",features:["Experience Assessment","Recovery Capacity","Methodology Background"]},{id:"timeline",name:"Timeline",icon:"⏱️",step:4,phase:"User Info",description:"Program duration and methodology-specific periodization",features:["Duration Selection","Methodology Phases","Deload Scheduling"]},{id:"injury-screening",name:"Injury Screening",icon:"🏥",step:6,phase:"Assessments",description:"Safety assessment with methodology-specific considerations",features:["Injury History","Movement Screen","Methodology Modifications"]},{id:"periodization",name:"Periodization",icon:"📅",step:7,phase:"Program Design",description:"Methodology-specific periodization strategy and planning",features:["Methodology Periodization","Phase Planning","Progression Strategy"]},{id:"implementation",name:"Implementation",icon:"📊",step:8,phase:"Program Design",description:"Complete implementation with methodology-specific monitoring",features:["Implementation Plan","Progress Monitoring","Methodology Tracking"]}],l=o=>({"josh-bryant":[{id:"pha-health-screen",name:"PHA Health Screen",icon:"❤️",step:5,phase:"Assessments",description:"Physical Activity Readiness for tactical/strongman training"},{id:"gainer-type",name:"Gainer Type",icon:"🧬",step:5,phase:"Assessments",description:"Fiber type assessment for Bryant-specific programming"}],RP:[{id:"volume-landmarks",name:"Volume Landmarks",icon:"📊",step:5,phase:"Assessments",description:"Current training volume and MEV/MAV/MRV establishment"}],"5/3/1":[{id:"training-max",name:"Training Max Assessment",icon:"💪",step:5,phase:"Assessments",description:"Current 1RM testing and Training Max establishment"}],linear:[{id:"movement-assessment",name:"Movement Assessment",icon:"🏃",step:5,phase:"Assessments",description:"Movement quality baseline for motor control focus"}],NASM:[{id:"nasm-movement-screen",name:"NASM Movement Screen",icon:"🎯",step:5,phase:"Assessments",description:"NASM movement assessment and muscle imbalance analysis"}]})[o]||[],a=s.currentStep>=5?l(s.selectedSystem):[],c=[...r.filter(o=>o.phase==="Methodology Foundation"),...r.filter(o=>o.phase==="User Info"),...a,...s.currentStep>=6?r.filter(o=>o.phase==="Assessments"&&o.step===6):[],...s.currentStep>=7?r.filter(o=>o.phase==="Program Design"):[]];return e.jsxs("div",{className:"program-navigation",children:[e.jsxs(rt,{title:"Workflow Progress",children:[e.jsx("p",{className:"text-gray-300 mb-6",children:"NEW 4-Phase Workflow: Choose Methodology → User Info → Assessments → Program Design"}),e.jsx("div",{className:"progress-phases mb-6",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"phase-indicator",children:[e.jsx("span",{className:"phase-number",children:"Phase 1"}),e.jsx("span",{className:"phase-name",children:"Choose Methodology"}),e.jsx("span",{className:"phase-steps",children:"System Selection"})]}),e.jsxs("div",{className:"phase-indicator",children:[e.jsx("span",{className:"phase-number",children:"Phase 2"}),e.jsx("span",{className:"phase-name",children:"User Info"}),e.jsx("span",{className:"phase-steps",children:"Goals, Experience, Timeline"})]}),e.jsxs("div",{className:"phase-indicator",children:[e.jsx("span",{className:"phase-number",children:"Phase 3"}),e.jsx("span",{className:"phase-name",children:"Assessments"}),e.jsx("span",{className:"phase-steps",children:"Methodology & Safety"})]}),e.jsxs("div",{className:"phase-indicator",children:[e.jsx("span",{className:"phase-number",children:"Phase 4"}),e.jsx("span",{className:"phase-name",children:"Program Design"}),e.jsx("span",{className:"phase-steps",children:"Periodization & Implementation"})]})]})}),s.selectedSystem&&e.jsx("div",{className:"methodology-context mb-4",children:e.jsxs("div",{className:"selected-methodology",children:[e.jsx("span",{className:"methodology-label",children:"Selected Methodology:"}),e.jsx("span",{className:"methodology-name",children:s.selectedSystem})]})})]}),e.jsxs(rt,{title:"Program Steps",children:[e.jsxs("div",{className:"phase-section",children:[e.jsx("div",{className:"phase-separator","data-phase":"Phase 1: Choose Methodology"}),c.filter(o=>o.phase==="Methodology Foundation").map((o,h)=>e.jsxs("div",{className:`tab-item ${s.currentStep===o.step?"active":""}`,onClick:()=>t.setCurrentStep(o.step),children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("span",{className:"tab-icon",children:o.icon}),e.jsxs("div",{className:"tab-info",children:[e.jsxs("div",{className:"tab-title",children:[e.jsxs("span",{className:"tab-step",children:["Step ",o.step]}),e.jsx("span",{className:"tab-name",children:o.name})]}),e.jsx("div",{className:"tab-phase",children:o.phase})]})]}),e.jsx("div",{className:"tab-description",children:o.description}),o.features&&e.jsx("div",{className:"tab-features",children:o.features.map(m=>e.jsx("span",{className:"feature-tag",children:m},m))})]},o.id))]}),s.selectedSystem&&e.jsxs("div",{className:"phase-section",children:[e.jsx("div",{className:"phase-separator","data-phase":"Phase 2: User Info"}),c.filter(o=>o.phase==="User Info").map((o,h)=>e.jsxs("div",{className:`tab-item ${s.currentStep===o.step?"active":""}`,onClick:()=>t.setCurrentStep(o.step),children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("span",{className:"tab-icon",children:o.icon}),e.jsxs("div",{className:"tab-info",children:[e.jsxs("div",{className:"tab-title",children:[e.jsxs("span",{className:"tab-step",children:["Step ",o.step]}),e.jsx("span",{className:"tab-name",children:o.name})]}),e.jsx("div",{className:"tab-phase",children:o.phase})]})]}),e.jsx("div",{className:"tab-description",children:o.description}),o.features&&e.jsx("div",{className:"tab-features",children:o.features.map(m=>e.jsx("span",{className:"feature-tag",children:m},m))})]},o.id))]}),s.selectedSystem&&e.jsxs("div",{className:"phase-section",children:[e.jsx("div",{className:"phase-separator","data-phase":"Phase 3: Assessments"}),c.filter(o=>o.phase==="Assessments").map((o,h)=>e.jsxs("div",{className:`tab-item ${s.currentStep===o.step?"active":""}`,onClick:()=>t.setCurrentStep(o.step),children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("span",{className:"tab-icon",children:o.icon}),e.jsxs("div",{className:"tab-info",children:[e.jsxs("div",{className:"tab-title",children:[e.jsxs("span",{className:"tab-step",children:["Step ",o.step]}),e.jsx("span",{className:"tab-name",children:o.name})]}),e.jsx("div",{className:"tab-phase",children:o.phase})]})]}),e.jsx("div",{className:"tab-description",children:o.description}),o.features&&e.jsx("div",{className:"tab-features",children:o.features.map(m=>e.jsx("span",{className:"feature-tag",children:m},m))})]},o.id))]}),s.selectedSystem&&e.jsxs("div",{className:"phase-section",children:[e.jsx("div",{className:"phase-separator","data-phase":"Phase 4: Program Design"}),c.filter(o=>o.phase==="Program Design").map((o,h)=>e.jsxs("div",{className:`tab-item ${s.currentStep===o.step?"active":""}`,onClick:()=>t.setCurrentStep(o.step),children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("span",{className:"tab-icon",children:o.icon}),e.jsxs("div",{className:"tab-info",children:[e.jsxs("div",{className:"tab-title",children:[e.jsxs("span",{className:"tab-step",children:["Step ",o.step]}),e.jsx("span",{className:"tab-name",children:o.name})]}),e.jsx("div",{className:"tab-phase",children:o.phase})]})]}),e.jsx("div",{className:"tab-description",children:o.description}),o.features&&e.jsx("div",{className:"tab-features",children:o.features.map(m=>e.jsx("span",{className:"feature-tag",children:m},m))})]},o.id))]})]})]})},su=()=>{const{state:s}=Me(),t=()=>{switch(s.currentStep){case 1:return e.jsx(un,{});case 2:return e.jsx(Yo,{});case 3:return e.jsx(Ko,{});case 4:return e.jsx(Qo,{});case 5:return s.selectedSystem==="josh-bryant"?e.jsx(Jo,{}):s.selectedSystem==="RP"?e.jsx(el,{}):s.selectedSystem==="5/3/1"?e.jsx(sl,{}):s.selectedSystem==="linear"?e.jsx(tl,{}):s.selectedSystem==="NASM"?e.jsx(Lr,{}):e.jsx("div",{children:"Please select a methodology first"});case 6:return e.jsx(Xo,{});case 7:return e.jsx(il,{});case 8:return e.jsx(nl,{});default:return e.jsx(un,{})}};return e.jsx("div",{className:"program-content",children:e.jsxs("div",{className:"step-container",children:[s.selectedSystem&&s.currentStep>1&&e.jsx("div",{className:"step-methodology-context",children:e.jsxs("div",{className:"methodology-badge",children:[e.jsx("span",{className:"methodology-icon",children:"🏛️"}),e.jsxs("span",{className:"methodology-text",children:[s.selectedSystem," Methodology"]})]})}),t()]})})},tu=()=>e.jsx(Uo,{children:e.jsx(iu,{})}),iu=()=>{const{state:s}=Me();return s.selectedSystem==="NASM"?e.jsx(Zh,{}):e.jsx(qr,{title:"Streamlined Program",subtitle:"Design and manage training programs",breadcrumbs:[{label:"Dashboard",to:"/dashboard"},{label:"Programs",to:"/programs"},{label:"Streamlined Program"}],glass:!0,children:e.jsx("div",{className:"program-page streamlined-workflow methodology-first",children:e.jsxs("div",{className:"program-container",children:[e.jsx(eu,{}),e.jsx(su,{})]})})})},fu=()=>{const[s,t]=k.useState(null),[i,n]=k.useState(!1);Er(!!i);const r=l=>{console.log("Selected methodology:",l),console.log("Methodology ID:",l==null?void 0:l.id),t(l)};return console.log("Current selectedMethodology:",s),console.log("Should show 5/3/1 workflow?",(s==null?void 0:s.id)==="fivethreeone"),(s==null?void 0:s.id)==="fivethreeone"?e.jsx("div",{className:"min-h-screen bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"💪 5/3/1 Training System"}),e.jsx("p",{className:"text-gray-300",children:"Jim Wendler's proven strength training methodology"}),e.jsx("button",{onClick:()=>t(null),className:"mt-4 text-sm text-blue-400 hover:text-blue-300 underline",children:"← Back to Methodology Selection"})]}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx(Lt,{to:"/print-week",className:"px-3 py-1.5 rounded border border-gray-600 text-gray-100 hover:bg-gray-800 text-sm",children:"Print Week"})}),e.jsx(zo,{})]})}):s&&s.id!=="fivethreeone"?e.jsx("div",{className:"min-h-screen bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:[s.icon," ",s.name]}),e.jsx("p",{className:"text-gray-300 mb-4",children:s.description}),e.jsx("button",{onClick:()=>t(null),className:"text-sm text-blue-400 hover:text-blue-300 underline",children:"← Back to Methodology Selection"})]}),e.jsx(tu,{})]})}):e.jsx("div",{className:"min-h-screen bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsx(Wo,{}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx(Lt,{to:"/print-week",className:"px-3 py-1.5 rounded border border-gray-600 text-gray-100 hover:bg-gray-800 text-sm",children:"Print Week"})}),e.jsx(Do,{onMethodologySelect:r,selectedMethodology:s})]})})};export{fu as default};
//# sourceMappingURL=Program-BlNjx0w4.js.map
