# 5/3/1 (BBB Focus) – Research & Structuring Notes

These notes capture the core structural elements we are encoding into the method pack (JSONC) while avoiding verbatim source text. They provide a normalized, implementation‑ready view of 5/3/1 with Boring But Big and related assistance templates.

---
## Core Principles
- Training Max (TM) = (conservative 1RM) * 0.90 (default). All percentage work is applied to TM, not true 1RM.
- Four classic main-lift weeks per cycle:
  1. Week 1 ("3x5"): 65 / 75 / 85 % TM, last set AMRAP.
  2. Week 2 ("3x3"): 70 / 80 / 90 % TM, last set AMRAP.
  3. Week 3 ("5/3/1"): 75 / 85 / 95 % TM, last set AMRAP (1+).
  4. Week 4 (Deload): 40 / 50 / 60 % TM (no AMRAP).
- Warm‑ups (typical baseline): 40% ×5, 50% ×5, 60% ×3 (can be toggled off or customized).
- AMRAP = performance auto‑regulation; only weeks 1–3 last set.

## Supplemental (BBB & Alternatives)
| Template | Description | Core Rule |
|----------|-------------|-----------|
| BBB 60%  | Same lift or paired opposite; 5×10 @ 50–70% TM (here pack uses 60%) | Volume hypertrophy after main sets |
| Triumvirate | Main lift + 2 assistance movements (each 5 sets) | Focus + constraint on total volume |
| Jack Shit | Only the prescribed main sets | Minimalist / time‑constrained phase |
| Periodization Bible | Assistance slots across movement patterns (e.g. push, pull, single‑leg/core) | Broader hypertrophy / balance |
| Bodyweight | Assistance emphasis on bodyweight (pull‑ups, dips, push‑ups, core) | Equipment‑light variant |

We store these as `templates[].effects.supplemental` (for BBB) and/or `templates[].effects.assistance` for others.

## Assistance Volume Guidance
- Triumvirate: 2 exercises × (generally) 5 sets each, 10–15 reps.
- Bodyweight variant: similar structure but bodyweight categories.
- Periodization Bible: multiple categories, often 3 slots × 5 sets of 10–20 reps (broad volume range); we encode ranges as descriptive strings (e.g. "10-20").
- Jack Shit: no supplemental or assistance, just main sets.

## Decision Tree (Wizard Mapping)
1. Days per week (4 / 3 / 2 / 1) → sets schedule frequency & canonical order trimming.
2. Assistance preference / volume → selects matching template ID (bbb60, triumvirate, jack_shit, periodization_bible, bodyweight).
3. TM Input Mode → choose direct (user enters tested 1RM) vs estimate (user enters rep test to compute) – stored as `tm.method`.

## Data Modeling Notes
- `progressions.weeks[].main` keeps explicit objects with: `{ kind: 'percent_of', of: 'TM', value, reps, amrap? }`.
- We retain `amrap_all` on deload = false.
- Warm‑ups stored as list of percent objects to allow alternate warmup schemes later.
- `templates[].provenance` and pack‑level `provenance` track source.
- Decision tree question options each carry an `effects` object; effects are additive merges into context state (future adapter).

## Future Enhancements (Not Yet Implemented)
- Add load increment rules (upper/lower TM increases per cycle).
- Add dynamic assistance category selection rules.
- Add conditioning & mobility guidance.
- Add versioned validation against core schema (coreVersion compatibility check).
- Add local verifier runner: generate example weeks (press Week1, Week4) and compare against expected percentages.

## Implementation Status Matrix
| Aspect | Current Source | When Flag OFF | When Flag ON |
|--------|----------------|---------------|--------------|
| Warm‑ups | Engine defaults / user schedule | Engine | Pack (progressions.warmups) merged into schedule |
| Main Sets | Engine percent tables | Engine | Pack (still using engine for final calc, but pack data cached) |
| Supplemental (BBB) | User state (manual) | Manual | Pack drives strategy/percent/pairing |
| Assistance Templates | Manual (future) | Manual | (Planned) from template effects |
| Decision Tree | Not active | N/A | (Planned) to seed state based on answers |

## Provenance Declaration
All encoded percentages and set structures derive from widely known public summaries of the 5/3/1 methodology; no proprietary text included. Wording intentionally normalized for implementation.

---
Generated and curated for internal development use – safe to commit.
