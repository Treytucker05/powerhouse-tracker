import{r as N,j as e,I as P,l as D,T as I}from"./ui-vendor-BLoy3R85.js";import{S as C}from"./StepStatusPill-DQ9CmkFw.js";import{J as A,S as _}from"./index-IJKD4ygM.js";import"./react-vendor-DoC2WAmd.js";import"./data-vendor-CWegSrCC.js";import"./chart-vendor-DbvXzfx8.js";import"./router-vendor-CDc5MEim.js";const c={BBB:"bbb",TRIUMVIRATE:"triumvirate",PERIODIZATION_BIBLE:"periodizationBible",BODYWEIGHT:"bodyweight",JACK_SHIT:"jackShit"},R=[{id:c.BBB,title:"Boring But Big",blurb:"Main 5/3/1 + 5×10 supplemental. Simple, high volume, great for muscle.",color:"border-red-500"},{id:c.TRIUMVIRATE,title:"Triumvirate",blurb:"Exactly 3 lifts: main + 2 big accessories. Quality over quantity.",color:"border-amber-500"},{id:c.PERIODIZATION_BIBLE,title:"Periodization Bible",blurb:"High volume bodybuilding-style categories for complete development.",color:"border-blue-500"},{id:c.BODYWEIGHT,title:"Bodyweight",blurb:"All assistance is bodyweight. Minimum total reps per movement.",color:"border-green-500"},{id:c.JACK_SHIT,title:'"I’m Not Doing Jack Shit"',blurb:"Main 5/3/1 only. No assistance. Use sparingly.",color:"border-gray-500"}];function U({data:T,updateData:y}){const a=T||{},g=s=>y({...a,...s}),p=a.templateConfig||{bbbPair:"same",bbbPercent:60,bwTarget:75},b=a.assistance||{options:{bbb:{percent:p.bbbPercent||60,pairMode:p.bbbPair||"same"}},perDay:{press:[],deadlift:[],bench:[],squat:[]}},{loaded:u,categoriesMap:f,exercises:j}=A(),h=N.useMemo(()=>{const s={};return j==null||j.forEach(r=>{s[r.exercise.toLowerCase()]=r}),s},[j]);N.useEffect(()=>{if(!a.template||!u)return;const s={...b.perDay};let r=!1;const o=(i,l)=>{if(s[i]&&s[i].length)return;const n=[];l.forEach(d=>{const t=h[d.toLowerCase()];if(t){const m=Number(t.default_sets)||5,x=t.numeric_reps||(/amrap/i.test(t.default_reps)?10:Number(t.default_reps)||10),v=/body|bw|bodyweight/i.test(t.equipment||"")||/AMRAP/i.test(t.default_reps)?{type:"bw"}:void 0;n.push({name:t.exercise,sets:m,reps:x,load:v})}}),n.length&&(s[i]=n,r=!0)};switch(a.template){case c.TRIUMVIRATE:o("press",["Dips","Chin-ups"]),o("bench",["DB Rows","Dips"]),o("deadlift",["Back Extension","Ab Wheel"]),o("squat",["Romanian Deadlift","Hanging Leg Raises"]);break;case c.PERIODIZATION_BIBLE:o("press",["DB Press","DB Rows","Dips"]),o("bench",["DB Incline Press","Chin-ups","Close-Grip Bench"]),o("deadlift",["Romanian Deadlift","Leg Press","Hanging Leg Raises"]),o("squat",["Back Extension","Leg Press","Ab Wheel"]);break;case c.BODYWEIGHT:o("press",["Push-Ups","Chin-ups","Dips"]),o("bench",["Push-Ups","Chin-ups","Dips"]),o("deadlift",["Chin-ups","Hanging Leg Raises"]),o("squat",["Push-Ups","Hanging Leg Raises","Sit-Ups"]);break}r&&g({assistance:{...b,perDay:s}})},[a.template,u]);const w=N.useMemo(()=>{if(!u)return{warnings:[]};const s={Pull:0,Push:0,Core:0,Posterior:0,"Single-Leg":0};Object.values(b.perDay).forEach(o=>o.forEach(i=>{const l=h[i.name.toLowerCase()];l&&(s[l.category_normalized]=(s[l.category_normalized]||0)+1)}));const r=[];return s.Pull<s.Push&&r.push("Pull work is lower than Push — consider adding a pull movement."),s.Core<2&&r.push("Low core volume — add a core exercise."),s.Posterior<2&&(a.template===c.TRIUMVIRATE||a.template===c.PERIODIZATION_BIBLE)&&r.push("Posterior chain underrepresented."),{counts:s,warnings:r}},[b.perDay,h,u,a.template]),E=s=>g({template:s});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:"Step 2: Choose Assistance Template"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"This choice drives your supplemental and accessory work. You can customize in the next step."})]}),e.jsx(C,{stepId:_.TEMPLATE_GALLERY,data:a})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded",children:e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx(P,{className:"w-5 h-5 text-blue-300 mt-0.5"}),e.jsxs("div",{className:"text-blue-100 text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Guidance"}),e.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"BBB"}),": best simple hypertrophy. Start at 50–60% TM for the 5×10; advance if recovery is solid."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Triumvirate"}),": lean sessions; two big accessories matched to the main lift."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Periodization Bible"}),": most comprehensive; 3+ categories per day, higher volume."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Bodyweight"}),": joint-friendly; hit minimum total reps (≥75) per exercise."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Jack Shit"}),": main work only; good for time crunches or poor recovery weeks."]})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:R.map(s=>{const r=a.template===s.id;return e.jsxs("button",{onClick:()=>E(s.id),className:`text-left bg-gray-900/60 border ${s.color} rounded p-4 hover:bg-gray-900 transition ${r?"ring-2 ring-red-500":""}`,children:[e.jsx("div",{className:"text-white font-semibold",children:s.title}),e.jsx("div",{className:"text-sm text-gray-300 mt-1",children:s.blurb}),r&&e.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-green-300 bg-green-900/20 border border-green-700 px-2 py-1 rounded",children:[e.jsx(D,{className:"w-4 h-4"}),"Selected"]})]},s.id)})}),a.template===c.BBB&&e.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4",children:[e.jsx("div",{className:"text-white font-medium mb-3",children:"BBB Options"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"Pairing"}),e.jsxs("select",{className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1",value:p.bbbPair||"same",onChange:s=>y({...a,templateConfig:{...p,bbbPair:s.target.value}}),children:[e.jsx("option",{value:"same",children:"Same main lift (e.g., Squat → Squat 5×10)"}),e.jsx("option",{value:"opposite",children:"Opposite lift (e.g., Squat → Deadlift 5×10)"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"BBB % of TM"}),e.jsx("input",{type:"number",min:"40",max:"75",step:"5",className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1",value:p.bbbPercent??60,onChange:s=>y({...a,templateConfig:{...p,bbbPercent:Number(s.target.value)||60}})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Start 50–60%. Increase only if recovery is solid."})]})]})]}),a.template===c.BODYWEIGHT&&e.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4",children:[e.jsx("div",{className:"text-white font-medium mb-3",children:"Bodyweight Options"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"Target reps per movement"}),e.jsx("input",{type:"number",min:"50",max:"200",step:"5",className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1",value:p.bwTarget??75,onChange:s=>y({...a,templateConfig:{...p,bwTarget:Number(s.target.value)||75}})})]})})]}),!a.template&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700 text-yellow-200 rounded p-3 text-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(I,{className:"w-4 h-4 mt-0.5"}),"Select a template to continue."]})}),a.template&&a.template!==c.JACK_SHIT&&e.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-white font-medium",children:"Assistance Preview & Edits"}),!u&&e.jsx("div",{className:"text-xs text-gray-400",children:"Loading exercise database…"})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"These selections seed Step 5. You can refine later. Categories & defaults sourced from research database."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["press","bench","deadlift","squat"].map(s=>{const r=b.perDay[s]||[],o=(()=>{switch(a.template){case c.TRIUMVIRATE:return r.length<2;case c.PERIODIZATION_BIBLE:return r.length<3;case c.BODYWEIGHT:return r.length<4;default:return!1}})();return e.jsxs("div",{className:"border border-gray-700 rounded p-3 bg-gray-800/40",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-gray-200 font-medium capitalize",children:[s," Day"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[r.length," items"]})]}),e.jsxs("ul",{className:"space-y-2 mb-2",children:[r.map((i,l)=>{var n;return e.jsxs("li",{className:"bg-gray-800/60 border border-gray-700 rounded p-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-100",children:i.name}),e.jsxs("span",{className:"text-gray-400",children:[i.sets,"×",i.reps,((n=i.load)==null?void 0:n.type)==="bw"&&" @BW"]})]}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("select",{className:"flex-1 bg-gray-900 border border-gray-600 text-gray-200 rounded px-2 py-1",value:i.name,onChange:d=>{const t=h[d.target.value.toLowerCase()];if(!t)return;const m=Number(t.default_sets)||i.sets,x=t.numeric_reps||(/amrap/i.test(t.default_reps)?10:Number(t.default_reps)||i.reps),v=/body|bw|bodyweight/i.test(t.equipment||"")||/AMRAP/i.test(t.default_reps)?{type:"bw"}:void 0,B={...b};B.perDay[s][l]={...i,name:t.exercise,sets:m,reps:x,load:v},g({assistance:B})},children:Object.keys(f).sort().map(d=>e.jsx("optgroup",{label:d,children:f[d].map(t=>{const m=t.equipment?` (${t.equipment.split(";")[0]})`:"";return e.jsxs("option",{value:t.exercise,children:[t.exercise,m]},t.exercise)})},d))}),e.jsx("button",{onClick:()=>{const d={...b};d.perDay[s]=d.perDay[s].filter((t,m)=>m!==l),g({assistance:d})},className:"px-2 py-1 rounded border border-gray-600 text-gray-300 hover:bg-gray-700/40",children:"✕"})]})]},l)}),!r.length&&e.jsx("li",{className:"text-xs text-gray-500",children:"No assistance yet."})]}),o&&u&&e.jsxs("select",{className:"w-full bg-gray-900 border border-gray-600 text-gray-200 rounded px-2 py-1 text-sm mb-2",value:"",onChange:i=>{const l=i.target.value;if(!l)return;const n=h[l.toLowerCase()];if(!n)return;const d=Number(n.default_sets)||5,t=n.numeric_reps||(/amrap/i.test(n.default_reps)?10:Number(n.default_reps)||10),m=/body|bw|bodyweight/i.test(n.equipment||"")||/AMRAP/i.test(n.default_reps)?{type:"bw"}:void 0,x={...b};x.perDay[s]=[...x.perDay[s]||[],{name:n.exercise,sets:d,reps:t,load:m}],g({assistance:x})},children:[e.jsx("option",{value:"",children:"+ Add Exercise"}),Object.keys(f).sort().map(i=>e.jsx("optgroup",{label:i,children:f[i].map(l=>{const n=l.equipment?` (${l.equipment.split(";")[0]})`:"";return e.jsxs("option",{value:l.exercise,children:[l.exercise,n]},l.exercise)})},i))]})]},s)})}),!!w.warnings.length&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded p-3 text-yellow-200 text-xs space-y-1",children:w.warnings.map((s,r)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{className:"w-4 h-4"})," ",e.jsx("span",{children:s})]},r))})]})]})}export{U as default};
//# sourceMappingURL=Step2TemplateGallery-hqv2SU8n.js.map
