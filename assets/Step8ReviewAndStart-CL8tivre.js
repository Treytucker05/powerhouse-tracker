import{r as b,j as r,I as N,a7 as w,p as S,a1 as O,f as C,$ as P,l as D}from"./ui-vendor-BLoy3R85.js";import{S as k}from"./StepStatusPill-B3ozayah.js";import{S as q}from"./index-BnxnLKiN.js";import{d as I,D as L,b as R,a as T}from"./scheduleHelpers-Dade5T3Q.js";import{p as A}from"./persistCycle-DTJEdfGi.js";import"./react-vendor-DoC2WAmd.js";import"./data-vendor-CWegSrCC.js";import"./chart-vendor-DbvXzfx8.js";import"./router-vendor-CDc5MEim.js";function y(e){return{press:"Overhead Press",bench:"Bench Press",squat:"Squat",deadlift:"Deadlift"}[e]||e}function x(e,n){var l,i;const s=(e==null?void 0:e.lifts)||{};return Number(n==="press"?((l=s==null?void 0:s.press)==null?void 0:l.tm)??0:((i=s==null?void 0:s[n])==null?void 0:i.tm)??0)}function W(e){const n=(e==null?void 0:e.template)||(e==null?void 0:e.templateChoice)||{};return(n==null?void 0:n.id)||(n==null?void 0:n.key)||n||"bbb"}function j(e,n){var i,a,m;const s=((i=e==null?void 0:e.assistance)==null?void 0:i.perDay)||((a=e==null?void 0:e.assistance)==null?void 0:a.byLift)||{},l=((m=e==null?void 0:e.assistance)==null?void 0:m.selections)||{};return s[n]||l[n]||[]}function J({state:e,day:n,lift:s,week:l,includeWarmups:i,roundInc:a,loadingOption:m}){const u=x(e,s);if(!u)return{day:n,lift:s,liftLabel:y(s),tm:0,warmups:[],mainSets:[],assistance:j(e,s),notes:""};const c=T(u,i,a),o=R(u,m,l,a);return{day:n,lift:s,liftLabel:y(s),tm:u,warmups:c,mainSets:o,assistance:j(e,s),notes:""}}function M(e={}){var m,u,c,o,d,h,g;const n=new Date().toISOString(),s={version:"531-v1",tmPercentage:(e==null?void 0:e.tmPercent)||(e==null?void 0:e.tmPercentage)||90,loadingOption:Number(((m=e==null?void 0:e.loading)==null?void 0:m.option)??(e==null?void 0:e.loadingOption)??1),roundingIncrement:Number(((u=e==null?void 0:e.rounding)==null?void 0:u.increment)??(e==null?void 0:e.roundingIncrement)??5),includeWarmups:!0,schedule:{frequency:((c=e==null?void 0:e.schedule)==null?void 0:c.frequency)||"4day",pattern:((o=e==null?void 0:e.schedule)==null?void 0:o.pattern)||"Mon/Tue/Thu/Fri",liftOrder:((d=e==null?void 0:e.schedule)==null?void 0:d.liftOrder)||["press","deadlift","bench","squat"]},template:W(e)},l=I(e),i=L.map(p=>({day:p,lift:l[p]||null})).filter(p=>!!p.lift),a=[1,2,3,4].map(p=>({week:p,days:i.map(({day:f,lift:v})=>J({state:e,day:f,lift:v,week:p,includeWarmups:s.includeWarmups,roundInc:s.roundingIncrement,loadingOption:s.loadingOption}))}));return{meta:{createdAt:n,generator:"powerhouse-tracker",programType:"5/3/1"},config:s,lifts:{press:x(e,"press"),bench:x(e,"bench"),squat:x(e,"squat"),deadlift:x(e,"deadlift")},advanced:{autoreg:((h=e==null?void 0:e.advanced)==null?void 0:h.autoreg)||{},specialization:((g=e==null?void 0:e.advanced)==null?void 0:g.specialization)||{}},conditioning:(e==null?void 0:e.conditioning)||{},weeks:a}}async function E(e){const n=JSON.stringify(e,null,2);try{return await navigator.clipboard.writeText(n),!0}catch{return!1}}function $(e,n="program.json"){const s=JSON.stringify(e,null,2),l=new Blob([s],{type:"application/json"}),i=URL.createObjectURL(l),a=document.createElement("a");a.href=i,a.download=n,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(i)}function t({label:e,value:n}){return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:e}),r.jsx("span",{className:"text-gray-200 font-medium",children:n})]})}function K({data:e}){const n=e||{},[s,l]=b.useState(!1),[i,a]=b.useState(!1),[m,u]=b.useState(!1),c=b.useMemo(()=>M(n),[n]),o=c.config,d=c.lifts,h=async()=>{const f=await E(c);l(f),setTimeout(()=>l(!1),1200)},g=()=>{$(c,`531_program_${new Date().toISOString().slice(0,10)}.json`)},p=()=>{A(c),u(!0)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:"Step 8: Review & Start"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Confirm settings, export JSON, or start this cycle now."})]}),r.jsx(k,{stepId:q.FINAL_REVIEW,data:n})]}),r.jsx("div",{className:"bg-blue-900/20 border border-blue-600 rounded p-4",children:r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx(N,{className:"w-5 h-5 text-blue-300 mt-0.5"}),r.jsxs("div",{className:"text-blue-100 text-sm",children:[r.jsx("div",{className:"font-medium mb-1",children:"What happens when you Start?"}),r.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[r.jsxs("li",{children:["We save a snapshot of your 5/3/1 program as the ",r.jsx("b",{children:"active cycle"}),"."]}),r.jsxs("li",{children:["Progress starts at ",r.jsx("b",{children:"Week 1"}),", day 1 of your schedule."]}),r.jsx("li",{children:"You can print, copy, or download the full plan JSON for records."}),r.jsxs("li",{children:[r.jsx("b",{children:"Conditioning:"})," Perform 2–3 weekly sessions (hill sprints, Prowler pushes, loaded carries) separate from lower‑body lifting when possible."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Recovery:"})," Add at least one rest day after two consecutive training days."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Guardrails:"})," Keep TM at 85–90% of true max; don’t layer extra random assistance beyond template."]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-2",children:[r.jsx("div",{className:"text-white font-medium mb-1",children:"Training Maxes"}),r.jsx(t,{label:"Overhead Press",value:d.press?`${d.press} lb`:"—"}),r.jsx(t,{label:"Bench Press",value:d.bench?`${d.bench} lb`:"—"}),r.jsx(t,{label:"Squat",value:d.squat?`${d.squat} lb`:"—"}),r.jsx(t,{label:"Deadlift",value:d.deadlift?`${d.deadlift} lb`:"—"})]}),r.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-2",children:[r.jsx("div",{className:"text-white font-medium mb-1",children:"Cycle & Template"}),r.jsx(t,{label:"Loading Option",value:`Option ${o.loadingOption}`}),r.jsx(t,{label:"Rounding",value:`${o.roundingIncrement} lb`}),r.jsx(t,{label:"Template",value:(o.template||"").toString().toUpperCase()}),r.jsx(t,{label:"Warm-ups",value:o.includeWarmups?"40/50/60%":"Off"})]}),r.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-2",children:[r.jsx("div",{className:"text-white font-medium mb-1",children:"Schedule"}),r.jsx(t,{label:"Frequency",value:o.schedule.frequency}),r.jsx(t,{label:"Pattern",value:o.schedule.pattern}),r.jsx(t,{label:"Lift Order",value:o.schedule.liftOrder.join(" → ")})]})]}),r.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded",children:[r.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-2",onClick:()=>a(!i),children:[r.jsx("span",{className:"text-white font-medium",children:"Program JSON Preview"}),i?r.jsx(w,{className:"w-5 h-5 text-gray-300"}):r.jsx(S,{className:"w-5 h-5 text-gray-300"})]}),i&&r.jsx("pre",{className:"px-4 pb-4 text-xs text-gray-200 overflow-auto",children:JSON.stringify(c,null,2)})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 px-3 py-2 rounded border border-gray-600 text-gray-100 hover:bg-gray-800",children:[r.jsx(O,{className:"w-4 h-4"})," ",s?"Copied!":"Copy JSON"]}),r.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-red-600 hover:bg-red-700 text-white",children:[r.jsx(C,{className:"w-4 h-4"})," Download JSON"]}),r.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(P,{className:"w-4 h-4"})," ",m?"Cycle Started":"Start Cycle"]})]}),m&&r.jsxs("div",{className:"bg-green-900/20 border border-green-500 rounded p-3 text-green-200 text-sm flex items-center gap-2",children:[r.jsx(D,{className:"w-4 h-4"})," Active 5/3/1 cycle saved. You can now train from Week 1 Day 1."]}),r.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4",children:[r.jsx("div",{className:"text-white font-medium mb-2",children:"Common Mistakes to Avoid"}),r.jsxs("ul",{className:"list-disc ml-5 space-y-1 text-sm text-gray-300",children:[r.jsx("li",{children:"Adding extra assistance volume “just because” — progress main lifts first."}),r.jsx("li",{children:"Pushing Training Max too high. Stay conservative; only adjust after consistent AMRAP performance."}),r.jsx("li",{children:"Skipping conditioning entirely. Short quality sessions improve recovery and work capacity."}),r.jsx("li",{children:"Stringing 3–4 lifting days in a row — recovery and reps suffer. Insert rest."})]})]})]})}export{K as default};
//# sourceMappingURL=Step8ReviewAndStart-CL8tivre.js.map
