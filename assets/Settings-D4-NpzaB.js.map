{"version":3,"file":"Settings-D4-NpzaB.js","sources":["../../src/pages/Settings.jsx"],"sourcesContent":["// src/pages/Settings.jsx\r\nimport React, { useEffect } from 'react';\r\nimport { useSettings } from '../contexts/SettingsContext.jsx';\r\nimport { Info } from 'lucide-react';\r\n\r\nexport default function Settings() {\r\n    const {\r\n        unit, setUnit,\r\n        useAutoIncrement, setUseAutoIncrement,\r\n        customIncrement, setCustomIncrement,\r\n        roundingIncrement,\r\n    } = useSettings();\r\n\r\n    // Ensure sensible default for custom increment when switching off auto\r\n    useEffect(() => {\r\n        if (!useAutoIncrement && (!customIncrement || Number(customIncrement) <= 0)) {\r\n            setCustomIncrement(unit === 'kg' ? 2.5 : 5);\r\n        }\r\n    }, [useAutoIncrement, unit, customIncrement, setCustomIncrement]);\r\n\r\n    return (\r\n        <div className=\"p-6 space-y-6\">\r\n            <div>\r\n                <h1 className=\"text-2xl font-semibold text-white\">Settings</h1>\r\n                <p className=\"text-gray-400\">Units & rounding apply everywhere (builder, train, print).</p>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-800 border border-gray-700 rounded p-5 space-y-4\">\r\n                <div className=\"flex items-start space-x-3\">\r\n                    <Info className=\"w-5 h-5 text-blue-400 mt-0.5\" />\r\n                    <div className=\"text-sm text-blue-200\">\r\n                        <div className=\"font-medium\">5/3/1 Rounding</div>\r\n                        <div>Defaults: 5 lb (US) or 2.5 kg (metric). You can override if you own microplates.</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid gap-4 md:grid-cols-2\">\r\n                    <div className=\"space-y-2\">\r\n                        <label className=\"text-gray-300 text-sm\">Unit</label>\r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={() => setUnit('lb')}\r\n                                className={`px-3 py-1.5 rounded border text-sm ${unit === 'lb'\r\n                                        ? 'border-red-500 text-white bg-red-600/20'\r\n                                        : 'border-gray-600 text-gray-200 hover:bg-gray-700'\r\n                                    }`}\r\n                            >Pounds (lb)</button>\r\n                            <button\r\n                                onClick={() => setUnit('kg')}\r\n                                className={`px-3 py-1.5 rounded border text-sm ${unit === 'kg'\r\n                                        ? 'border-red-500 text-white bg-red-600/20'\r\n                                        : 'border-gray-600 text-gray-200 hover:bg-gray-700'\r\n                                    }`}\r\n                            >Kilograms (kg)</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <label className=\"text-gray-300 text-sm\">Rounding Increment</label>\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <label className=\"flex items-center gap-2 text-gray-300 text-sm\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    className=\"accent-red-500\"\r\n                                    checked={useAutoIncrement}\r\n                                    onChange={e => setUseAutoIncrement(e.target.checked)}\r\n                                />\r\n                                Auto ({unit === 'kg' ? '2.5 kg' : '5 lb'})\r\n                            </label>\r\n                            {!useAutoIncrement && (\r\n                                <input\r\n                                    type=\"number\"\r\n                                    step=\"0.5\"\r\n                                    min=\"0.5\"\r\n                                    value={customIncrement ?? ''}\r\n                                    onChange={e => setCustomIncrement(e.target.value)}\r\n                                    className=\"bg-gray-900 border border-gray-600 text-white rounded px-3 py-1.5 w-28\"\r\n                                    placeholder={unit === 'kg' ? '2.5' : '5'}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-400\">Effective rounding: <span className=\"text-gray-200 font-mono\">{roundingIncrement} {unit}</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["Settings","unit","setUnit","useAutoIncrement","setUseAutoIncrement","customIncrement","setCustomIncrement","roundingIncrement","useSettings","useEffect","jsxs","jsx","Info","e"],"mappings":"8OAKA,SAAwBA,GAAW,CAC/B,KAAM,CACF,KAAAC,EAAM,QAAAC,EACN,iBAAAC,EAAkB,oBAAAC,EAClB,gBAAAC,EAAiB,mBAAAC,EACjB,kBAAAC,CAAA,EACAC,EAAA,EAGJC,OAAAA,EAAAA,UAAU,IAAM,CACR,CAACN,IAAqB,CAACE,GAAmB,OAAOA,CAAe,GAAK,IACrEC,EAAmBL,IAAS,KAAO,IAAM,CAAC,CAElD,EAAG,CAACE,EAAkBF,EAAMI,EAAiBC,CAAkB,CAAC,EAG5DI,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACX,SAAA,CAAAA,OAAC,MAAA,CACG,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,oCAAoC,SAAA,WAAQ,EAC1DA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,4DAAA,CAA0D,CAAA,EAC3F,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAK,UAAU,8BAAA,CAA+B,EAC/CF,EAAAA,KAAC,MAAA,CAAI,UAAU,wBACX,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,cAAc,SAAA,iBAAc,EAC3CA,EAAAA,IAAC,OAAI,SAAA,kFAAA,CAAgF,CAAA,CAAA,CACzF,CAAA,EACJ,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,4BACX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,EAC7CD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACX,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACG,QAAS,IAAMT,EAAQ,IAAI,EAC3B,UAAW,sCAAsCD,IAAS,KAChD,0CACA,iDACN,GACP,SAAA,aAAA,CAAA,EACDU,EAAAA,IAAC,SAAA,CACG,QAAS,IAAMT,EAAQ,IAAI,EAC3B,UAAW,sCAAsCD,IAAS,KAChD,0CACA,iDACN,GACP,SAAA,gBAAA,CAAA,CAAc,CAAA,CACnB,CAAA,EACJ,EAEAS,EAAAA,KAAC,MAAA,CAAI,UAAU,YACX,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,wBAAwB,SAAA,qBAAkB,EAC3DD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACX,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,UAAU,gDACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACG,KAAK,WACL,UAAU,iBACV,QAASR,EACT,SAAUU,GAAKT,EAAoBS,EAAE,OAAO,OAAO,CAAA,CAAA,EACrD,SACKZ,IAAS,KAAO,SAAW,OAAO,GAAA,EAC7C,EACC,CAACE,GACEQ,EAAAA,IAAC,QAAA,CACG,KAAK,SACL,KAAK,MACL,IAAI,MACJ,MAAON,GAAmB,GAC1B,SAAUQ,GAAKP,EAAmBO,EAAE,OAAO,KAAK,EAChD,UAAU,yEACV,YAAaZ,IAAS,KAAO,MAAQ,GAAA,CAAA,CACzC,EAER,EACAS,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,CAAA,uBAAoBA,EAAAA,KAAC,OAAA,CAAK,UAAU,0BAA2B,SAAA,CAAAH,EAAkB,IAAEN,CAAA,CAAA,CAAK,CAAA,CAAA,CAAO,CAAA,CAAA,CAC1I,CAAA,CAAA,CACJ,CAAA,CAAA,CACJ,CAAA,EACJ,CAER"}