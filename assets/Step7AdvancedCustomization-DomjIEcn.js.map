{"version":3,"file":"Step7AdvancedCustomization-DomjIEcn.js","sources":["../../src/lib/fiveThreeOne/autoRegulation.js","../../src/lib/fiveThreeOne/prTracking.js","../../src/components/program/printable/PrintableWeek.jsx","../../src/components/program/steps/Step7AdvancedCustomization.jsx"],"sourcesContent":["// src/lib/fiveThreeOne/autoRegulation.js\r\n\r\nexport function estimate1RM(weight, reps) {\r\n    // Wendler e1RM: W * reps * 0.0333 + W\r\n    const w = Number(weight) || 0, r = Math.max(1, Number(reps) || 1);\r\n    return w * r * 0.0333 + w;\r\n}\r\n\r\nexport const DEFAULT_AUTOREG = {\r\n    amrapCapRPE: 9,              // stop '+' sets around RPE 9\r\n    holdTMIfE1RMDrops: true,     // hold increments if e1RM trending down\r\n    holdThresholdPct: 2,         // % drop vs last cycle to trigger hold\r\n    allowHalfIncrementsOnStall: true, // UB +2.5 / LB +5 instead of +5/+10\r\n};\r\n\r\n/**\r\n * Decide TM increment recommendations.\r\n * @param {*} history { bench:[e1RM_by_cycle...], squat:[...], deadlift:[...], press:[...] }\r\n * @param {*} baseIncrements { upper:5, lower:10 }\r\n * @param {*} opts DEFAULT_AUTOREG-like\r\n * @returns per-lift inc suggestion in pounds e.g. { bench:5, press:5, squat:10, deadlift:10 }\r\n */\r\nexport function recommendTMIncrements(history = {}, baseIncrements = { upper: 5, lower: 10 }, opts = DEFAULT_AUTOREG) {\r\n    const lifts = ['bench', 'press', 'squat', 'deadlift'];\r\n    const out = {};\r\n    for (const k of lifts) {\r\n        const arr = Array.isArray(history[k]) ? history[k] : [];\r\n        const last = arr[arr.length - 1];\r\n        const prev = arr[arr.length - 2];\r\n        const isUpper = (k === 'bench' || k === 'press');\r\n        const base = isUpper ? baseIncrements.upper : baseIncrements.lower;\r\n\r\n        if (last && prev && opts.holdTMIfE1RMDrops) {\r\n            const dropPct = ((last - prev) / prev) * 100;\r\n            if (dropPct <= -Math.abs(opts.holdThresholdPct || 2)) {\r\n                out[k] = opts.allowHalfIncrementsOnStall ? Math.max(0, Math.round((base / 2) * 2) / 2) : 0; // half or 0\r\n                continue;\r\n            }\r\n        }\r\n        out[k] = base; // default +5/+10\r\n    }\r\n    return out;\r\n}\r\n","// src/lib/fiveThreeOne/prTracking.js\r\nconst KEY = 'fiveThreeOne_prs_v1';\r\n\r\nexport function getPRs() {\r\n    try {\r\n        const raw = localStorage.getItem(KEY);\r\n        return raw ? JSON.parse(raw) : {};\r\n    } catch {\r\n        return {};\r\n    }\r\n}\r\nexport function setPRs(prs) {\r\n    try { localStorage.setItem(KEY, JSON.stringify(prs || {})); } catch { }\r\n}\r\n\r\n/** Update PR if e1RM beats previous */\r\nexport function maybeUpdatePR(liftKey, e1RM, meta = { date: new Date().toISOString() }) {\r\n    if (!e1RM || e1RM <= 0) return getPRs();\r\n    const prs = getPRs();\r\n    const cur = prs[liftKey]?.e1RM || 0;\r\n    if (e1RM > cur) {\r\n        prs[liftKey] = { e1RM, ...meta };\r\n        setPRs(prs);\r\n    }\r\n    return prs;\r\n}\r\n","// src/components/program/printable/PrintableWeek.jsx\nimport React, { useMemo, useState } from 'react';\nimport './printable.css';\nimport { buildWarmups, buildMainSets } from '../../../lib/fiveThreeOne/percentTables.js';\nimport { deriveLiftDayMap, DAYS } from '../../../lib/fiveThreeOne/scheduleHelpers.js';\n\nconst LIFT_LABEL = {\n    press: 'Overhead Press', // single definition\n    bench: 'Bench Press',\n    squat: 'Squat',\n    deadlift: 'Deadlift'\n};\n\nfunction calcSetsForLift(tm, loadingOption, week, includeWarmups, roundTo = 5) {\n    const warmups = buildWarmups(tm, includeWarmups, roundTo);\n    const mains = buildMainSets(tm, loadingOption, week, roundTo);\n    return [...warmups, ...mains];\n}\n\nexport default function PrintableWeek({ state }) {\n    const [week, setWeek] = useState(1);\n    const [includeWarmups, setIncludeWarmups] = useState(true);\n    const [roundInc, setRoundInc] = useState(5);\n\n    // Current wizard shape stores per-lift data under state.lifts with .tm\n    const lifts = state?.lifts || {};\n    const tms = {\n        press: Number(lifts?.press?.tm ?? 0),\n        bench: Number(lifts?.bench?.tm ?? 0),\n        squat: Number(lifts?.squat?.tm ?? 0),\n        deadlift: Number(lifts?.deadlift?.tm ?? 0)\n    };\n    const loadingOption = Number(state?.loading?.option ?? state?.loadingOption ?? state?.cycle?.loadingOption ?? 1);\n\n    const dayMap = useMemo(() => deriveLiftDayMap(state), [state]);\n    const dayEntries = DAYS.map(d => ({ day: d, lift: dayMap[d] || null }))\n        .filter(x => !!x.lift);\n\n    return (\n        <div className=\"printable-wrap\">\n            <div className=\"printable-controls no-print\">\n                <div className=\"row\">\n                    <label>Week</label>\n                    <select value={week} onChange={e => setWeek(Number(e.target.value))}>\n                        <option value={1}>Week 1 (5s)</option>\n                        <option value={2}>Week 2 (3s)</option>\n                        <option value={3}>Week 3 (5/3/1)</option>\n                        <option value={4}>Week 4 (Deload)</option>\n                    </select>\n\n                    <label>Include Warm-ups</label>\n                    <input type=\"checkbox\" checked={includeWarmups} onChange={e => setIncludeWarmups(!!e.target.checked)} />\n\n                    <label>Rounding</label>\n                    <select value={roundInc} onChange={e => setRoundInc(Number(e.target.value))}>\n                        <option value={5}>5 lb</option>\n                        <option value={2.5}>2.5 lb</option>\n                    </select>\n\n                    <button onClick={() => window.print()}>Print</button>\n                </div>\n            </div>\n\n            <div className=\"print-grid\">\n                {dayEntries.map(({ day, lift }) => {\n                    // map schedule keys to TM keys\n                    const tmKey = lift;\n                    const tm = Number(tms?.[tmKey] || 0);\n\n                    const sets = tm ? calcSetsForLift(tm, loadingOption, week, includeWarmups, roundInc) : [];\n\n                    return (\n                        <div className=\"print-card\" key={day}>\n                            <div className=\"header\">\n                                <div className=\"title\">{day} — {LIFT_LABEL[tmKey] || lift}</div>\n                                <div className=\"sub\">TM: {tm ? `${tm} lb` : '—'}</div>\n                            </div>\n                            {!tm ? (\n                                <div className=\"empty\">No TM set for this lift.</div>\n                            ) : (\n                                <table className=\"set-table\">\n                                    <thead>\n                                        <tr><th>Type</th><th>%TM</th><th>Weight</th><th>Reps</th></tr>\n                                    </thead>\n                                    <tbody>\n                                        {sets.map((s, idx) => (\n                                            <tr key={idx}>\n                                                <td>{s.type === 'warmup' ? 'WU' : 'Main'}</td>\n                                                <td>{s.pct}%</td>\n                                                <td>{s.weight}</td>\n                                                <td>{s.reps}</td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            )}\n                            <div className=\"notes\">Notes:</div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n}\n","// src/components/program/steps/Step7AdvancedCustomization.jsx\r\nimport React, { useMemo } from 'react';\r\nimport { Info, CheckCircle, Sliders, Target, Trophy, Printer } from 'lucide-react';\r\nimport StepStatusPill from './_shared/StepStatusPill.jsx';\r\nimport { STEP_IDS } from './_registry/stepRegistry.js';\r\nimport { DEFAULT_AUTOREG, recommendTMIncrements } from '../../../lib/fiveThreeOne/autoRegulation.js';\r\nimport { getPRs } from '../../../lib/fiveThreeOne/prTracking.js';\r\nimport PrintableWeek from '../printable/PrintableWeek.jsx';\r\n\r\nconst LIFTS = [\r\n    { key: 'press', label: 'Overhead Press', type: 'upper' },\r\n    { key: 'bench', label: 'Bench Press', type: 'upper' },\r\n    { key: 'squat', label: 'Squat', type: 'lower' },\r\n    { key: 'deadlift', label: 'Deadlift', type: 'lower' }\r\n];\r\n\r\nexport default function Step7AdvancedCustomization({ data, updateData }) {\r\n    const st = data || {};\r\n    const set = (patch) => updateData({ ...st, ...patch });\r\n\r\n    // advanced state init\r\n    const adv = st.advanced || {};\r\n    const autoreg = { ...DEFAULT_AUTOREG, ...(adv.autoreg || {}) };\r\n    const spec = adv.specialization || { focus: [], volumeBiasPct: 15 };\r\n\r\n    const prsLocal = getPRs() || {};\r\n    const hist = adv?.history || {}; // optional arrays of e1RM by cycle\r\n\r\n    const tmIncs = useMemo(() => {\r\n        return recommendTMIncrements(\r\n            {\r\n                bench: hist.bench || [],\r\n                press: hist.press || [],\r\n                squat: hist.squat || [],\r\n                deadlift: hist.deadlift || []\r\n            },\r\n            { upper: 5, lower: 10 },\r\n            autoreg\r\n        );\r\n    }, [hist, autoreg]);\r\n\r\n    const toggleFocus = (k) => {\r\n        const arr = new Set(spec.focus || []);\r\n        if (arr.has(k)) arr.delete(k); else arr.add(k);\r\n        set({ advanced: { ...adv, specialization: { ...spec, focus: Array.from(arr) } } });\r\n    };\r\n\r\n    const setAutoreg = (patch) => {\r\n        set({ advanced: { ...adv, autoreg: { ...autoreg, ...patch } } });\r\n    };\r\n\r\n    const setSpec = (patch) => {\r\n        set({ advanced: { ...adv, specialization: { ...spec, ...patch } } });\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-start justify-between\">\r\n                <div>\r\n                    <h3 className=\"text-xl font-semibold text-white mb-1\">Step 7: Advanced Customization</h3>\r\n                    <p className=\"text-gray-400 text-sm\">\r\n                        Dial in auto‑regulation, specialization emphasis, track PRs, and generate printable week sheets.\r\n                    </p>\r\n                </div>\r\n                <StepStatusPill stepId={STEP_IDS.ADVANCED_CUSTOMIZATION} data={st} />\r\n            </div>\r\n\r\n            {/* Info box */}\r\n            <div className=\"bg-blue-900/20 border border-blue-600 rounded p-4\">\r\n                <div className=\"flex gap-3 items-start\">\r\n                    <Info className=\"w-5 h-5 text-blue-300 mt-0.5\" />\r\n                    <div className=\"text-blue-100 text-sm\">\r\n                        <div className=\"font-medium mb-1\">Philosophy</div>\r\n                        <ul className=\"list-disc ml-5 space-y-1\">\r\n                            <li>5/3/1 progresses best when you start light and add small, consistent jumps.</li>\r\n                            <li>Use RPE caps to keep AMRAPs productive (avoid grinders).</li>\r\n                            <li>Specialize only when needed; don’t wreck recovery.</li>\r\n                            <li>Track rep PRs / e1RMs to validate progress; adjust TMs conservatively.</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Auto‑regulation */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-4\">\r\n                <div className=\"flex items-center gap-2 text-white font-medium\">\r\n                    <Sliders className=\"w-5 h-5\" /> Auto‑Regulation\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                    <div>\r\n                        <label className=\"text-sm text-gray-300\">AMRAP Cap (RPE)</label>\r\n                        <input\r\n                            type=\"number\" min=\"8\" max=\"10\" step=\"0.5\"\r\n                            value={autoreg.amrapCapRPE}\r\n                            onChange={e => setAutoreg({ amrapCapRPE: Number(e.target.value) })}\r\n                            className=\"w-full bg-gray-800 border border-gray-600 text-white rounded px-2 py-1\"\r\n                        />\r\n                        <div className=\"text-xs text-gray-400 mt-1\">Stop '+' sets around this RPE.</div>\r\n                    </div>\r\n                    <div className=\"flex items-end\">\r\n                        <label className=\"inline-flex items-center gap-2 text-gray-200\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={!!autoreg.holdTMIfE1RMDrops}\r\n                                onChange={e => setAutoreg({ holdTMIfE1RMDrops: !!e.target.checked })}\r\n                            />\r\n                            Hold TM increment if e1RM drops\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"text-sm text-gray-300\">Hold Threshold (%)</label>\r\n                        <input\r\n                            type=\"number\" min=\"1\" max=\"5\" step=\"0.5\"\r\n                            value={autoreg.holdThresholdPct}\r\n                            onChange={e => setAutoreg({ holdThresholdPct: Number(e.target.value) })}\r\n                            className=\"w-full bg-gray-800 border border-gray-600 text-white rounded px-2 py-1\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-end\">\r\n                        <label className=\"inline-flex items-center gap-2 text-gray-200\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={!!autoreg.allowHalfIncrementsOnStall}\r\n                                onChange={e => setAutoreg({ allowHalfIncrementsOnStall: !!e.target.checked })}\r\n                            />\r\n                            Use half increments on stalls\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"text-xs text-gray-400\">\r\n                    Note: This only affects <b>recommended</b> TM changes at cycle rollover. We still apply +5/+10 by default.\r\n                </div>\r\n            </div>\r\n\r\n            {/* Specialization */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-4\">\r\n                <div className=\"flex items-center gap-2 text-white font-medium\">\r\n                    <Target className=\"w-5 h-5\" /> Specialization Focus\r\n                </div>\r\n                <div className=\"text-sm text-gray-300\">Pick lifts to receive slight assistance volume bias.</div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                    {LIFTS.map(l => (\r\n                        <button\r\n                            key={l.key}\r\n                            onClick={() => toggleFocus(l.key)}\r\n                            className={`px-3 py-1 rounded border ${spec.focus?.includes(l.key) ? 'border-red-500 text-white' : 'border-gray-600 text-gray-300 hover:bg-gray-700/40'}`}\r\n                        >\r\n                            {l.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div>\r\n                        <label className=\"text-sm text-gray-300\">Volume Bias (%)</label>\r\n                        <input\r\n                            type=\"number\" min=\"0\" max=\"25\" step=\"1\"\r\n                            value={spec.volumeBiasPct}\r\n                            onChange={e => setSpec({ volumeBiasPct: Number(e.target.value) })}\r\n                            className=\"w-full bg-gray-800 border border-gray-600 text-white rounded px-2 py-1\"\r\n                        />\r\n                        <div className=\"text-xs text-gray-400 mt-1\">Applied to assistance selection later.</div>\r\n                    </div>\r\n                    <div className=\"md:col-span-2 text-xs text-gray-400\">\r\n                        Keep bias small (≤15%) to avoid recovery issues.\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* PR status & TM increment suggestions */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-3\">\r\n                <div className=\"flex items-center gap-2 text-white font-medium\">\r\n                    <Trophy className=\"w-5 h-5\" /> PRs & Next Cycle TM Suggestions\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-[520px] text-sm\">\r\n                        <thead className=\"text-gray-400\">\r\n                            <tr>\r\n                                <th className=\"text-left pr-4\">Lift</th>\r\n                                <th className=\"text-left pr-4\">Best e1RM</th>\r\n                                <th className=\"text-left pr-4\">Last Cycle e1RM</th>\r\n                                <th className=\"text-left pr-4\">Suggested TM +</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {LIFTS.map(l => {\r\n                                const pr = prsLocal[l.key]?.e1RM ? `${Number(prsLocal[l.key].e1RM).toFixed(1)} lb` : '—';\r\n                                const last = Array.isArray(hist[l.key]) && hist[l.key].length ? `${Number(hist[l.key][hist[l.key].length - 1]).toFixed(1)} lb` : '—';\r\n                                const inc = tmIncs?.[l.key] ?? (l.type === 'upper' ? 5 : 10);\r\n                                return (\r\n                                    <tr key={l.key} className=\"text-gray-200\">\r\n                                        <td className=\"pr-4\">{l.label}</td>\r\n                                        <td className=\"pr-4\">{pr}</td>\r\n                                        <td className=\"pr-4\">{last}</td>\r\n                                        <td className=\"pr-4\">+{inc} lb</td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div className=\"text-xs text-gray-400\">\r\n                    PRs update automatically when logged in the app. If no history is present yet, suggestions default to +5 (upper) / +10 (lower).\r\n                </div>\r\n            </div>\r\n\r\n            {/* Printable Week Sheet */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-3\">\r\n                <div className=\"flex items-center gap-2 text-white font-medium\">\r\n                    <Printer className=\"w-5 h-5\" /> Printable Week Sheet\r\n                </div>\r\n                <div className=\"text-sm text-gray-300\">Preview and print a clean week sheet with warm-ups and main sets.</div>\r\n                <div className=\"bg-gray-800/50 border border-gray-700 rounded p-2\">\r\n                    <PrintableWeek state={st} />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Completion */}\r\n            <div className=\"bg-green-900/20 border border-green-500 rounded p-3 text-green-200 text-sm flex items-center gap-2\">\r\n                <CheckCircle className=\"w-4 h-4\" /> Advanced settings saved. TM suggestions will appear at cycle rollover.\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["DEFAULT_AUTOREG","recommendTMIncrements","history","baseIncrements","opts","lifts","out","k","arr","last","prev","base","KEY","getPRs","raw","LIFT_LABEL","calcSetsForLift","tm","loadingOption","week","includeWarmups","roundTo","warmups","buildWarmups","mains","buildMainSets","PrintableWeek","state","setWeek","useState","setIncludeWarmups","roundInc","setRoundInc","tms","_a","_b","_c","_d","_e","_f","dayMap","useMemo","deriveLiftDayMap","dayEntries","DAYS","d","x","jsxs","jsx","e","day","lift","tmKey","sets","s","idx","LIFTS","Step7AdvancedCustomization","data","updateData","st","set","patch","adv","autoreg","spec","prsLocal","hist","tmIncs","toggleFocus","setAutoreg","setSpec","StepStatusPill","STEP_IDS","Info","Sliders","Target","l","Trophy","pr","inc","Printer","CheckCircle"],"mappings":"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"}