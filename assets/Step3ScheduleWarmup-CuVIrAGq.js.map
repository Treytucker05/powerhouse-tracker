{"version":3,"file":"Step3ScheduleWarmup-CuVIrAGq.js","sources":["../../src/lib/fiveThreeOne/schedule.js","../../src/components/program/steps/Step3ScheduleWarmup.jsx"],"sourcesContent":["// src/lib/fiveThreeOne/schedule.js\r\n\r\n// Canonical 4-day order per manual: Press, Deadlift, Bench, Squat\r\nexport const CANONICAL_ORDER = ['press', 'deadlift', 'bench', 'squat'];\r\n\r\n/**\r\n * Build a schedule days array from a frequency.\r\n * For now, one main lift per day (2-lift days will be added later).\r\n */\r\nexport function buildDaysByFrequency(freq = '4day') {\r\n    if (freq === '3day') {\r\n        // 3 training days per week; 4th lift rolls to the following week in the calendar.\r\n        // For the editor we present the first week's order; the calendar handles rolling.\r\n        return [{ id: 'D1', lift: 'press' }, { id: 'D2', lift: 'deadlift' }, { id: 'D3', lift: 'bench' }];\r\n    }\r\n    if (freq === '2day') {\r\n        // Minimal template: 2 training days; remaining lifts roll forward.\r\n        // Present first two in recommended recovery-friendly order.\r\n        return [{ id: 'D1', lift: 'press' }, { id: 'D2', lift: 'squat' }];\r\n    }\r\n    if (freq === '4day') {\r\n        return CANONICAL_ORDER.map((lift, idx) => ({ id: `D${idx + 1}`, lift }));\r\n    }\r\n    // Fallback: 4-day\r\n    return CANONICAL_ORDER.map((lift, idx) => ({ id: `D${idx + 1}`, lift }));\r\n}\r\n\r\nexport function resetToCanonical(days) {\r\n    return CANONICAL_ORDER.map((lift, idx) => ({ id: `D${idx + 1}`, lift }));\r\n}\r\n\r\nexport function liftOptions() {\r\n    return [\r\n        { value: 'press', label: 'Overhead Press' },\r\n        { value: 'deadlift', label: 'Deadlift' },\r\n        { value: 'bench', label: 'Bench Press' },\r\n        { value: 'squat', label: 'Squat' },\r\n    ];\r\n}\r\n","/**\r\n * Step3ScheduleWarmup.jsx - Complete Step 3 implementation with all sections A-F\r\n * \r\n * This is the CONSOLIDATED version that includes:\r\n * - Section A: Schedule (frequency selection, lift order)\r\n * - Section B: Warm-up Scheme (standard/minimal options)\r\n * - Section C: Programming Approach (4 cards: Basic 4-Week, Leader/Anchor, Competition Prep, Specialized)\r\n * - Section D: Supplemental (FSL, SSL, BBB, 5s PRO, None options)\r\n * - Section E: Assistance (4 cards: Minimal, Standard, Custom, Template-Based)\r\n * - Section F: Equipment (profile cards: Full Gym, Home Gym, Minimal, Bodyweight)\r\n * \r\n * This replaces both the older Step3WarmUp.jsx component and the Step3DesignCustom.jsx component\r\n * from the v2 implementation path.\r\n */\r\nimport React, { useState, useMemo } from 'react';\r\nimport { Info, Plus, Trash2, RotateCcw, CheckCircle, Filter, Layers, Settings as Cog, AlertTriangle } from 'lucide-react';\r\nimport StepStatusPill from './_shared/StepStatusPill.jsx';\r\nimport { STEP_IDS } from './_registry/stepRegistry.js';\r\nimport { buildDaysByFrequency, resetToCanonical, liftOptions } from '../../../lib/fiveThreeOne/schedule.js';\r\nimport { useExerciseDB } from '../../../contexts/ExerciseDBContext.jsx';\r\n\r\nexport default function Step3ScheduleWarmup({ data, updateData }) {\r\n    alert('STEP3SCHEDULEWARMUP IS LOADING!');\r\n    console.log('STEP3SCHEDULEWARMUP IS RENDERING - This should show Sections C and E', { data });\r\n    const st = data || {};\r\n    const schedule = st.schedule || {};\r\n    const warm = st.warmup || {};\r\n    const supplemental = st.supplemental || {};\r\n    const assistanceConfig = st.assistanceConfig || { mode: 'minimal' };\r\n    const programmingApproach = st.programmingApproach || 'basic';\r\n    const leaderAnchorPattern = st.leaderAnchorPattern || '2+1';\r\n    const equipmentMap = st.equipmentMap || {\r\n        barbell: false, plates: false, squat_rack: false, bench: false,\r\n        dumbbells: false, cable_machine: false, machines: false, pullup_bar: false,\r\n        kettlebells: false, resistance_bands: false, suspension_trainer: false, landmine: false,\r\n        dip_station: false, rings: false, ab_wheel: false, plyo_box: false\r\n    };\r\n    const equipmentProfile = st.equipmentProfile || '';\r\n\r\n    const set = (patch) => updateData({ ...st, ...patch });\r\n\r\n    // Equipment profile defs\r\n    const PROFILE_DEFS = {\r\n        full: Object.keys(equipmentMap),\r\n        home: ['barbell', 'plates', 'bench', 'dumbbells', 'pullup_bar'],\r\n        minimal: ['barbell', 'plates', 'bench'],\r\n        bodyweight: []\r\n    };\r\n\r\n    const applyEquipmentProfile = (profile) => {\r\n        const allKeys = Object.keys(equipmentMap);\r\n        let next = allKeys.reduce((acc, k) => ({ ...acc, [k]: false }), {});\r\n        if (profile === 'full') {\r\n            next = allKeys.reduce((acc, k) => ({ ...acc, [k]: true }), {});\r\n        } else if (PROFILE_DEFS[profile]) {\r\n            PROFILE_DEFS[profile].forEach(k => { if (next[k] !== undefined) next[k] = true; });\r\n        }\r\n        set({ equipmentMap: next, equipmentProfile: profile });\r\n    };\r\n\r\n    const toggleEquip = (key) => {\r\n        const next = { ...equipmentMap, [key]: !equipmentMap[key] };\r\n        set({ equipmentMap: next });\r\n    };\r\n\r\n    const isProfileMatch = (id) => {\r\n        if (!id || !PROFILE_DEFS[id]) return false;\r\n        const wanted = new Set(PROFILE_DEFS[id]);\r\n        // full means every key true\r\n        return Object.entries(equipmentMap).every(([k, v]) => (wanted.has(k) ? v === true : v === false));\r\n    };\r\n    const activeProfileIsPure = isProfileMatch(equipmentProfile);\r\n    const activeProfileDisplay = activeProfileIsPure ? equipmentProfile : (equipmentProfile ? `Custom (modified from ${equipmentProfile})` : 'Custom');\r\n\r\n    const EQUIP_CATEGORIES = [\r\n        {\r\n            id: 'essential', label: 'Essential Equipment', note: 'Core barbell requirements', items: [\r\n                ['barbell', 'Barbell'], ['plates', 'Plates'], ['squat_rack', 'Squat Rack'], ['bench', 'Bench']\r\n            ]\r\n        },\r\n        {\r\n            id: 'assistance', label: 'Assistance Equipment', note: 'Expands accessory selection', items: [\r\n                ['dumbbells', 'Dumbbells'], ['cable_machine', 'Cable Machine'], ['machines', 'Machines'], ['pullup_bar', 'Pull-Up Bar']\r\n            ]\r\n        },\r\n        {\r\n            id: 'specialty', label: 'Specialty Equipment', note: 'Variation / overload tools', items: [\r\n                ['kettlebells', 'Kettlebells'], ['resistance_bands', 'Resistance Bands'], ['suspension_trainer', 'Suspension Trainer'], ['landmine', 'Landmine']\r\n            ]\r\n        },\r\n        {\r\n            id: 'bodyweight', label: 'Bodyweight Accessories', note: 'Calisthenics & core tools', items: [\r\n                ['dip_station', 'Dip Station'], ['rings', 'Rings'], ['ab_wheel', 'Ab Wheel'], ['plyo_box', 'Plyo Box']\r\n            ]\r\n        }\r\n    ];\r\n\r\n    // Impact scoring (simple heuristic – illustrative)\r\n    const CATEGORY_BASE = { pull: 4, push: 6, core: 6, single: 4, posterior: 3 }; // bodyweight baseline\r\n    const EQUIP_IMPACT = {\r\n        barbell: { push: 4, posterior: 4, single: 1 },\r\n        plates: { push: 1, posterior: 2, single: 1 },\r\n        squat_rack: { push: 1, single: 2 },\r\n        bench: { push: 6 },\r\n        dumbbells: { pull: 6, push: 5, single: 4 },\r\n        cable_machine: { pull: 5, push: 4, core: 3 },\r\n        machines: { push: 5, pull: 4, posterior: 3 },\r\n        pullup_bar: { pull: 8 },\r\n        kettlebells: { posterior: 3, core: 2, single: 2 },\r\n        resistance_bands: { pull: 3, push: 2, core: 2 },\r\n        suspension_trainer: { core: 4, pull: 3, push: 2 },\r\n        landmine: { posterior: 2, single: 2, push: 2 },\r\n        dip_station: { push: 4 },\r\n        rings: { pull: 5, push: 3, core: 2 },\r\n        ab_wheel: { core: 4 },\r\n        plyo_box: { single: 3, posterior: 1 }\r\n    };\r\n    const computeCategoryCounts = () => {\r\n        const tally = { ...CATEGORY_BASE };\r\n        Object.entries(equipmentMap).forEach(([k, v]) => { if (v && EQUIP_IMPACT[k]) { Object.entries(EQUIP_IMPACT[k]).forEach(([cat, inc]) => { tally[cat] += inc; }); } });\r\n        return tally;\r\n    };\r\n    const catCounts = computeCategoryCounts();\r\n    const impactSummary = `With current selection: ${catCounts.pull} pull exercises, ${catCounts.push} push exercises, ${catCounts.core} core exercises (${catCounts.single} single‑leg, ${catCounts.posterior} posterior variants also unlocked)`;\r\n\r\n    const { loaded: exLoaded, categoriesMap } = useExerciseDB?.() || { loaded: false, categoriesMap: {} };\r\n    const [stdCategoryFilter, setStdCategoryFilter] = useState([]); // selected category filters for Standard / Custom preview\r\n    const toggleStdCategory = (cat) => setStdCategoryFilter(arr => arr.includes(cat) ? arr.filter(c => c !== cat) : [...arr, cat]);\r\n\r\n    // Sample assistance exercise pools (lightweight preview only)\r\n    const SAMPLE_LIBRARY = {\r\n        push: ['Dips', 'Push Ups', 'DB Incline Press', 'Overhead DB Press'],\r\n        pull: ['Chin Ups', 'Lat Pulldown', 'DB Row', 'Face Pulls'],\r\n        core: ['Hanging Leg Raise', 'Ab Wheel', 'Plank'],\r\n        single: ['Bulgarian Split Squat', 'Walking Lunge', 'Single-Leg RDL']\r\n    };\r\n\r\n    const MOVEMENT_BADGE_COLORS = {\r\n        push: 'bg-rose-800/40 border-rose-600 text-rose-200',\r\n        pull: 'bg-sky-800/40 border-sky-600 text-sky-200',\r\n        core: 'bg-emerald-800/40 border-emerald-600 text-emerald-200',\r\n        single: 'bg-amber-800/40 border-amber-600 text-amber-200',\r\n        posterior: 'bg-indigo-800/40 border-indigo-600 text-indigo-200'\r\n    };\r\n\r\n    const allPreviewItems = useMemo(() => {\r\n        // Build a flattened preview list with pattern → exercises\r\n        const mode = assistanceConfig.mode;\r\n        const structure = [];\r\n        if (mode === 'minimal') {\r\n            structure.push(\r\n                { day: 'Press Day', items: [{ name: 'Chin Ups', cats: ['pull'], target: '3–5 × AMRAP (stop shy of failure)', why: 'Vertical pull balances pressing volume.' }, { name: 'Hanging Leg Raise', cats: ['core'], target: '3 × 10–15', why: 'Anterior core / trunk control.' }] },\r\n                { day: 'Deadlift Day', items: [{ name: 'Back Extension', cats: ['core', 'posterior'], target: '3 × 12–15', why: 'Posterior chain endurance & trunk stability.' }, { name: 'DB Row', cats: ['pull'], target: '3 × 10', why: 'Upper back thickness for deadlift lockout.' }] },\r\n                { day: 'Bench Day', items: [{ name: 'Dips', cats: ['push'], target: '2–3 × 8–12', why: 'Triceps / chest assistance with moderate volume.' }, { name: 'Face Pulls', cats: ['pull'], target: '2–3 × 12–15', why: 'Rear delts & scapular balance.' }] },\r\n                { day: 'Squat Day', items: [{ name: 'Walking Lunge', cats: ['single'], target: '2 × 20 steps', why: 'Single‑leg stability & unilateral strength.' }, { name: 'Plank', cats: ['core'], target: '3 × 45–60s', why: 'Bracing endurance for heavy squats.' }] }\r\n            );\r\n        } else if (mode === 'standard') {\r\n            // Balanced categories 25–50 reps each\r\n            structure.push(\r\n                { day: 'Press Day', items: [{ name: 'Chin Ups', cats: ['pull'], target: '25–35 reps total', why: 'Lats for pressing stability.' }, { name: 'DB Incline Press', cats: ['push'], target: '3 × 8–10', why: 'Upper chest development.' }, { name: 'Ab Wheel', cats: ['core'], target: '3 × 8–12', why: 'Anti‑extension core strength.' }] },\r\n                { day: 'Deadlift Day', items: [{ name: 'Single-Leg RDL', cats: ['single', 'posterior'], target: '3 × 8', why: 'Unilateral posterior chain balance.' }, { name: 'Lat Pulldown', cats: ['pull'], target: '3 × 10–12', why: 'Lat strength for bar path control.' }, { name: 'Hanging Leg Raise', cats: ['core'], target: '3 × 10–12', why: 'Lower ab / hip flexor strength.' }] },\r\n                { day: 'Bench Day', items: [{ name: 'DB Row', cats: ['pull'], target: '4 × 8–10', why: 'Horizontal pull to balance bench volume.' }, { name: 'Dips', cats: ['push'], target: '3 × 8–10', why: 'Triceps lockout strength.' }, { name: 'Face Pulls', cats: ['pull'], target: '3 × 12–15', why: 'Shoulder health / posture.' }] },\r\n                { day: 'Squat Day', items: [{ name: 'Bulgarian Split Squat', cats: ['single'], target: '3 × 8', why: 'Unilateral leg strength / balance.' }, { name: 'Back Extension', cats: ['posterior', 'core'], target: '3 × 12–15', why: 'Posterior chain endurance.' }, { name: 'Plank', cats: ['core'], target: '3 × 45–60s', why: 'Isometric bracing.' }] }\r\n            );\r\n        } else if (mode === 'template') {\r\n            structure.push(\r\n                { day: 'Press Day', items: [{ name: 'BBB Press (5×10 @ 50–60%)', cats: ['push'], target: 'High volume', why: 'Hypertrophy / pattern practice.' }, { name: 'Chin Ups', cats: ['pull'], target: '25–50 reps', why: 'Upper back & elbow health.' }] },\r\n                { day: 'Deadlift Day', items: [{ name: 'BBB Deadlift (5×10 @ 50–60%)', cats: ['posterior'], target: 'High hinge volume', why: 'Posterior chain hypertrophy.' }, { name: 'Hanging Leg Raise', cats: ['core'], target: '25–35 reps', why: 'Core strength for heavy pulls.' }] },\r\n                { day: 'Bench Day', items: [{ name: 'BBB Bench (5×10 @ 50–60%)', cats: ['push'], target: 'High volume', why: 'Pressing muscle & endurance.' }, { name: 'DB Row', cats: ['pull'], target: '25–40 reps', why: 'Horizontal balance & scapular control.' }] },\r\n                { day: 'Squat Day', items: [{ name: 'BBB Squat (5×10 @ 50–60%)', cats: ['single', 'posterior'], target: 'Volume', why: 'Leg / trunk work capacity.' }, { name: 'Back Extension', cats: ['posterior', 'core'], target: '25–40 reps', why: 'Posterior chain durability.' }] }\r\n            );\r\n        } else if (mode === 'custom') {\r\n            // Placeholder: user will define later\r\n            structure.push(\r\n                { day: 'All Days', items: [{ name: 'You will fully customize assistance in the Assistance step (or future builder here).', cats: [], target: '', why: '' }] }\r\n            );\r\n        }\r\n        return structure;\r\n    }, [assistanceConfig.mode]);\r\n\r\n    const filteredPreview = useMemo(() => {\r\n        if (!stdCategoryFilter.length) return allPreviewItems;\r\n        return allPreviewItems.map(day => ({ ...day, items: day.items.filter(it => it.cats.some(c => stdCategoryFilter.includes(c))) }))\r\n            .filter(day => day.items.length);\r\n    }, [allPreviewItems, stdCategoryFilter]);\r\n\r\n    // Frequency handlers\r\n    const setFrequency = (freq) => {\r\n        const days = buildDaysByFrequency(freq);\r\n        set({ schedule: { ...schedule, frequency: freq, days } });\r\n    };\r\n\r\n    const updateDayLift = (dayIndex, value) => {\r\n        const days = [...(schedule.days || [])];\r\n        days[dayIndex] = { ...days[dayIndex], lift: value };\r\n        set({ schedule: { ...schedule, days } });\r\n    };\r\n\r\n    const removeDay = (dayIndex) => {\r\n        const days = [...(schedule.days || [])];\r\n        days.splice(dayIndex, 1);\r\n        set({ schedule: { ...schedule, days } });\r\n    };\r\n\r\n    const addDay = () => {\r\n        const nextId = `D${(schedule.days?.length || 0) + 1}`;\r\n        set({ schedule: { ...schedule, days: [...(schedule.days || []), { id: nextId, lift: 'press' }] } });\r\n    };\r\n    const resetOrder = () => {\r\n        set({ schedule: { ...schedule, days: resetToCanonical() } });\r\n    };\r\n\r\n    const setWarmPolicy = (policy) => {\r\n        set({ warmup: { ...warm, policy } });\r\n    };\r\n\r\n    const updateCustomRow = (idx, field, value) => {\r\n        const rows = [...(warm.custom || [])];\r\n        rows[idx] = { ...rows[idx], [field]: field === 'pct' || field === 'reps' ? Number(value) : value };\r\n        set({ warmup: { ...warm, custom: rows } });\r\n    };\r\n\r\n    const addCustomRow = () => {\r\n        const rows = [...(warm.custom || [])];\r\n        rows.push({ pct: 50, reps: 5 });\r\n        set({ warmup: { ...warm, custom: rows } });\r\n    };\r\n\r\n    const removeCustomRow = (idx) => {\r\n        const rows = [...(warm.custom || [])];\r\n        rows.splice(idx, 1);\r\n        set({ warmup: { ...warm, custom: rows } });\r\n    };\r\n\r\n    const setDeadliftStyle = (style) => {\r\n        set({ warmup: { ...warm, deadliftRepStyle: style } });\r\n    };\r\n\r\n    const setSupplemental = (patch) => {\r\n        set({ supplemental: { ...supplemental, ...patch } });\r\n    };\r\n\r\n    const setProgrammingApproach = (approach) => {\r\n        set({ programmingApproach: approach });\r\n    };\r\n    const setLeaderAnchorPattern = (pattern) => {\r\n        set({ leaderAnchorPattern: pattern });\r\n    };\r\n    const setAssistanceConfig = (patch) => {\r\n        set({ assistanceConfig: { ...assistanceConfig, ...patch } });\r\n    };\r\n\r\n    const SUPP_OPTIONS = [\r\n        {\r\n            id: 'none',\r\n            title: 'None',\r\n            subtitle: 'Main 5/3/1 only',\r\n            desc: 'Minimal time; focus on quality PR sets and basic assistance only.',\r\n            when: 'Use when recovery/time limited or during deload-like life weeks.'\r\n        },\r\n        {\r\n            id: 'fsl',\r\n            title: 'First Set Last (FSL)',\r\n            subtitle: '3×5 or 5×5 @ First Set %',\r\n            desc: 'Down sets performed with the first work-set percentage each week (65 / 70 / 75%).',\r\n            when: 'Lower supplemental volume; excellent for leader cycles and skill practice.'\r\n        },\r\n        {\r\n            id: 'ssl',\r\n            title: 'Second Set Last (SSL)',\r\n            subtitle: '3×5 or 5×5 @ Second Set %',\r\n            desc: 'Down sets at the second work-set percentage (75 / 80 / 85%).',\r\n            when: 'Moderate balanced volume; good anchor cycle choice.'\r\n        },\r\n        {\r\n            id: 'bbb',\r\n            title: 'Boring But Big (BBB)',\r\n            subtitle: '5×10 @ 50–70% TM',\r\n            desc: 'High-volume straight sets building muscle & work capacity.',\r\n            when: 'Hypertrophy focus; ensure nutrition & recovery are dialed in.'\r\n        },\r\n        {\r\n            id: '5spro',\r\n            title: '5s PRO',\r\n            subtitle: '5×5 main work (no rep-outs)',\r\n            desc: 'All main sets are sets of 5; AMRAP removed for submaximal, repeatable training.',\r\n            when: 'Great for building base strength while controlling fatigue.'\r\n        }\r\n    ];\r\n\r\n    const WEEK_INFO = [\r\n        { week: 1, fsl: 65, ssl: 75 },\r\n        { week: 2, fsl: 70, ssl: 80 },\r\n        { week: 3, fsl: 75, ssl: 85 }\r\n    ];\r\n\r\n    // Debug component to help diagnose missing sections\r\n    const RenderDebug = () => (\r\n        <div className=\"bg-red-900/20 border border-red-500 p-4 rounded mb-4\">\r\n            <h4 className=\"text-red-300 font-bold\">Debug Info</h4>\r\n            <div className=\"text-xs text-red-200 space-y-1\">\r\n                <div>Component: Step3ScheduleWarmup</div>\r\n                <div>Data: {JSON.stringify({\r\n                    hasWarmup: !!warm,\r\n                    hasSupplemental: !!supplemental,\r\n                    hasProgrammingApproach: !!programmingApproach,\r\n                    hasAssistance: !!assistanceConfig,\r\n                    dataKeys: Object.keys(st)\r\n                })}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <RenderDebug />\r\n            <div className=\"flex items-start justify-between\">\r\n                <div>\r\n                    <h3 className=\"text-xl font-semibold text-white mb-1\">Step 3: Training Schedule & Warm‑Up</h3>\r\n                    <p className=\"text-gray-400 text-sm\">Choose your training frequency and recommended lift order, then set warm‑ups and supplemental work.</p>\r\n                </div>\r\n                <StepStatusPill stepId={STEP_IDS.SCHEDULE_WARMUP} data={st} />\r\n            </div>\r\n            <div className=\"bg-blue-900/20 border border-blue-600 p-4 rounded\">\r\n                <div className=\"flex gap-3 items-start\">\r\n                    <Info className=\"w-5 h-5 text-blue-300 mt-0.5\" />\r\n                    <div className=\"text-blue-100 text-sm\">\r\n                        <div className=\"font-medium mb-1\">Scheduling Guidance</div>\r\n                        <ul className=\"list-disc ml-5 space-y-1\">\r\n                            <li><b>Standard 4‑day order</b>: Press → Deadlift → Bench → Squat (Wendler recommendation for recovery spacing).</li>\r\n                            <li>3‑day (rotating) cycles roll the 4th lift to the next week; maintain sequence.</li>\r\n                            <li>2‑day option alternates Upper / Lower across weeks — minimal time approach.</li>\r\n                            <li>Default warm‑up: <b>40/50/60% of TM for 5/5/3 reps</b> before the main sets.</li>\r\n                            <li>Deadlift style: choose <b>Touch‑and‑Go</b> or <b>Dead‑Stop</b>.</li>\r\n                            <li><b>Recovery:</b> Insert at least one rest day after any 2 consecutive training days.</li>\r\n                            <li>Limit lifting frequency to <b>3–4 days/week</b>; more is rarely needed on 5/3/1.</li>\r\n                            <li>Plan conditioning (hill sprints / Prowler) on separate days or after upper‑body sessions.</li>\r\n                            <li><b>Why order matters:</b> Spacing squat & deadlift and alternating press/bench preserves bar speed & CNS freshness.</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Frequency */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4\">\r\n                <div className=\"text-white font-medium mb-2\">Weekly Frequency</div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                    {[\r\n                        { id: '4day', title: '4 Days / Week', blurb: 'Each main lift gets its own day (recommended)' },\r\n                        { id: '3day', title: '3 Days / Week', blurb: 'Rotating pattern; 4th lift rolls to next week' },\r\n                        { id: '2day', title: '2 Days / Week', blurb: 'Upper / Lower alternating — minimal time' }\r\n                    ].map(opt => (\r\n                        <button\r\n                            key={opt.id}\r\n                            onClick={() => setFrequency(opt.id)}\r\n                            className={`text-left px-3 py-2 rounded border h-full bg-gray-800/40 hover:bg-gray-800 transition ${schedule.frequency === opt.id ? 'border-red-500 ring-2 ring-red-600' : 'border-gray-600'}`}\r\n                        >\r\n                            <div className=\"text-sm font-semibold text-white\">{opt.title}</div>\r\n                            <div className=\"text-xs text-gray-400 mt-1 leading-snug\">{opt.blurb}</div>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n                <div className=\"flex gap-2 mt-3\">\r\n                    <button onClick={resetOrder} className=\"inline-flex items-center gap-2 px-3 py-1 border border-gray-500 rounded hover:bg-gray-700/40 text-gray-100\" title=\"Reset to recommended sequence\">\r\n                        <RotateCcw className=\"w-4 h-4\" /> Reset to Standard\r\n                    </button>\r\n                    <button\r\n                        onClick={addDay}\r\n                        disabled={(schedule.days || []).length >= 4}\r\n                        className={`inline-flex items-center gap-2 px-3 py-1 border rounded ${(schedule.days || []).length >= 4 ? 'border-gray-700 text-gray-500 cursor-not-allowed' : 'border-gray-500 hover:bg-gray-700/40 text-gray-100'}`}\r\n                        title={(schedule.days || []).length >= 4 ? 'Max 4 training days per week for this template' : 'Add Day'}\r\n                    >\r\n                        <Plus className=\"w-4 h-4\" /> Add Day\r\n                    </button>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                    {(schedule.days || []).map((d, idx) => (\r\n                        <div key={d.id} className=\"bg-gray-800/50 border border-gray-700 rounded p-3\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                                <div className=\"text-gray-200 font-medium\">Day {idx + 1}</div>\r\n                                <button onClick={() => removeDay(idx)} className=\"text-gray-400 hover:text-red-400\">\r\n                                    <Trash2 className=\"w-4 h-4\" />\r\n                                </button>\r\n                            </div>\r\n                            <label className=\"text-sm text-gray-300 mb-1 block\">Main Lift</label>\r\n                            <select\r\n                                className=\"w-full bg-gray-800 border border-gray-600 text-white rounded px-2 py-1\"\r\n                                value={d.lift || 'press'}\r\n                                onChange={(e) => updateDayLift(idx, e.target.value)}\r\n                            >\r\n                                {liftOptions().map(o => <option key={o.value} value={o.value}>{o.label}</option>)}\r\n                            </select>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                {schedule.frequency === '3day' && (\r\n                    <p className=\"mt-3 text-[11px] text-gray-500\">Rotating pattern: the lift not shown this week appears first next week; maintain sequence.</p>\r\n                )}\r\n                {schedule.frequency === '2day' && (\r\n                    <p className=\"mt-3 text-[11px] text-gray-500\">Upper / Lower alternation: remaining lifts roll into subsequent weeks to keep progress moving.</p>\r\n                )}\r\n                {/* Scheduling warnings */}\r\n                {((schedule.days || []).length > 2) && (\r\n                    <div className=\"mt-3 text-xs text-yellow-300 bg-yellow-900/20 border border-yellow-600 rounded p-2\">\r\n                        Avoid training more than 2 days in a row — schedule a rest day between blocks of two sessions.\r\n                    </div>\r\n                )}\r\n                {((schedule.days || []).length > 4) && (\r\n                    <div className=\"mt-2 text-xs text-red-300 bg-red-900/20 border border-red-700 rounded p-2\">\r\n                        Reduce days: 5/3/1 base programming works best at 3–4 days/week.\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Warm-up policy */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4\">\r\n                <div className=\"text-white font-medium mb-2\">Warm‑Up Policy</div>\r\n                <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                    {[\r\n                        { id: 'standard', label: 'Standard (40/50/60 × 5/5/3)' },\r\n                        { id: 'minimal', label: 'Minimal (50/60 × 5/3)' },\r\n                        { id: 'custom', label: 'Custom' },\r\n                    ].map(opt => (\r\n                        <button\r\n                            key={opt.id}\r\n                            onClick={() => setWarmPolicy(opt.id)}\r\n                            className={`px-3 py-1 rounded border ${warm.policy === opt.id ? 'border-red-500 ring-2 ring-red-600' : 'border-gray-600 hover:bg-gray-700/40'} text-white`}\r\n                        >\r\n                            {opt.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                {warm.policy === 'custom' && (\r\n                    <div className=\"bg-gray-800/50 border border-gray-700 rounded p-3\">\r\n                        <div className=\"text-gray-200 font-medium mb-2\">Custom Warm‑Up Rows</div>\r\n                        <div className=\"space-y-2\">\r\n                            {(warm.custom || []).map((row, i) => (\r\n                                <div key={i} className=\"grid grid-cols-3 gap-2 items-center\">\r\n                                    <div>\r\n                                        <label className=\"text-sm text-gray-300\">Percent of TM</label>\r\n                                        <input\r\n                                            type=\"number\" min=\"20\" max=\"90\" step=\"5\"\r\n                                            value={row.pct ?? 40}\r\n                                            onChange={(e) => updateCustomRow(i, 'pct', e.target.value)}\r\n                                            className=\"w-full bg-gray-800 border border-gray-600 text-white rounded px-2 py-1\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"text-sm text-gray-300\">Reps</label>\r\n                                        <input\r\n                                            type=\"number\" min=\"1\" max=\"10\" step=\"1\"\r\n                                            value={row.reps ?? 5}\r\n                                            onChange={(e) => updateCustomRow(i, 'reps', e.target.value)}\r\n                                            className=\"w-full bg-gray-800 border border-gray-600 text-white rounded px-2 py-1\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"flex items-end justify-end\">\r\n                                        <button onClick={() => removeCustomRow(i)} className=\"text-gray-400 hover:text-red-400\">\r\n                                            <Trash2 className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                            <button onClick={addCustomRow} className=\"mt-2 inline-flex items-center gap-2 px-3 py-1 border border-gray-600 rounded hover:bg-gray-700/40 text-gray-100\">\r\n                                <Plus className=\"w-4 h-4\" /> Add Row\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Deadlift rep style (belongs to Warm‑ups Section B) */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4\">\r\n                <div className=\"text-white font-medium mb-2\">Deadlift Rep Style</div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                    {[\r\n                        { id: 'touch', label: 'Touch‑and‑Go' },\r\n                        { id: 'deadstop', label: 'Dead‑Stop (reset each rep)' },\r\n                    ].map(opt => (\r\n                        <button\r\n                            key={opt.id}\r\n                            onClick={() => setDeadliftStyle(opt.id)}\r\n                            className={`px-3 py-1 rounded border ${warm.deadliftRepStyle === opt.id ? 'border-red-500 ring-2 ring-red-600' : 'border-gray-600 hover:bg-gray-700/40'} text-white`}\r\n                        >\r\n                            {opt.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n                <p className=\"text-gray-400 text-xs mt-2\">Pick whichever lets you keep tightness and best technique. This will display as a cue on Deadlift days.</p>\r\n            </div>\r\n\r\n            {/* Programming Approach (Section C) */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-4\">\r\n                <div>\r\n                    <div className=\"text-white font-medium mb-1\">C) Programming Approach</div>\r\n                    <p className=\"text-gray-400 text-xs\">Choose your periodization strategy and training philosophy.</p>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\">\r\n                    {[{\r\n                        id: 'basic',\r\n                        title: 'Traditional 5/3/1 Progression',\r\n                        label: 'BASIC 4‑WEEK CYCLES',\r\n                        desc: 'Standard 4‑week blocks with linear progression and deload weeks',\r\n                        best: 'Beginners to intermediate lifters seeking steady strength gains',\r\n                        features: ['AMRAP sets', 'Simple progression', 'Proven results']\r\n                    }, {\r\n                        id: 'leaderAnchor',\r\n                        title: 'Advanced Periodization',\r\n                        label: 'LEADER / ANCHOR CYCLES',\r\n                        desc: 'Alternating high‑volume and high‑intensity blocks (2+1 or 3+1 patterns)',\r\n                        best: 'Intermediate to advanced lifters wanting sophisticated programming',\r\n                        features: ['FSL leaders', 'PR anchor sets', '7th Week Protocol', 'Optimized recovery']\r\n                    }, {\r\n                        id: 'competition',\r\n                        title: 'Meet Preparation',\r\n                        label: 'COMPETITION PREP MODE',\r\n                        desc: 'Structured timeline working backwards from competition date',\r\n                        best: 'Powerlifters preparing for meets or testing true maxes',\r\n                        features: ['Peak timing', 'Attempt selection', 'Competition warm‑ups', 'Coming Soon'],\r\n                        comingSoon: true\r\n                    }, {\r\n                        id: 'specialized',\r\n                        title: 'Situation‑Specific Programming',\r\n                        label: 'SPECIALIZED MODES',\r\n                        desc: 'Modified approaches for specific needs or limitations',\r\n                        best: 'Home gym / time / recovery / demographic constraints',\r\n                        features: ['Home Gym', 'Time‑Constrained', 'Injury Recovery', 'Age 50+', 'Coming Soon'],\r\n                        comingSoon: true\r\n                    }].map(card => {\r\n                        const active = programmingApproach === card.id;\r\n                        const disabled = card.comingSoon;\r\n                        return (\r\n                            <div key={card.id} className={`relative ${disabled ? 'opacity-60' : ''}`}>\r\n                                <button\r\n                                    onClick={() => !disabled && setProgrammingApproach(card.id)}\r\n                                    className={`w-full text-left bg-gray-800/50 border rounded p-3 hover:bg-gray-800 transition ${active ? 'border-red-500 ring-2 ring-red-600' : 'border-gray-700'} ${disabled ? 'cursor-not-allowed' : ''}`}\r\n                                >\r\n                                    <div className=\"flex items-start justify-between\">\r\n                                        <div>\r\n                                            <div className=\"text-[11px] tracking-wide font-semibold text-red-300\">{card.label}</div>\r\n                                            <div className=\"text-sm font-semibold text-white leading-tight mt-0.5\">{card.title}</div>\r\n                                        </div>\r\n                                        {active && !disabled && <CheckCircle className=\"w-4 h-4 text-green-400\" />}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-300 mt-2 leading-snug\">{card.desc}</div>\r\n                                    <div className=\"mt-2 text-[10px] text-gray-400\"><span className=\"font-medium text-gray-300\">Best for:</span> {card.best}</div>\r\n                                    <ul className=\"mt-2 text-[10px] text-gray-400 list-disc ml-4 space-y-0.5\">\r\n                                        {card.features.map(f => <li key={f}>{f}</li>)}\r\n                                    </ul>\r\n                                    {disabled && <div className=\"absolute top-2 right-2 text-[10px] bg-gray-700/70 px-2 py-0.5 rounded text-gray-200\">Coming Soon</div>}\r\n                                </button>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n                {programmingApproach === 'basic' && (\r\n                    <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4 text-[11px] text-gray-400\">\r\n                        Uses classic 4‑week waves (5/3/1 + deload). Perform AMRAP on final work sets Weeks 1–3. Increase Training Max only after successful cycles with solid rep PRs.\r\n                    </div>\r\n                )}\r\n                {programmingApproach === 'leaderAnchor' && (\r\n                    <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4 space-y-4\">\r\n                        <div className=\"flex flex-col gap-3\">\r\n                            <div>\r\n                                <div className=\"text-white font-medium\">Leader / Anchor Pattern</div>\r\n                                <p className=\"text-xs text-gray-400\">Select phasing. Leaders emphasize submaximal volume (often <b>5s PRO + FSL</b>). Anchor reintroduces PR sets & intensity. A <b>7th Week Protocol</b> (TM audit / deload) can be inserted between phases.</p>\r\n                            </div>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {[{ id: '2+1', label: '2+1 Pattern', desc: '2 Leader cycles + 1 Anchor cycle (strength focus)' }, { id: '3+1', label: '3+1 Pattern', desc: '3 Leader cycles + 1 Anchor cycle (hypertrophy focus)' }].map(p => (\r\n                                    <button\r\n                                        key={p.id}\r\n                                        onClick={() => setLeaderAnchorPattern(p.id)}\r\n                                        className={`px-3 py-1 rounded border text-xs md:text-sm ${leaderAnchorPattern === p.id ? 'border-red-500 ring-2 ring-red-600 text-white' : 'border-gray-600 text-gray-200 hover:bg-gray-700/40'}`}\r\n                                        title={p.desc}\r\n                                    >\r\n                                        {p.label}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"text-[11px] text-gray-400\">\r\n                                {leaderAnchorPattern === '2+1' && '2+1 selected: Emphasizes strength & neural efficiency with faster PR exposure.'}\r\n                                {leaderAnchorPattern === '3+1' && '3+1 selected: Extends accumulation for added hypertrophy & work capacity before PR phase.'}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-300\">\r\n                            <div className=\"bg-gray-900/50 border border-gray-700 rounded p-3\">\r\n                                <div className=\"font-semibold text-white mb-1\">Leader Cycles</div>\r\n                                <ul className=\"list-disc ml-4 space-y-1 text-[11px] text-gray-400\">\r\n                                    <li>Main Sets: 5s PRO (no AMRAP)</li>\r\n                                    <li>Supplemental: FSL volume {leaderAnchorPattern === '3+1' ? '(BBB optional early)' : ''}</li>\r\n                                    <li>Goal: Accumulate fatigue‑manageable volume</li>\r\n                                </ul>\r\n                            </div>\r\n                            <div className=\"bg-gray-900/50 border border-gray-700 rounded p-3\">\r\n                                <div className=\"font-semibold text-white mb-1\">Anchor Cycle</div>\r\n                                <ul className=\"list-disc ml-4 space-y-1 text-[11px] text-gray-400\">\r\n                                    <li>Main Sets: Standard 5/3/1 (PR sets)</li>\r\n                                    <li>Supplemental: SSL or reduced FSL</li>\r\n                                    <li>Goal: Realize PRs & reassess TM</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"text-[10px] text-gray-500 italic\">Stored: approach=leaderAnchor, pattern={leaderAnchorPattern}. Generation engine will tag cycles and insert 7th Week as needed.</div>\r\n                    </div>\r\n                )}\r\n                {programmingApproach === 'competition' && (\r\n                    <div className=\"bg-gray-800/60 border border-dashed border-gray-600 rounded p-4 text-[11px] text-gray-400\">\r\n                        Competition prep workflow (timeline, attempt selection, peak management) coming soon. Current selection will be saved for future migration.\r\n                    </div>\r\n                )}\r\n                {programmingApproach === 'specialized' && (\r\n                    <div className=\"bg-gray-800/60 border border-dashed border-gray-600 rounded p-4 text-[11px] text-gray-400\">\r\n                        Specialized adaptive templates (Home Gym, Time‑Constrained, Injury Recovery, Age 50+) coming soon. Selection persisted for future feature unlock.\r\n                    </div>\r\n                )}\r\n                <div className=\"text-[10px] text-gray-500 italic\">Foundation stored in state (programmingApproach / leaderAnchorPattern) for downstream plan generation.</div>\r\n            </div>\r\n\r\n\r\n\r\n            {/* Supplemental Work Selector */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-4\">\r\n                <div>\r\n                    <div className=\"text-white font-medium mb-1\">Supplemental Work (Main Lift Volume)</div>\r\n                    <p className=\"text-gray-400 text-xs\">Choose ONE method. These are the authentic Wendler supplemental options. Assistance (accessories) is configured separately.</p>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-3\">\r\n                    {SUPP_OPTIONS.map(opt => {\r\n                        const active = supplemental.type === opt.id;\r\n                        return (\r\n                            <button\r\n                                key={opt.id}\r\n                                onClick={() => setSupplemental({ type: opt.id })}\r\n                                className={`text-left bg-gray-800/50 border rounded p-3 hover:bg-gray-800 transition relative ${active ? 'border-red-500 ring-2 ring-red-600' : 'border-gray-700'}`}\r\n                            >\r\n                                <div className=\"flex items-start justify-between\">\r\n                                    <div className=\"text-sm font-semibold text-white leading-tight\">{opt.title}</div>\r\n                                    {active && <CheckCircle className=\"w-4 h-4 text-green-400\" />}\r\n                                </div>\r\n                                <div className=\"text-xs text-red-300 mt-1 font-medium\">{opt.subtitle}</div>\r\n                                <div className=\"text-xs text-gray-300 mt-2 leading-snug\">{opt.desc}</div>\r\n                                <div className=\"mt-2 text-[10px] text-gray-500 italic\">{opt.when}</div>\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n\r\n                {/* Dynamic Config Panel */}\r\n                {supplemental.type === 'fsl' && (\r\n                    <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4\">\r\n                        <div className=\"text-white font-medium mb-2\">First Set Last Configuration</div>\r\n                        <p className=\"text-xs text-gray-400 mb-3\">Perform additional volume with the first work set % each week. Choose total down-set volume.</p>\r\n                        <div className=\"flex gap-2 mb-3\">\r\n                            {['3x5', '5x5'].map(v => (\r\n                                <button key={v} onClick={() => setSupplemental({ fslVolume: v })} className={`px-3 py-1 rounded border text-sm ${supplemental.fslVolume === v ? 'border-red-500 ring-2 ring-red-600 text-white' : 'border-gray-600 text-gray-200 hover:bg-gray-700/40'}`}>{v}</button>\r\n                            ))}\r\n                        </div>\r\n                        <table className=\"w-full text-xs text-gray-300\">\r\n                            <thead>\r\n                                <tr className=\"text-gray-400\">\r\n                                    <th className=\"text-left py-1\">Week</th>\r\n                                    <th className=\"text-left py-1\">Main % First Set</th>\r\n                                    <th className=\"text-left py-1\">Down Sets</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {WEEK_INFO.map(w => (\r\n                                    <tr key={w.week} className=\"border-t border-gray-700/60\">\r\n                                        <td className=\"py-1\">{w.week}</td>\r\n                                        <td className=\"py-1\">{w.fsl}%</td>\r\n                                        <td className=\"py-1\">{supplemental.fslVolume} @ {w.fsl}%</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                        <p className=\"text-[10px] text-gray-500 mt-2\">Use FSL for technical reinforcement and lower fatigue accumulation.</p>\r\n                    </div>\r\n                )}\r\n                {supplemental.type === 'ssl' && (\r\n                    <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4\">\r\n                        <div className=\"text-white font-medium mb-2\">Second Set Last Configuration</div>\r\n                        <p className=\"text-xs text-gray-400 mb-3\">Additional volume with the second work set % each week (slightly heavier than FSL).</p>\r\n                        <div className=\"flex gap-2 mb-3\">\r\n                            {['3x5', '5x5'].map(v => (\r\n                                <button key={v} onClick={() => setSupplemental({ sslVolume: v })} className={`px-3 py-1 rounded border text-sm ${supplemental.sslVolume === v ? 'border-red-500 ring-2 ring-red-600 text-white' : 'border-gray-600 text-gray-200 hover:bg-gray-700/40'}`}>{v}</button>\r\n                            ))}\r\n                        </div>\r\n                        <table className=\"w-full text-xs text-gray-300\">\r\n                            <thead>\r\n                                <tr className=\"text-gray-400\">\r\n                                    <th className=\"text-left py-1\">Week</th>\r\n                                    <th className=\"text-left py-1\">Second Set %</th>\r\n                                    <th className=\"text-left py-1\">Down Sets</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {WEEK_INFO.map(w => (\r\n                                    <tr key={w.week} className=\"border-t border-gray-700/60\">\r\n                                        <td className=\"py-1\">{w.week}</td>\r\n                                        <td className=\"py-1\">{w.ssl}%</td>\r\n                                        <td className=\"py-1\">{supplemental.sslVolume} @ {w.ssl}%</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                        <p className=\"text-[10px] text-gray-500 mt-2\">Choose SSL when you want a bit more intensity without BBB volume.</p>\r\n                    </div>\r\n                )}\r\n                {supplemental.type === 'bbb' && (\r\n                    <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4 space-y-3\">\r\n                        <div className=\"text-white font-medium\">Boring But Big Configuration</div>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                            <div>\r\n                                <label className=\"text-xs text-gray-400\">Percent of TM</label>\r\n                                <select\r\n                                    value={supplemental.bbbPercent}\r\n                                    onChange={e => setSupplemental({ bbbPercent: Number(e.target.value) })}\r\n                                    className=\"w-full bg-gray-900 border border-gray-600 text-white rounded px-2 py-1 text-sm\"\r\n                                >\r\n                                    {[50, 55, 60, 65, 70].map(p => <option key={p} value={p}>{p}%</option>)}\r\n                                </select>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"text-xs text-gray-400\">Pairing</label>\r\n                                <select\r\n                                    value={supplemental.bbbPairing}\r\n                                    onChange={e => setSupplemental({ bbbPairing: e.target.value })}\r\n                                    className=\"w-full bg-gray-900 border border-gray-600 text-white rounded px-2 py-1 text-sm\"\r\n                                >\r\n                                    <option value=\"same\">Same Lift</option>\r\n                                    <option value=\"opposite\">Opposite Lift</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"text-xs text-gray-400 flex items-end\">5×10 @ selected % of TM after main sets.</div>\r\n                        </div>\r\n                        <p className=\"text-[10px] text-gray-500\">Same lift = skill & volume practice. Opposite lift = balance (Press↔Bench, Squat↔Deadlift).</p>\r\n                    </div>\r\n                )}\r\n                {supplemental.type === '5spro' && (\r\n                    <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4\">\r\n                        <div className=\"text-white font-medium mb-2\">5s PRO Notes</div>\r\n                        <p className=\"text-xs text-gray-300\">All three weekly work sets are performed for 5 reps (no AMRAP / PR set). Keeps bar speed crisp and fatigue controlled. Pair with assistance for hypertrophy if needed.</p>\r\n                        <ul className=\"list-disc ml-5 mt-2 space-y-1 text-[11px] text-gray-400\">\r\n                            <li>Useful in leader phases before pushing rep PRs again.</li>\r\n                            <li>Great with supplemental FSL or simple accessories.</li>\r\n                        </ul>\r\n                    </div>\r\n                )}\r\n                {supplemental.type === 'none' && (\r\n                    <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4 text-xs text-gray-300\">\r\n                        Focus solely on the 5/3/1 main sets. Ideal during stressful life periods or when re‑establishing training maxes.\r\n                    </div>\r\n                )}\r\n                <div className=\"text-[10px] text-gray-500 italic\">Choose one method per cycle. Changing mid‑cycle can distort progression tracking.</div>\r\n            </div>\r\n\r\n            {/* Assistance Work (NEW Section E) */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-6\">\r\n                <div className=\"space-y-1\">\r\n                    <div className=\"text-white font-medium mb-1\">E) Assistance Work</div>\r\n                    <p className=\"text-gray-400 text-xs\">Choose your assistance approach and configure exercises.</p>\r\n                    <p className=\"text-[11px] text-gray-500\">Assistance work addresses weaknesses and adds volume without interfering with main lifts.</p>\r\n                </div>\r\n                <div className=\"bg-blue-900/20 border border-blue-700 rounded p-3 text-[11px] text-blue-100 leading-relaxed\">\r\n                    <div className=\"font-semibold mb-1\">Process</div>\r\n                    <div>1. Select assistance philosophy → 2. Configure exercises (if needed) → 3. Review final selection.</div>\r\n                </div>\r\n                {/* Mode selection cards */}\r\n                <div>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\">\r\n                        {[{\r\n                            id: 'minimal', title: 'Minimal', subtitle: 'Low Volume', desc: 'Basic push/pull/core (25–50 total reps). Keep work small while TMs settle.', best: 'New cycle starts | limited recovery', features: ['Fast sessions', 'Low fatigue', 'Foundational balance']\r\n                        }, {\r\n                            id: 'standard', title: 'Standard', subtitle: 'Balanced', desc: 'Balanced assistance across movement patterns (50–75 reps per category).', best: 'General strength & physique', features: ['Push / Pull / Core', 'Single-Leg optional', 'Posterior chain focus']\r\n                        }, {\r\n                            id: 'custom', title: 'Custom', subtitle: 'Full Control', desc: 'Full control over assistance exercise selection and volume.', best: 'Advanced needs / targeting', features: ['Manual curation', 'Fine volume tuning', 'Specialization friendly']\r\n                        }, {\r\n                            id: 'template', title: 'Template-Based', subtitle: 'Wendler Sets', desc: 'Use proven assistance patterns from Wendler templates.', best: 'Hypertrophy blocks / structured variety', features: ['Preset volumes', 'Synergistic pairing', 'Reliable progression']\r\n                        }].map(card => {\r\n                            const active = assistanceConfig.mode === card.id;\r\n                            return (\r\n                                <button key={card.id} onClick={() => setAssistanceConfig({ mode: card.id })} className={`text-left bg-gray-800/50 border rounded p-3 hover:bg-gray-800 transition relative ${active ? 'border-red-500 ring-2 ring-red-600' : 'border-gray-700'}`}>\r\n                                    <div className=\"flex items-start justify-between\">\r\n                                        <div>\r\n                                            <div className=\"text-[11px] tracking-wide font-semibold text-red-300\">{card.subtitle.toUpperCase()}</div>\r\n                                            <div className=\"text-sm font-semibold text-white leading-tight mt-0.5\">{card.title}</div>\r\n                                        </div>\r\n                                        {active && <CheckCircle className=\"w-4 h-4 text-green-400\" />}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-300 mt-2 leading-snug\">{card.desc}</div>\r\n                                    <div className=\"mt-2 text-[10px] text-gray-400\"><span className=\"font-medium text-gray-300\">Best for:</span> {card.best}</div>\r\n                                    <ul className=\"mt-2 text-[10px] text-gray-400 list-disc ml-4 space-y-0.5\">\r\n                                        {card.features.map(f => <li key={f}>{f}</li>)}\r\n                                    </ul>\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    <div className=\"mt-2 text-[10px] text-gray-500 italic\">Stored: assistanceConfig.mode = {assistanceConfig.mode}</div>\r\n                </div>\r\n                {/* Category filters */}\r\n                <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4 space-y-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <Filter className=\"w-4 h-4 text-gray-300\" />\r\n                        <div className=\"text-white font-medium text-sm\">Movement Pattern Filters</div>\r\n                    </div>\r\n                    <p className=\"text-[11px] text-gray-400 leading-snug\">Use filters to focus the preview. Strive for balanced coverage unless intentionally specializing.</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {[{ id: 'pull', label: 'Pull', tip: 'Balances pressing movements, improves posture' }, { id: 'push', label: 'Push', tip: 'Additional pressing volume, tricep development' }, { id: 'core', label: 'Core', tip: 'Trunk stability, injury prevention' }, { id: 'single', label: 'Single-Leg', tip: 'Unilateral strength, athletic development' }, { id: 'posterior', label: 'Posterior', tip: 'Hip hinge patterns, glute/hamstring strength' }].map(cat => {\r\n                            const active = stdCategoryFilter.includes(cat.id);\r\n                            return (\r\n                                <button key={cat.id} title={cat.tip} onClick={() => toggleStdCategory(cat.id)} className={`px-4 py-1.5 rounded border text-xs font-medium transition ${active ? 'border-red-500 ring-2 ring-red-600 bg-red-600/10 text-white' : 'border-gray-600 text-gray-300 hover:bg-gray-700/40'}`}>{cat.label}</button>\r\n                            );\r\n                        })}\r\n                        <button onClick={() => setStdCategoryFilter([])} className=\"px-4 py-1.5 rounded border border-gray-700 text-xs text-gray-400 hover:bg-gray-700/40\">Reset</button>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-5 gap-3 text-[10px] text-gray-400\">\r\n                        <div><span className=\"font-semibold text-gray-300\">Pull:</span> Balances pressing & shoulder health.</div>\r\n                        <div><span className=\"font-semibold text-gray-300\">Push:</span> Pressing volume & tricep strength.</div>\r\n                        <div><span className=\"font-semibold text-gray-300\">Core:</span> Trunk stability & bracing.</div>\r\n                        <div><span className=\"font-semibold text-gray-300\">Single-Leg:</span> Unilateral strength & balance.</div>\r\n                        <div><span className=\"font-semibold text-gray-300\">Posterior:</span> Hinge patterns & posterior chain.</div>\r\n                    </div>\r\n                </div>\r\n                {/* Assistance Preview */}\r\n                <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4 space-y-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <Layers className=\"w-4 h-4 text-gray-300\" />\r\n                        <div className=\"text-white font-medium text-sm\">Assistance Preview</div>\r\n                    </div>\r\n                    <p className=\"text-[11px] text-gray-400\">Selected for movement balance and pattern diversity. Adjustments occur in the dedicated Assistance step.</p>\r\n                    <div className=\"space-y-6\">\r\n                        {filteredPreview.map(day => (\r\n                            <div key={day.day} className=\"border border-gray-700 rounded overflow-hidden\">\r\n                                <div className=\"px-3 py-2 bg-gray-900/70 text-white text-sm font-semibold flex justify-between items-center\">\r\n                                    <span>{day.day} Assistance</span>\r\n                                    <span className=\"text-[10px] text-gray-400\">{assistanceConfig.mode === 'minimal' ? 'Low Volume' : assistanceConfig.mode === 'standard' ? 'Balanced' : assistanceConfig.mode === 'template' ? 'Template' : 'Custom'}</span>\r\n                                </div>\r\n                                <ul className=\"divide-y divide-gray-800\">\r\n                                    {day.items.map((it, idx) => (\r\n                                        <li key={idx} className=\"px-3 py-2 text-xs text-gray-300 flex flex-col gap-1\">\r\n                                            <div className=\"flex items-center justify-between\">\r\n                                                <div className=\"font-medium text-gray-200\">{it.name}</div>\r\n                                                <div className=\"text-[10px] text-gray-400\">{it.target}</div>\r\n                                            </div>\r\n                                            <div className=\"flex flex-wrap gap-1\">\r\n                                                {it.cats.map(c => (\r\n                                                    <span key={c} className={`px-1.5 py-0.5 rounded border text-[10px] tracking-wide ${MOVEMENT_BADGE_COLORS[c] || 'border-gray-600 text-gray-300'}`}>{c.toUpperCase()}</span>\r\n                                                ))}\r\n                                            </div>\r\n                                            {it.why && <div className=\"text-[10px] text-gray-500 italic leading-snug\">{it.why}</div>}\r\n                                        </li>\r\n                                    ))}\r\n                                    {!day.items.length && <li className=\"px-3 py-2 text-[10px] text-gray-500\">No items (awaiting custom selection).</li>}\r\n                                </ul>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"text-[10px] text-gray-500 italic\">Preview only – finalize later. Maintain recovery priority.</div>\r\n                </div>\r\n                {/* Pattern Balance */}\r\n                <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4\">\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                        <Cog className=\"w-4 h-4 text-gray-300\" />\r\n                        <div className=\"text-white font-medium text-sm\">Pattern Balance Snapshot</div>\r\n                    </div>\r\n                    <PatternBalanceViewer items={filteredPreview} />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Equipment & Exercise Options (Section F) */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 space-y-6\">\r\n                <div className=\"space-y-1\">\r\n                    <div className=\"text-white font-medium mb-1\">F) Equipment & Exercise Options</div>\r\n                    <p className=\"text-gray-400 text-xs\">Select available equipment to filter assistance exercise recommendations.</p>\r\n                    <p className=\"text-[11px] text-gray-500\">Equipment selection determines which assistance exercises will be suggested and available for your program.</p>\r\n                </div>\r\n                {/* Profile Cards */}\r\n                <div>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\">\r\n                        {[{\r\n                            id: 'full', title: 'Commercial Gym / Full Setup', badge: 'All Exercises Available', desc: 'Complete equipment access including machines, cables, specialty items'\r\n                        }, {\r\n                            id: 'home', title: 'Home Gym Essentials', badge: 'Most Exercises Available', desc: 'Barbell, bench, dumbbells & pull‑up bar'\r\n                        }, {\r\n                            id: 'minimal', title: 'Minimal Equipment', badge: 'Core + Bodyweight', desc: 'Barbell + bodyweight accessories'\r\n                        }, {\r\n                            id: 'bodyweight', title: 'Bodyweight Only', badge: 'Bodyweight Assistance Only', desc: 'No external equipment selected'\r\n                        }].map(card => {\r\n                            const active = equipmentProfile === card.id && activeProfileIsPure;\r\n                            return (\r\n                                <button key={card.id} onClick={() => applyEquipmentProfile(card.id)} className={`text-left bg-gray-800/50 border rounded p-3 hover:bg-gray-800 transition relative ${active ? 'border-red-500 ring-2 ring-red-600' : 'border-gray-700'}`}>\r\n                                    <div className=\"flex items-start justify-between\">\r\n                                        <div className=\"text-sm font-semibold text-white leading-snug pr-4\">{card.title}</div>\r\n                                        {active && <CheckCircle className=\"w-4 h-4 text-green-400\" />}\r\n                                    </div>\r\n                                    <div className=\"text-[11px] text-gray-300 mt-2 leading-snug\">{card.desc}</div>\r\n                                    <div className=\"mt-3 inline-block text-[10px] px-2 py-0.5 rounded border border-red-500 text-red-300 tracking-wide\">{card.badge}</div>\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    <div className=\"mt-2 text-[10px] text-gray-500 italic\">Active profile: {activeProfileDisplay}</div>\r\n                </div>\r\n                {/* Custom Equipment Selection */}\r\n                <div className=\"space-y-5\">\r\n                    {EQUIP_CATEGORIES.map(cat => (\r\n                        <div key={cat.id} className=\"bg-gray-800/50 border border-gray-700 rounded p-4 space-y-3\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <div className=\"text-white font-medium text-sm\">{cat.label}</div>\r\n                                    <div className=\"text-[11px] text-gray-400\">{cat.note}</div>\r\n                                </div>\r\n                                {cat.id === 'essential' && !(equipmentMap.barbell && equipmentMap.plates && equipmentMap.squat_rack && equipmentMap.bench) && <span className=\"text-[10px] text-red-400\">Incomplete</span>}\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\">\r\n                                {cat.items.map(([key, label]) => {\r\n                                    const on = !!equipmentMap[key];\r\n                                    return (\r\n                                        <button type=\"button\" key={key} onClick={() => toggleEquip(key)} className={`group text-left px-2 py-1 rounded border text-[11px] flex items-center justify-between gap-2 ${on ? 'border-red-500 bg-red-600/10 text-white' : 'border-gray-600 bg-gray-900/40 text-gray-300 hover:bg-gray-800/60'}`}>\r\n                                            <span className=\"truncate\">{label}</span>\r\n                                            <span className={`w-3 h-3 rounded-full ${on ? 'bg-green-500' : 'bg-gray-600'}`}></span>\r\n                                        </button>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                {/* Impact Preview */}\r\n                <div className=\"bg-gray-800/60 border border-gray-700 rounded p-4 space-y-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <Layers className=\"w-4 h-4 text-gray-300\" />\r\n                        <div className=\"text-white font-medium text-sm\">Available Exercise Categories</div>\r\n                    </div>\r\n                    <p className=\"text-[11px] text-gray-400\">{impactSummary}</p>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-5 gap-2 text-[11px]\">\r\n                        {Object.entries(catCounts).map(([cat, val]) => (\r\n                            <div key={cat} className=\"bg-gray-900/50 border border-gray-700 rounded p-2 flex flex-col gap-1\">\r\n                                <div className=\"text-gray-300 font-medium capitalize\">{cat}</div>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <div className=\"flex-1 h-2 bg-gray-700 rounded overflow-hidden\">\r\n                                        <div style={{ width: Math.min(100, (val / (CATEGORY_BASE[cat] + 20)) * 100) + '%' }} className=\"h-full bg-red-600/70\"></div>\r\n                                    </div>\r\n                                    <div className=\"text-[10px] text-gray-400 w-6 text-right\">{val}</div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"text-[10px] text-gray-500 italic\">Counts are illustrative. Final exercise pool may adjust based on programming approach and assistance mode.</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Step 3 Progress Summary */}\r\n            <div className=\"bg-gray-900/60 border border-gray-700 rounded p-4 text-[11px] text-gray-300\">\r\n                {(() => {\r\n                    const scheduleOk = !!(schedule.frequency && (schedule.days || []).length);\r\n                    const warmOk = !!warm.policy; // basic\r\n                    const progOk = !!programmingApproach;\r\n                    const suppOk = !!supplemental.type;\r\n                    const assistOk = !!assistanceConfig.mode;\r\n                    const essentialOk = equipmentMap.barbell && equipmentMap.plates && equipmentMap.squat_rack && equipmentMap.bench;\r\n                    const items = [\r\n                        { id: 'schedule', label: 'Schedule', ok: scheduleOk },\r\n                        { id: 'warm', label: 'Warm‑ups', ok: warmOk },\r\n                        { id: 'programming', label: 'Programming', ok: progOk },\r\n                        { id: 'supplemental', label: 'Supplemental', ok: suppOk },\r\n                        { id: 'assistance', label: 'Assistance', ok: assistOk },\r\n                        { id: 'equipment', label: 'Equipment', ok: essentialOk }\r\n                    ];\r\n                    return (\r\n                        <div className=\"flex flex-wrap gap-3 items-center\">\r\n                            {items.map(it => (\r\n                                <div key={it.id} className={`flex items-center gap-1 px-2 py-1 rounded border ${it.ok ? 'border-green-600 text-green-300' : 'border-gray-600 text-gray-400'}`}>\r\n                                    {it.ok ? <CheckCircle className=\"w-3 h-3\" /> : <AlertTriangle className=\"w-3 h-3 text-yellow-400\" />}\r\n                                    <span>{it.label}</span>\r\n                                </div>\r\n                            ))}\r\n                            {!essentialOk && <span className=\"text-yellow-400\">Essential equipment incomplete (barbell, plates, rack, bench).</span>}\r\n                        </div>\r\n                    );\r\n                })()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- Helper component for pattern balance visualization ---\r\nfunction PatternBalanceViewer({ items }) {\r\n    const counts = { push: 0, pull: 0, core: 0, single: 0, posterior: 0 };\r\n    items.forEach(day => day.items.forEach(it => it.cats.forEach(c => { if (counts[c] !== undefined) counts[c]++; })));\r\n    const total = Object.values(counts).reduce((a, b) => a + b, 0) || 1;\r\n    const pct = (c) => Math.round((counts[c] / total) * 100);\r\n    const bars = [\r\n        { id: 'pull', label: 'Pull' },\r\n        { id: 'push', label: 'Push' },\r\n        { id: 'core', label: 'Core' },\r\n        { id: 'single', label: 'Single-Leg' },\r\n        { id: 'posterior', label: 'Posterior' }\r\n    ];\r\n    return (\r\n        <div className=\"space-y-2 text-[11px] text-gray-300\">\r\n            {bars.map(b => (\r\n                <div key={b.id} className=\"flex items-center gap-2\">\r\n                    <div className=\"w-20 text-gray-400\">{b.label}</div>\r\n                    <div className=\"flex-1 h-3 bg-gray-900 rounded overflow-hidden border border-gray-700\">\r\n                        <div style={{ width: pct(b.id) + '%' }} className={`h-full ${pct(b.id) > 35 ? 'bg-red-600/70' : 'bg-red-500/40'}`}></div>\r\n                    </div>\r\n                    <div className=\"w-10 text-right text-gray-400\">{counts[b.id]}</div>\r\n                </div>\r\n            ))}\r\n            <div className=\"text-[10px] text-gray-500 italic\">Ensure no single pattern dominates unless purposefully specialized.</div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["CANONICAL_ORDER","buildDaysByFrequency","freq","lift","idx","resetToCanonical","days","liftOptions","Step3ScheduleWarmup","data","updateData","st","schedule","warm","supplemental","assistanceConfig","programmingApproach","leaderAnchorPattern","equipmentMap","equipmentProfile","set","patch","PROFILE_DEFS","applyEquipmentProfile","profile","allKeys","next","acc","k","toggleEquip","key","activeProfileIsPure","id","wanted","v","activeProfileDisplay","EQUIP_CATEGORIES","CATEGORY_BASE","EQUIP_IMPACT","catCounts","tally","cat","inc","impactSummary","exLoaded","categoriesMap","_a","useExerciseDB","stdCategoryFilter","setStdCategoryFilter","useState","toggleStdCategory","arr","c","MOVEMENT_BADGE_COLORS","allPreviewItems","useMemo","mode","structure","filteredPreview","day","it","setFrequency","updateDayLift","dayIndex","value","removeDay","addDay","nextId","resetOrder","setWarmPolicy","policy","updateCustomRow","field","rows","addCustomRow","removeCustomRow","setDeadliftStyle","style","setSupplemental","setProgrammingApproach","approach","setLeaderAnchorPattern","pattern","setAssistanceConfig","SUPP_OPTIONS","WEEK_INFO","RenderDebug","jsxs","jsx","StepStatusPill","STEP_IDS","Info","opt","RotateCcw","Plus","d","Trash2","e","o","row","i","card","active","disabled","CheckCircle","f","p","w","Filter","Layers","Cog","PatternBalanceViewer","label","on","val","scheduleOk","warmOk","progOk","suppOk","assistOk","essentialOk","items","AlertTriangle","counts","total","a","b","pct","bars"],"mappings":"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"}