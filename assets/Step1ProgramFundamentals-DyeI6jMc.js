import{r as E,j as e,I as F,ac as G,aa as $,h as w,ad as q,T as B}from"./ui-vendor-BLoy3R85.js";import{S as O}from"./StepStatusPill-B3ozayah.js";import{S as _}from"./index-BnxnLKiN.js";import{r as T,e as K}from"./compute531-BdiGZ_3o.js";import"./react-vendor-DoC2WAmd.js";import"./data-vendor-CWegSrCC.js";import"./chart-vendor-DbvXzfx8.js";import"./router-vendor-CDc5MEim.js";const k=["press","deadlift","bench","squat"],C={press:"Overhead Press",bench:"Bench Press",deadlift:"Deadlift",squat:"Back Squat"};function l(y){const m=Number(y);return Number.isFinite(m)?m:null}function X({data:y,updateData:m}){const a=y||{},d=a.units??"lb",n=a.rounding||{increment:d==="kg"?2.5:5,mode:"nearest"},p=a.tmPercent??90,x=a.lifts||{squat:{oneRM:null,tm:null,tmPercent:90},bench:{oneRM:null,tm:null,tmPercent:90},deadlift:{oneRM:null,tm:null,tmPercent:90},press:{oneRM:null,tm:null,tmPercent:90}},h=a.coreLiftsEnabled||{squat:!0,bench:!0,deadlift:!0,press:!0},f=s=>m({...a,...s}),v=s=>{const t={...a.rounding||{},...s};f({rounding:t})},g=(s,t)=>{const r={...x[s]||{},...t};m({...a,lifts:{...x,[s]:r}})},P=(s,t)=>{m({...a,coreLiftsEnabled:{...h,[s]:t}})},S=s=>{const t={...x};for(const r of Object.keys(t))t[r]={...t[r]||{},tmPercent:s};m({...a,tmPercent:s,lifts:t})},M=(s,t,r,o)=>{if(!s)return null;const i=s*(t/100);return T(i,r,o)},N=s=>{if(l(s.oneRM))return l(s.oneRM);const t=l(s.testWeight),r=l(s.testReps);return t&&r&&r>=1?K(t,r):null},L=()=>{const s=(n==null?void 0:n.increment)??(d==="kg"?2.5:5),t=(n==null?void 0:n.mode)??"nearest",r={...x};for(const o of Object.keys(r)){if(!h[o])continue;const i=r[o]||{},u=l(i.tmPercent)??p??90,b=N(i),j=M(b,u,s,t);r[o]={...i,oneRM:b,tm:j}}m({...a,lifts:r})},W=s=>{var u;const r=s==="kg"?2.5:5,i=((u=a.rounding)==null?void 0:u.increment)?a.rounding:{increment:r,mode:"nearest"};m({...a,units:s,rounding:i})},I="Warm‑up: 40/50/60% TM × 5/5/3 (Wendler standard)",R=E.useMemo(()=>{const s=[];for(const t of k){if(!h[t])continue;const r=x[t]||{};l(r.tm)||l(r.oneRM)||l(r.testWeight)&&l(r.testReps)||s.push(C[t])}return s},[x,h]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:"Step 1: Program Fundamentals"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Set units, rounding, and enter either 1RM or a rep test for each lift. The calculator will suggest Training Max (TM)."})]}),e.jsx(O,{stepId:_.PROGRAM_FUNDAMENTALS,data:a})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-600 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-blue-300 mt-0.5"}),e.jsxs("div",{className:"text-blue-100 text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Wendler Rules"}),e.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[e.jsxs("li",{children:["Calculate all work sets from the ",e.jsx("b",{children:"Training Max (TM)"}),", not your true 1RM."]}),e.jsxs("li",{children:["Standard TM is ",e.jsx("b",{children:"90%"})," of 1RM (or e1RM from a rep test). Conservative: 85%."]}),e.jsxs("li",{children:[I," before main sets."]}),e.jsx("li",{children:"Start a little light. If you can’t get ≥5 on Week‑1 top set, your TM is too high."})]})]})]})}),e.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white font-medium",children:[e.jsx(G,{className:"w-5 h-5"})," Global Settings"]}),e.jsxs("button",{onClick:()=>S(p),className:"inline-flex items-center gap-2 text-sm px-3 py-1 border border-red-500 rounded hover:bg-red-600/10",title:"Apply this TM% to all lifts",children:[e.jsx($,{className:"w-4 h-4"}),"Apply TM% to all"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"Units"}),e.jsxs("select",{value:d,onChange:s=>W(s.target.value),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1",children:[e.jsx("option",{value:"lb",children:"Pounds (lb)"}),e.jsx("option",{value:"kg",children:"Kilograms (kg)"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"Rounding Increment"}),e.jsx("input",{type:"number",step:"0.5",min:"0.5",value:(n==null?void 0:n.increment)??(d==="kg"?2.5:5),onChange:s=>v({increment:l(s.target.value)||(d==="kg"?2.5:5)}),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Typical: 5 lb or 2.5 kg"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"Rounding Mode"}),e.jsxs("select",{value:(n==null?void 0:n.mode)||"nearest",onChange:s=>v({mode:s.target.value}),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1",children:[e.jsx("option",{value:"nearest",children:"Nearest"}),e.jsx("option",{value:"ceiling",children:"Ceiling"}),e.jsx("option",{value:"floor",children:"Floor"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"Global TM %"}),e.jsx("input",{type:"number",min:"80",max:"95",value:p,onChange:s=>f({tmPercent:Math.max(80,Math.min(95,Number(s.target.value)||90))}),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Wendler default: 90%"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(s=>{const t=x[s]||{},r=h[s]??!0,o=l(t.tmPercent)??p??90,i=N(t),u=(n==null?void 0:n.increment)??(d==="kg"?2.5:5),b=(n==null?void 0:n.mode)??"nearest",j=i?T(i*(o/100),u,b):null;return e.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-white font-medium",children:C[s]}),e.jsxs("label",{className:"text-sm text-gray-300 flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!r,onChange:c=>P(s,c.target.checked)}),"Enable"]})]}),r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("label",{className:"text-sm text-gray-300 mb-1",children:["1RM (",d,")"]}),e.jsx("input",{type:"number",step:"1",min:"0",value:t.oneRM??"",onChange:c=>g(s,{oneRM:l(c.target.value)}),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Leave blank if using a rep test."})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"Rep Test (Weight × Reps)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"Weight",value:t.testWeight??"",onChange:c=>g(s,{testWeight:l(c.target.value)}),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1"}),e.jsx("input",{type:"number",placeholder:"Reps",value:t.testReps??"",onChange:c=>g(s,{testReps:l(c.target.value)}),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1"})]}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"e1RM = weight × reps × 0.0333 + weight"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"TM % (this lift)"}),e.jsx("input",{type:"number",min:"80",max:"95",value:o,onChange:c=>g(s,{tmPercent:Math.max(80,Math.min(95,Number(c.target.value)||o))}),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Default comes from Global TM% above."})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-300 mb-1",children:"Training Max (TM)"}),e.jsx("input",{type:"number",step:"1",min:"0",value:t.tm??"",onChange:c=>g(s,{tm:l(c.target.value)}),className:"bg-gray-800 border border-gray-600 text-white rounded px-2 py-1"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"You can override the computed TM here."})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded p-2",children:[e.jsx("div",{className:"text-gray-400 text-xs",children:"e1RM (computed)"}),e.jsx("div",{className:"text-white font-medium",children:i?`${Math.round(i)} ${d}`:"—"})]}),e.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded p-2",children:[e.jsx("div",{className:"text-gray-400 text-xs",children:"Suggested TM"}),e.jsx("div",{className:"text-white font-medium",children:j?`${j} ${d}`:"—"})]}),e.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded p-2",children:[e.jsx("div",{className:"text-gray-400 text-xs",children:"Current TM"}),e.jsx("div",{className:"text-white font-medium",children:t.tm?`${t.tm} ${d}`:"—"})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>{const c=N(t),A=M(c,o,u,b);g(s,{oneRM:c,tm:A})},className:"inline-flex items-center gap-2 px-3 py-1 border border-blue-500 rounded hover:bg-blue-600/10",children:[e.jsx(w,{className:"w-4 h-4"}),"Set TM from 1RM/Rep Test"]}),e.jsx("button",{onClick:()=>g(s,{oneRM:null,testWeight:null,testReps:null,tm:null}),className:"inline-flex items-center gap-2 px-3 py-1 border border-gray-600 rounded hover:bg-gray-600/10",children:"Clear"})]})]}):e.jsx("div",{className:"text-gray-500 text-sm",children:"Lift disabled for this program."})]},s)})}),e.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white font-medium",children:[e.jsx(q,{className:"w-5 h-5"})," Batch Calculate"]}),e.jsxs("button",{onClick:L,className:"inline-flex items-center gap-2 px-3 py-1 border border-red-500 rounded hover:bg-red-600/10",children:[e.jsx(w,{className:"w-4 h-4"}),"Calculate All TMs"]})]}),e.jsx("div",{className:"text-sm text-gray-300",children:"This uses each lift’s 1RM (or e1RM from your rep test) and the lift’s TM% (or global TM%) with your rounding rules."})]}),R.length>0&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700 text-yellow-200 rounded p-3 text-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(B,{className:"w-4 h-4 mt-0.5"}),e.jsxs("div",{children:["Enter 1RM or a rep test (and set TM) for: ",R.join(", "),"."]})]})})]})}export{X as default};
//# sourceMappingURL=Step1ProgramFundamentals-DyeI6jMc.js.map
