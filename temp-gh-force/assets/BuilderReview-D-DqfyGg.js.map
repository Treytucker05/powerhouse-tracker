{"version":3,"file":"BuilderReview-D-DqfyGg.js","sources":["../../src/state/programCycle.ts","../../src/pages/BuilderReview.tsx"],"sourcesContent":["// src/state/programCycle.ts\r\n// Single persistence path for finalized 5/3/1 review plan.\r\n// Framework-agnostic; can be swapped out for remote storage later.\r\n\r\nexport type ActivePlan = {\r\n  id: string;\r\n  createdAt: string;          // ISO timestamp\r\n  cycle: number;              // always 1 on initial create\r\n  reviewState: any;           // opaque ReviewState payload\r\n  nextCycleIncrements: { upper: number; lower: number }; // +5 / +10 (lbs) default\r\n};\r\n\r\nconst KEY = \"ph_active_plan_v1\";\r\n\r\nexport function startCycle(reviewState: any, inc: { upper: number; lower: number } = { upper: 5, lower: 10 }): ActivePlan {\r\n  if (!reviewState?.tm_by_lift || !reviewState?.days) {\r\n    throw new Error(\"Invalid review state — missing TMs or days.\");\r\n  }\r\n  const plan: ActivePlan = {\r\n    id: (globalThis as any)?.crypto?.randomUUID?.() ?? String(Date.now()),\r\n    createdAt: new Date().toISOString(),\r\n    cycle: 1,\r\n    reviewState,\r\n    nextCycleIncrements: inc,\r\n  };\r\n  try {\r\n    localStorage.setItem(KEY, JSON.stringify(plan));\r\n  } catch (e) {\r\n    // surface minimal info for debugging\r\n    console.warn(\"Failed to persist active plan\", e);\r\n  }\r\n  return plan;\r\n}\r\n\r\nexport function getActivePlan(): ActivePlan | null {\r\n  try {\r\n    const raw = localStorage.getItem(KEY);\r\n    if (!raw) return null;\r\n    return JSON.parse(raw) as ActivePlan;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function clearActivePlan(): void {\r\n  try { localStorage.removeItem(KEY); } catch { /* noop */ }\r\n}\r\n","import React, { useMemo, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useProgramV2 } from \"../methods/531/contexts/ProgramContextV2.jsx\"; // real context (JSX module)\r\nimport { startCycle as persistStartCycle } from \"../state/programCycle\";\r\n\r\n/** ========= Types (from spec) ========= **/\r\ntype WeeklyOption = \"opt1\" | \"opt2\"; // opt1: 65/75/85, 70/80/90, 75/85/95 ; opt2 per book, p.22\r\ntype DeadliftStyle = \"dead_stop\" | \"touch_and_go\"; // book p.18–19\r\ntype RoundingMode = \"up\" | \"nearest\" | \"down\";\r\ntype Units = \"lb\" | \"kg\";\r\ntype Schedule = \"4_day\" | \"3_day\" | \"2_day\" | \"1_day\";\r\ntype LiftKey = \"press\" | \"bench\" | \"squat\" | \"deadlift\";\r\n\r\ntype SetRow = {\r\n    set: 1 | 2 | 3;\r\n    pct_of_tm: number;  // 0.40–0.95\r\n    reps: string;       // \"5\",\"3\",\"1\" or \"5+|3+|1+\"\r\n    amrap: boolean;\r\n    load_rounded: number; // derived at render\r\n};\r\n\r\ntype WeekPlan = { sets: SetRow[] };\r\ntype WarmupRow = { pct_of_tm: number; reps: number; load_rounded: number };\r\n\r\ntype DayPlan = {\r\n    lift: LiftKey;\r\n    warmup: WarmupRow[]; // 40/50/60 x 5/5/3 (book p.30)\r\n    weeks: {\r\n        w1: WeekPlan; w2: WeekPlan; w3: WeekPlan; w4_deload: WeekPlan;\r\n    };\r\n    supplemental?: {\r\n        mode: \"bbb\" | \"fsl\" | \"ssl\" | null;\r\n        sets?: number; reps?: number; pct_of_tm?: number | null;\r\n        load_rounded?: number | null;\r\n    };\r\n    assistance: Array<{\r\n        name: string; sets?: number; reps?: number; bodyweight?: boolean;\r\n        target_min_reps?: number;\r\n    }>;\r\n    conditioning_note?: string;\r\n    // tonnage is computed per week; this field is optional cache\r\n    tonnage?: { main: number; supplemental: number; total: number };\r\n};\r\n\r\ntype ReviewState = {\r\n    meta: {\r\n        weekly_option: WeeklyOption;\r\n        amrap_last_set: true;\r\n        warmup_preset: \"standard_40_50_60\";\r\n        units: Units;\r\n        rounding: { mode: RoundingMode; step: number }; // 5 lb | 2.5 kg\r\n        deadlift_rep_style: DeadliftStyle;\r\n        schedule: Schedule;\r\n        progression: { upper_inc: number; lower_inc: number }; // +5/+10 after cycle (book p.24–28)\r\n        template: \"bbb\" | \"triumvirate\" | \"periodization_bible\" | \"bodyweight\" | \"jack_shit\";\r\n    };\r\n    tm_by_lift: Record<LiftKey, number>; // Training Max = 90% 1RM (book p.21–22)\r\n    days: Record<LiftKey, DayPlan>;\r\n};\r\n\r\n/** ========= Utilities ========= **/\r\nfunction roundToStep(n: number, step: number, mode: RoundingMode): number {\r\n    const q = n / step;\r\n    if (mode === \"up\") return Math.ceil(q) * step;\r\n    if (mode === \"down\") return Math.floor(q) * step;\r\n    return Math.round(q) * step;\r\n}\r\nfunction loadPct(tm: number, pct: number, step: number, mode: RoundingMode) {\r\n    return roundToStep(tm * pct, step, mode);\r\n}\r\nconst LIFT_LABEL: Record<LiftKey, string> = {\r\n    press: \"Overhead Press\",\r\n    bench: \"Bench Press\",\r\n    squat: \"Back Squat\",\r\n    deadlift: \"Deadlift\",\r\n};\r\n\r\n/** ========= Real state adapter (ProgramV2 -> ReviewState) ========= **/\r\nfunction useReviewStateFromProgram(): ReviewState {\r\n    const { state } = useProgramV2();\r\n    const tms: Record<LiftKey, number> = {\r\n        press: Number(state?.lifts?.press?.tm) || 0,\r\n        bench: Number(state?.lifts?.bench?.tm) || 0,\r\n        squat: Number(state?.lifts?.squat?.tm) || 0,\r\n        deadlift: Number(state?.lifts?.deadlift?.tm) || 0,\r\n    };\r\n    const weekly_option: WeeklyOption = (state?.loadingOption === 2 || state?.loading?.option === 2) ? 'opt2' : 'opt1';\r\n    const roundingModeMap: Record<string, RoundingMode> = { ceil: 'up', floor: 'down', nearest: 'nearest' };\r\n    const units: Units = state?.units === 'kg' ? 'kg' : 'lb';\r\n    const roundingMode = roundingModeMap[state?.rounding] || 'nearest';\r\n    const roundingStep = units === 'kg' ? 2.5 : 5; // TODO: map custom increment if stored separately\r\n    const meta: ReviewState['meta'] = {\r\n        weekly_option,\r\n        amrap_last_set: true,\r\n        warmup_preset: 'standard_40_50_60',\r\n        units,\r\n        rounding: { mode: roundingMode, step: roundingStep },\r\n        deadlift_rep_style: state?.deadliftRepStyle === 'touch_and_go' ? 'touch_and_go' : 'dead_stop',\r\n        schedule: (state?.schedule?.frequency === 3 ? '3_day' : state?.schedule?.frequency === 2 ? '2_day' : state?.schedule?.frequency === 1 ? '1_day' : '4_day'),\r\n        progression: { upper_inc: 5, lower_inc: 10 },\r\n        template: (state?.templateKey === 'bbb50' || state?.templateKey === 'bbb60' || state?.supplemental?.strategy === 'bbb') ? 'bbb' : (state?.templateKey || 'triumvirate') as any,\r\n    };\r\n    const schemeOpt1 = [\r\n        [0.65, 0.75, 0.85],\r\n        [0.70, 0.80, 0.90],\r\n        [0.75, 0.85, 0.95],\r\n        [0.40, 0.50, 0.60],\r\n    ];\r\n    const schemeOpt2 = [\r\n        [0.75, 0.80, 0.85],\r\n        [0.80, 0.85, 0.90],\r\n        [0.85, 0.90, 0.95],\r\n        [0.40, 0.50, 0.60],\r\n    ];\r\n    const scheme = weekly_option === 'opt2' ? schemeOpt2 : schemeOpt1;\r\n    const repPatterns = [\r\n        ['5', '5', '5+'],\r\n        ['3', '3', '3+'],\r\n        ['5', '3', '1+'],\r\n        ['5', '5', '5'],\r\n    ];\r\n    function buildWeeks(): { w1: WeekPlan; w2: WeekPlan; w3: WeekPlan; w4_deload: WeekPlan } {\r\n        function mk(weekIdx: number): WeekPlan {\r\n            return {\r\n                sets: scheme[weekIdx].map((pct, i) => ({\r\n                    set: (i + 1) as 1 | 2 | 3,\r\n                    pct_of_tm: pct,\r\n                    reps: repPatterns[weekIdx][i],\r\n                    amrap: weekIdx < 3 && i === 2,\r\n                    load_rounded: 0,\r\n                })),\r\n            };\r\n        }\r\n        return { w1: mk(0), w2: mk(1), w3: mk(2), w4_deload: mk(3) };\r\n    }\r\n    function buildDay(lift: LiftKey, tm: number): DayPlan {\r\n        return {\r\n            lift,\r\n            warmup: [\r\n                { pct_of_tm: 0.40, reps: 5, load_rounded: 0 },\r\n                { pct_of_tm: 0.50, reps: 5, load_rounded: 0 },\r\n                { pct_of_tm: 0.60, reps: 3, load_rounded: 0 },\r\n            ],\r\n            weeks: buildWeeks(),\r\n            supplemental: state?.supplemental?.strategy === 'bbb' ? {\r\n                mode: 'bbb',\r\n                sets: 5,\r\n                reps: 10,\r\n                pct_of_tm: (Number(state?.supplemental?.percentOfTM) || 50) / 100,\r\n                load_rounded: 0,\r\n            } : { mode: null },\r\n            assistance: [], // TODO: map from template/custom assistance\r\n            conditioning_note: state?.conditioning?.note || 'Prowler pushes or hill sprints 2–3x weekly. Progress gradually.',\r\n        };\r\n    }\r\n    const days: Record<LiftKey, DayPlan> = {\r\n        press: buildDay('press', tms.press),\r\n        deadlift: buildDay('deadlift', tms.deadlift),\r\n        bench: buildDay('bench', tms.bench),\r\n        squat: buildDay('squat', tms.squat),\r\n    };\r\n    return { meta, tm_by_lift: tms, days };\r\n}\r\n\r\n/** ========= Page ========= **/\r\nexport default function BuilderReviewPage() {\r\n    const state = useReviewStateFromProgram();\r\n    const navigate = useNavigate();\r\n\r\n    const scheduleOrder: LiftKey[] = [\"press\", \"deadlift\", \"bench\", \"squat\"];\r\n\r\n    const isReady = !!state?.tm_by_lift?.press && !!state?.tm_by_lift?.bench && !!state?.tm_by_lift?.squat && !!state?.tm_by_lift?.deadlift && !!state?.days && Object.keys(state.days).length > 0;\r\n\r\n    function handleStartCycle() {\r\n        if (!isReady) return;\r\n        try {\r\n            persistStartCycle(state, { upper: state.meta.progression?.upper_inc ?? 5, lower: state.meta.progression?.lower_inc ?? 10 });\r\n            navigate('/program'); // program overview route\r\n        } catch (e) {\r\n            console.error(e);\r\n            alert('Could not start cycle. Verify Training Maxes and plan data.');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <main className=\"mx-auto max-w-6xl px-4 py-8 text-gray-100\">\r\n            <HeaderSummary meta={state.meta} />\r\n            <section className=\"mt-6\">\r\n                <TMTable tmByLift={state.tm_by_lift} />\r\n            </section>\r\n\r\n            <section className=\"mt-8 space-y-6\">\r\n                {scheduleOrder.map((k) => (\r\n                    <DayCard key={k} lift={k} day={state.days[k]} tm={state.tm_by_lift[k]} meta={state.meta} />\r\n                ))}\r\n            </section>\r\n\r\n            <FooterActions\r\n                onBack={() => navigate(-1)}\r\n                onStartCycle={handleStartCycle}\r\n                startDisabled={!isReady}\r\n            />\r\n        </main>\r\n    );\r\n}\r\n\r\n/** ========= Header ========= **/\r\nfunction HeaderSummary({ meta }: { meta: ReviewState[\"meta\"] }) {\r\n    return (\r\n        <header className=\"mb-4\">\r\n            <h1 className=\"text-2xl font-semibold\">Final Review — 5/3/1 Plan</h1>\r\n            <div className=\"mt-3 flex flex-wrap gap-2\">\r\n                <Badge>Option: {meta.weekly_option === \"opt1\" ? \"1 (65/75/85 ▶︎ 95)\" : \"2 (75/80/85 ▶︎ 95)\"}</Badge>\r\n                <Badge>AMRAP: On (Deload Off)</Badge>\r\n                <Badge>Warm‑up: 40/50/60</Badge>\r\n                <Badge>Units/Rounding: {meta.units}, {meta.rounding.mode} ±{meta.rounding.step}</Badge>\r\n                <Badge>Deadlift: {meta.deadlift_rep_style === \"dead_stop\" ? \"Dead‑stop\" : \"Touch‑and‑go\"}</Badge>\r\n                <Badge>Schedule: 4‑day</Badge>\r\n                <Badge>Next Cycle TM: +{meta.progression.upper_inc} / +{meta.progression.lower_inc}</Badge>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\n/** ========= TM Table ========= **/\r\nfunction TMTable({ tmByLift }: { tmByLift: Record<LiftKey, number> }) {\r\n    return (\r\n        <div className=\"rounded-2xl border border-gray-700 bg-gray-800/70 p-6 shadow-sm backdrop-blur\">\r\n            <h2 className=\"mb-3 text-lg font-medium text-white\">Training Maxes (90% of 1RM)</h2>\r\n            <div className=\"grid grid-cols-1 gap-2 text-sm md:grid-cols-4\">\r\n                {([\"press\", \"bench\", \"squat\", \"deadlift\"] as LiftKey[]).map((k) => (\r\n                    <div key={k} className=\"flex items-center justify-between rounded-lg border border-gray-700/70 bg-gray-900/60 p-3\">\r\n                        <span className=\"font-medium text-gray-200\">{LIFT_LABEL[k]}</span>\r\n                        <span className=\"tabular-nums text-gray-100\">{tmByLift[k]}{/* units label kept minimal */}</span>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <p className=\"mt-3 text-xs text-gray-400\">\r\n                All working percentages are based on <strong className=\"text-gray-200\">Training Max (TM)</strong>, not true 1RM.\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\n/** ========= Day Card (collapsible) ========= **/\r\nfunction DayCard({\r\n    lift, day, tm, meta,\r\n}: { lift: LiftKey; day: DayPlan; tm: number; meta: ReviewState[\"meta\"] }) {\r\n\r\n    const rounding = meta.rounding;\r\n    const computedWarmup = day.warmup.map(w => ({\r\n        ...w, load_rounded: loadPct(tm, w.pct_of_tm, rounding.step, rounding.mode),\r\n    }));\r\n\r\n    // simple tabs\r\n    type WK = \"w1\" | \"w2\" | \"w3\" | \"w4_deload\";\r\n    const [wk, setWk] = useState<WK>(\"w1\");\r\n\r\n    const weeksArr: { key: WK; label: string }[] = [\r\n        { key: \"w1\", label: \"Week 1\" },\r\n        { key: \"w2\", label: \"Week 2\" },\r\n        { key: \"w3\", label: \"Week 3\" },\r\n        { key: \"w4_deload\", label: \"Deload\" },\r\n    ];\r\n\r\n    const computedWeek = useMemo(() => {\r\n        const raw = day.weeks[wk];\r\n        return {\r\n            sets: raw.sets.map(s => ({\r\n                ...s,\r\n                load_rounded: loadPct(tm, s.pct_of_tm, rounding.step, rounding.mode),\r\n            })),\r\n        };\r\n    }, [wk, day.weeks, tm, rounding]);\r\n\r\n    const supplementalLoad = day.supplemental?.pct_of_tm\r\n        ? loadPct(tm, day.supplemental.pct_of_tm, rounding.step, rounding.mode)\r\n        : day.supplemental?.load_rounded ?? null;\r\n\r\n    const tonnage = useMemo(() => {\r\n        const main = computedWeek.sets.reduce((sum, s, i) => {\r\n            // tonnage uses required reps (5/3/1), AMRAP extras are not assumed.\r\n            const r = s.reps.includes(\"+\") ? parseInt(s.reps) : parseInt(s.reps);\r\n            return sum + r * s.load_rounded;\r\n        }, 0);\r\n        const supp = supplementalLoad && day.supplemental?.sets && day.supplemental?.reps\r\n            ? supplementalLoad * day.supplemental.sets * day.supplemental.reps\r\n            : 0;\r\n        return { main, supplemental: supp, total: main + supp };\r\n    }, [computedWeek, supplementalLoad, day.supplemental]);\r\n\r\n    return (\r\n        <details className=\"group rounded-2xl border border-gray-700 bg-gray-800/70 p-6 shadow-sm backdrop-blur\" open>\r\n            <summary className=\"flex cursor-pointer list-none items-center justify-between\">\r\n                <h3 className=\"text-lg font-semibold text-gray-100\">Day — {LIFT_LABEL[lift]}</h3>\r\n                <span className=\"text-xs text-gray-400\">TM {tm}</span>\r\n            </summary>\r\n\r\n            {/* Warm-ups */}\r\n            <div className=\"mt-4\">\r\n                <h4 className=\"mb-2 text-sm font-medium text-gray-200\">Warm‑up (40/50/60 × 5/5/3)</h4>\r\n                <div className=\"overflow-x-auto rounded border border-gray-700\">\r\n                    <table className=\"w-full text-sm\">\r\n                        <thead className=\"bg-gray-800 text-gray-300\">\r\n                            <tr>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">Set</th>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">% TM</th>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">Reps</th>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">Load</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {computedWarmup.map((w, idx) => (\r\n                                <tr key={idx} className={`border-t border-gray-700 ${idx % 2 ? 'bg-gray-900/80' : 'bg-gray-900'}`}>\r\n                                    <td className=\"py-1 px-2 text-gray-200\">{idx + 1}</td>\r\n                                    <td className=\"py-1 px-2 text-gray-300\">{Math.round(w.pct_of_tm * 100)}%</td>\r\n                                    <td className=\"py-1 px-2 text-gray-300\">{w.reps}</td>\r\n                                    <td className=\"py-1 px-2 tabular-nums text-gray-100\">{w.load_rounded}{meta.units}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Work */}\r\n            <div className=\"mt-5\">\r\n                <div className=\"mb-2 flex gap-2\">\r\n                    {weeksArr.map(t => (\r\n                        <button\r\n                            key={t.key}\r\n                            onClick={() => setWk(t.key)}\r\n                            className={`rounded-full border px-3 py-1 text-xs transition-colors ${wk === t.key ? \"bg-red-600 text-white border-red-500\" : \"bg-gray-900/60 border-gray-700 text-gray-300 hover:bg-gray-900\"}`}\r\n                        >\r\n                            {t.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"overflow-x-auto rounded border border-gray-700\">\r\n                    <table className=\"w-full text-sm\">\r\n                        <thead className=\"bg-gray-800 text-gray-300\">\r\n                            <tr>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">Set</th>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">% TM</th>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">Reps</th>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">Note</th>\r\n                                <th className=\"py-1.5 px-2 text-left font-medium\">Load</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {computedWeek.sets.map((s, idx) => (\r\n                                <tr key={idx} className={`border-t border-gray-700 ${idx % 2 ? 'bg-gray-900/80' : 'bg-gray-900'}`}>\r\n                                    <td className=\"py-1 px-2 text-gray-200\">{s.set}</td>\r\n                                    <td className=\"py-1 px-2 text-gray-300\">{Math.round(s.pct_of_tm * 100)}%</td>\r\n                                    <td className=\"py-1 px-2 text-gray-300\">{s.reps}</td>\r\n                                    <td className=\"py-1 px-2\">{s.amrap ? <span className=\"rounded-full bg-amber-600/30 border border-amber-500/40 text-amber-200 px-2 py-0.5 text-[11px] font-medium tracking-wide\">AMRAP</span> : <span className=\"text-gray-500\">—</span>}</td>\r\n                                    <td className=\"py-1 px-2 tabular-nums text-gray-100\">{s.load_rounded}{meta.units}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Supplemental */}\r\n            <div className=\"mt-5\">\r\n                <h4 className=\"mb-1 text-sm font-medium\">Supplemental</h4>\r\n                {!day.supplemental || day.supplemental.mode === null ? (\r\n                    <p className=\"text-sm text-gray-500\">No supplemental today (Jack Shit).</p>\r\n                ) : day.supplemental.mode === \"bbb\" ? (\r\n                    <p className=\"text-sm\">\r\n                        BBB — <span className=\"font-medium\">{day.supplemental.sets}×{day.supplemental.reps}</span> @{\" \"}\r\n                        {day.supplemental.pct_of_tm ? `${Math.round(day.supplemental.pct_of_tm * 100)}% TM` : \"\"}{\" \"}\r\n                        {supplementalLoad ? <span className=\"tabular-nums\">→ {supplementalLoad}{meta.units}</span> : null}\r\n                    </p>\r\n                ) : (\r\n                    <p className=\"text-sm\">\r\n                        {day.supplemental.mode.toUpperCase()} — {day.supplemental.sets}×{day.supplemental.reps} @ {Math.round((day.supplemental.pct_of_tm ?? 0) * 100)}%\r\n                    </p>\r\n                )}\r\n            </div>\r\n\r\n            {/* Assistance */}\r\n            <div className=\"mt-5\">\r\n                <h4 className=\"mb-1 text-sm font-medium\">Assistance</h4>\r\n                <ul className=\"list-disc pl-5 text-sm\">\r\n                    {day.assistance.map((a, i) => (\r\n                        <li key={i}>\r\n                            <span className=\"font-medium\">{a.name}</span>{\" \"}\r\n                            {a.bodyweight && a.target_min_reps ? (<>— ≥{a.target_min_reps} reps (bodyweight)</>) :\r\n                                a.sets && a.reps ? (<>— {a.sets}×{a.reps}</>) : null}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n\r\n            {/* Conditioning */}\r\n            <div className=\"mt-4 text-sm text-gray-300\">\r\n                <strong>Conditioning:</strong> {day.conditioning_note}\r\n            </div>\r\n\r\n            {/* Tonnage */}\r\n            <div className=\"mt-4 text-sm\">\r\n                <span className=\"mr-3\">Tonnage — </span>\r\n                <span className=\"mr-2\">Main: <span className=\"tabular-nums\">{tonnage.main}</span></span>\r\n                <span className=\"mr-2\">Supplemental: <span className=\"tabular-nums\">{tonnage.supplemental}</span></span>\r\n                <span>Total: <span className=\"tabular-nums\">{tonnage.total}</span></span>\r\n            </div>\r\n        </details>\r\n    );\r\n}\r\n\r\n/** ========= Small UI bits ========= **/\r\nfunction Badge({ children }: { children: React.ReactNode }) {\r\n    return <span className=\"inline-flex items-center rounded-full border px-2 py-1 text-xs\">{children}</span>;\r\n}\r\n\r\nfunction FooterActions({ onBack, onStartCycle, startDisabled }: { onBack: () => void; onStartCycle: () => void; startDisabled?: boolean }) {\r\n    return (\r\n        <footer className=\"sticky bottom-0 mt-10 flex justify-between gap-3 border-t border-gray-700 bg-gray-900/80 p-4 backdrop-blur\">\r\n            <button onClick={onBack} className=\"rounded-lg border px-4 py-2\">Back</button>\r\n            <button\r\n                onClick={onStartCycle}\r\n                disabled={startDisabled}\r\n                className={`rounded-lg px-4 py-2 font-medium text-white ${startDisabled ? 'bg-red-300 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700'}`}\r\n            >\r\n                Start Cycle\r\n            </button>\r\n        </footer>\r\n    );\r\n}\r\n"],"names":["KEY","startCycle","reviewState","inc","plan","_b","_a","e","roundToStep","n","step","mode","q","loadPct","tm","pct","LIFT_LABEL","useReviewStateFromProgram","state","useProgramV2","tms","_d","_c","_f","_e","_h","_g","weekly_option","_i","roundingModeMap","units","roundingMode","meta","_j","_k","_l","_m","scheme","repPatterns","buildWeeks","mk","weekIdx","i","buildDay","lift","days","BuilderReviewPage","navigate","useNavigate","scheduleOrder","isReady","handleStartCycle","persistStartCycle","jsxs","jsx","HeaderSummary","TMTable","k","DayCard","FooterActions","Badge","tmByLift","day","rounding","computedWarmup","w","wk","setWk","useState","weeksArr","computedWeek","useMemo","s","supplementalLoad","tonnage","main","sum","r","supp","idx","a","Fragment","children","onBack","onStartCycle","startDisabled"],"mappings":"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"}